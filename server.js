/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/server/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/server/index.js":
/*!*****************************!*\
  !*** ./src/server/index.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _express = __webpack_require__(/*! express */ \"express\");\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _cors = __webpack_require__(/*! cors */ \"cors\");\n\nvar _cors2 = _interopRequireDefault(_cors);\n\nvar _react = __webpack_require__(/*! react */ \"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _server = __webpack_require__(/*! react-dom/server */ \"react-dom/server\");\n\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n\nvar _serializeJavascript = __webpack_require__(/*! serialize-javascript */ \"serialize-javascript\");\n\nvar _serializeJavascript2 = _interopRequireDefault(_serializeJavascript);\n\nvar _reactCookie = __webpack_require__(/*! react-cookie */ \"react-cookie\");\n\nvar _server2 = __webpack_require__(/*! react-meta-tags/server */ \"react-meta-tags/server\");\n\nvar _server3 = _interopRequireDefault(_server2);\n\nvar _reactMetaTags = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n\nvar _app = __webpack_require__(/*! ../shared/app */ \"./src/shared/app.js\");\n\nvar _app2 = _interopRequireDefault(_app);\n\nvar _routes = __webpack_require__(/*! ../shared/routes */ \"./src/shared/routes.ts\");\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = (0, _express2.default)();\nvar cookiesMiddleware = __webpack_require__(/*! universal-cookie-express */ \"universal-cookie-express\");\n\napp.use((0, _cors2.default)());\napp.use(cookiesMiddleware());\napp.use(_express2.default.static(\"build\"));\n\napp.get(\"*\", function (req, res, next) {\n  var metaTagsInstance = (0, _server3.default)();\n  global.myOrigin = req.headers.host === 'localhost:3000' ? \"http://localhost:3000\" : \"https://\" + req.headers.host;\n  var activeRoute = _routes2.default.find(function (route) {\n    return (0, _reactRouterDom.matchPath)(req.url, route);\n  }) || {};\n\n  var accessToken = req.universalCookies.get('access_token');\n  var promise = activeRoute.fetchInitialData ? activeRoute.fetchInitialData(accessToken, req.path) : Promise.resolve();\n\n  promise.then(function (data) {\n    var context = { data: data };\n    var markup = (0, _server.renderToString)(_react2.default.createElement(\n      _reactCookie.CookiesProvider,\n      { cookies: req.universalCookies },\n      _react2.default.createElement(\n        _reactMetaTags.MetaTagsContext,\n        { extract: metaTagsInstance.extract },\n        _react2.default.createElement(\n          _reactRouterDom.StaticRouter,\n          { location: req.url, context: context },\n          _react2.default.createElement(_app2.default, null)\n        )\n      )\n    ));\n    var meta = metaTagsInstance.renderToString();\n\n    var response = \"\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <meta charset=\\\"utf-8\\\">\\n          \" + meta + \"\\n          <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n          <link rel=\\\"icon\\\" href=\\\"/favicon.ico\\\">\\n          <meta name=\\\"author\\\" content=\\\"Jostein \\xD8ygarden\\\">\\n          <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"/css/bootstrap.min.css\\\">\\n          <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"/css/react-input-calendar.css\\\">\\n          <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"/css/image-gallery.css\\\">\\n          <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"/css/react-bootstrap-table.css\\\">\\n          <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"/css/buldreinfo.css\\\">\\n          <script src=\\\"/js/bundle.js\\\" defer></script>\\n          <script>window.__INITIAL_METADATA__ = \" + (0, _serializeJavascript2.default)(data ? data.metadata : null) + \"</script>\\n          <script>window.__INITIAL_DATA__ = \" + (0, _serializeJavascript2.default)(data) + \"</script>\\n        </head>\\n\\n        <body>\\n          <div id=\\\"app\\\">\" + markup + \"</div>\\n        </body>\\n      </html>\\n    \";\n    if (activeRoute.status) {\n      res.status(activeRoute.status).send(response);\n    } else {\n      res.send(response);\n    }\n  }).catch(function (error) {\n    return console.warn(error);\n  });\n});\n\napp.listen(3000, function () {\n  console.log(\"Server is listening on port: 3000\");\n});\n\n//# sourceURL=webpack:///./src/server/index.js?");

/***/ }),

/***/ "./src/shared/api.ts":
/*!***************************!*\
  !*** ./src/shared/api.ts ***!
  \***************************/
/*! exports provided: getImageUrl, convertFromDateToString, deleteMedia, getArea, getAreaEdit, getBrowse, getFinder, getFrontpage, getMeta, getProblem, getProblemEdit, getSector, getSectorEdit, getSvgEdit, getUser, getUserSearch, postArea, postComment, postProblem, postProblemMedia, postProblemSvg, postSearch, postSector, postTicks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImageUrl\", function() { return getImageUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertFromDateToString\", function() { return convertFromDateToString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteMedia\", function() { return deleteMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getArea\", function() { return getArea; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAreaEdit\", function() { return getAreaEdit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBrowse\", function() { return getBrowse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFinder\", function() { return getFinder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFrontpage\", function() { return getFrontpage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMeta\", function() { return getMeta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProblem\", function() { return getProblem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProblemEdit\", function() { return getProblemEdit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSector\", function() { return getSector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSectorEdit\", function() { return getSectorEdit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSvgEdit\", function() { return getSvgEdit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUser\", function() { return getUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserSearch\", function() { return getUserSearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postArea\", function() { return postArea; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postComment\", function() { return postComment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postProblem\", function() { return postProblem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postProblemMedia\", function() { return postProblemMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postProblemSvg\", function() { return postProblemSvg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postSearch\", function() { return postSearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postSector\", function() { return postSector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postTicks\", function() { return postTicks; });\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! isomorphic-fetch */ \"isomorphic-fetch\");\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/svg */ \"./src/shared/utils/svg.tsx\");\n\r\n__webpack_require__(/*! es6-promise */ \"es6-promise\").polyfill();\r\n\r\nfunction getUrl(urlSuffix) {\r\n    var uri =  false ? undefined : global.myOrigin;\r\n    if (uri === 'http://localhost:3000') {\r\n        uri = 'https://buldreinfo.com';\r\n    }\r\n    return encodeURI(`${uri || \"\"}/com.buldreinfo.jersey.jaxb/v2${urlSuffix}`);\r\n}\r\nfunction makeAuthenticatedRequest(accessToken, urlSuffix, opts) {\r\n    opts = opts || {};\r\n    opts.headers = opts.headers || {};\r\n    opts.mode = 'cors';\r\n    if (accessToken) {\r\n        opts.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(getUrl(urlSuffix), opts);\r\n}\r\nfunction getImageUrl(id, maxHeight) {\r\n    if (maxHeight) {\r\n        return getUrl(`/images?id=${id}&targetHeight=${maxHeight}`);\r\n    }\r\n    return getUrl(`/images?id=${id}`);\r\n}\r\nfunction convertFromDateToString(date) {\r\n    var d = date.getDate();\r\n    var m = date.getMonth() + 1;\r\n    var y = date.getFullYear();\r\n    return y + '-' + (m <= 9 ? '0' + m : m) + '-' + (d <= 9 ? '0' + d : d);\r\n}\r\nfunction deleteMedia(accessToken, id) {\r\n    return makeAuthenticatedRequest(accessToken, `/media?id=${id}`, {\r\n        method: 'DELETE'\r\n    });\r\n}\r\nfunction getArea(accessToken, id) {\r\n    return makeAuthenticatedRequest(accessToken, `/areas?id=${id}`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getAreaEdit(accessToken, id) {\r\n    if (id == -1) {\r\n        return getMeta(accessToken)\r\n            .then((res) => {\r\n            return { id: -1, visibility: 0, name: '', comment: '', lat: 0, lng: 0, newMedia: [], metadata: { title: 'New area | ' + res.metadata.title, defaultZoom: res.metadata.defaultZoom, defaultCenter: res.metadata.defaultCenter, isAdmin: res.metadata.isAdmin, isSuperAdmin: res.metadata.isSuperAdmin } };\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            return null;\r\n        });\r\n    }\r\n    else {\r\n        return makeAuthenticatedRequest(accessToken, `/areas?id=${id}`, null)\r\n            .then((data) => data.json())\r\n            .then((res) => {\r\n            return { id: res.id, visibility: res.visibility, name: res.name, comment: res.comment, lat: res.lat, lng: res.lng, newMedia: [], metadata: res.metadata };\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            return null;\r\n        });\r\n    }\r\n}\r\nfunction getBrowse(accessToken) {\r\n    return makeAuthenticatedRequest(accessToken, `/browse`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getFinder(accessToken, grade) {\r\n    return makeAuthenticatedRequest(accessToken, `/finder?grade=${grade}`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getFrontpage(accessToken) {\r\n    return makeAuthenticatedRequest(accessToken, `/frontpage`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getMeta(accessToken) {\r\n    return makeAuthenticatedRequest(accessToken, `/meta`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getProblem(accessToken, id) {\r\n    return makeAuthenticatedRequest(accessToken, `/problems?id=${id}`, null)\r\n        .then((data) => data.json())\r\n        .then((json) => json[0])\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getProblemEdit(accessToken, id) {\r\n    if (id === -1) {\r\n        return getMeta(accessToken)\r\n            .then((res) => {\r\n            return {\r\n                id: -1,\r\n                visibility: 0,\r\n                name: '',\r\n                comment: '',\r\n                originalGrade: 'n/a',\r\n                fa: [],\r\n                faDate: convertFromDateToString(new Date()),\r\n                nr: 0,\r\n                lat: 0,\r\n                lng: 0,\r\n                newMedia: [],\r\n                metadata: {\r\n                    title: 'New problem | ' + res.metadata.title,\r\n                    defaultZoom: res.metadata.defaultZoom,\r\n                    defaultCenter: res.metadata.defaultCenter,\r\n                    grades: res.metadata.grades,\r\n                    types: res.metadata.types,\r\n                    isAdmin: res.metadata.isAdmin,\r\n                    isSuperAdmin: res.metadata.isSuperAdmin,\r\n                    isBouldering: res.metadata.isBouldering\r\n                }\r\n            };\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            return null;\r\n        });\r\n    }\r\n    else {\r\n        return makeAuthenticatedRequest(accessToken, `/problems?id=${id}`, null)\r\n            .then((data) => data.json())\r\n            .then((json) => json[0])\r\n            .then((res) => {\r\n            return {\r\n                id: res.id,\r\n                visibility: res.visibility,\r\n                name: res.name,\r\n                comment: res.comment,\r\n                originalGrade: res.originalGrade,\r\n                fa: res.fa,\r\n                faDate: res.faDate,\r\n                nr: res.nr,\r\n                typeId: res.t.id,\r\n                lat: res.lat,\r\n                lng: res.lng,\r\n                sections: res.sections,\r\n                metadata: res.metadata,\r\n                newMedia: []\r\n            };\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            return null;\r\n        });\r\n    }\r\n}\r\nfunction getSector(accessToken, id) {\r\n    return makeAuthenticatedRequest(accessToken, `/sectors?id=${id}`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getSectorEdit(accessToken, id) {\r\n    if (id === -1) {\r\n        return getMeta(accessToken)\r\n            .then((res) => {\r\n            return {\r\n                id: -1,\r\n                visibility: 0,\r\n                name: '',\r\n                comment: '',\r\n                lat: 0,\r\n                lng: 0,\r\n                newMedia: [],\r\n                metadata: { title: 'New sector | ' + res.metadata.title, defaultZoom: res.metadata.defaultZoom, defaultCenter: res.metadata.defaultCenter, isAdmin: res.metadata.isAdmin, isSuperAdmin: res.metadata.isSuperAdmin }\r\n            };\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            return null;\r\n        });\r\n    }\r\n    else {\r\n        return makeAuthenticatedRequest(accessToken, `/sectors?id=${id}`, null)\r\n            .then((data) => data.json())\r\n            .then((res) => {\r\n            return { id: res.id, visibility: res.visibility, name: res.name, comment: res.comment, lat: res.lat, lng: res.lng, polygonCoords: res.polygonCoords, newMedia: [], metadata: res.metadata };\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            return null;\r\n        });\r\n    }\r\n}\r\nfunction getSvgEdit(accessToken, problemIdMediaId) {\r\n    const parts = problemIdMediaId.split(\"-\");\r\n    const problemId = parts[0];\r\n    const mediaId = parts[1];\r\n    return makeAuthenticatedRequest(accessToken, `/problems?id=${problemId}`, null)\r\n        .then((data) => data.json())\r\n        .then((json) => json[0])\r\n        .then((res) => {\r\n        const m = res.media.filter(x => x.id == mediaId)[0];\r\n        const readOnlySvgs = [];\r\n        var svgId = 0;\r\n        var points = [];\r\n        if (m.svgs) {\r\n            for (let svg of m.svgs) {\r\n                if (svg.problemId === res.id) {\r\n                    svgId = svg.id;\r\n                    points = Object(_utils_svg__WEBPACK_IMPORTED_MODULE_1__[\"parsePath\"])(svg.path);\r\n                }\r\n                else {\r\n                    readOnlySvgs.push({ nr: svg.nr, hasAnchor: svg.hasAnchor, path: svg.path });\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            mediaId: m.id,\r\n            nr: res.nr,\r\n            w: m.width,\r\n            h: m.height,\r\n            ctrl: false,\r\n            svgId: svgId,\r\n            points: points,\r\n            readOnlySvgs: readOnlySvgs,\r\n            activePoint: 0,\r\n            draggedPoint: false,\r\n            draggedCubic: false,\r\n            hasAnchor: true,\r\n            areaId: res.areaId,\r\n            areaName: res.areaName,\r\n            areaVisibility: res.areaVisibility,\r\n            sectorId: res.sectorId,\r\n            sectorName: res.sectorName,\r\n            sectorVisibility: res.sectorVisibility,\r\n            id: res.id,\r\n            name: res.name,\r\n            grade: res.grade,\r\n            visibility: res.visibility,\r\n            metadata: res.metadata\r\n        };\r\n    })\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getUser(accessToken, id) {\r\n    return makeAuthenticatedRequest(accessToken, `/users?id=${id}`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction getUserSearch(accessToken, value) {\r\n    return makeAuthenticatedRequest(accessToken, `/users/search?value=${value}`, null)\r\n        .then((data) => data.json())\r\n        .catch((error) => {\r\n        console.warn(error);\r\n        return null;\r\n    });\r\n}\r\nfunction postArea(accessToken, id, visibility, name, comment, lat, lng, media) {\r\n    const formData = new FormData();\r\n    const newMedia = media.map(m => { return { name: m.file.name.replace(/[^-a-z0-9.]/ig, '_'), photographer: m.photographer, inPhoto: m.inPhoto }; });\r\n    formData.append('json', JSON.stringify({ id, visibility, name, comment, lat, lng, newMedia }));\r\n    media.forEach(m => formData.append(m.file.name.replace(/[^-a-z0-9.]/ig, '_'), m.file));\r\n    return makeAuthenticatedRequest(accessToken, `/areas`, {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    }).then((data) => data.json());\r\n}\r\nfunction postComment(accessToken, idProblem, comment) {\r\n    return makeAuthenticatedRequest(accessToken, `/comments`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ idProblem, comment }),\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    });\r\n}\r\nfunction postProblem(accessToken, sectorId, id, visibility, name, comment, originalGrade, fa, faDate, nr, t, lat, lng, sections, media) {\r\n    const formData = new FormData();\r\n    const newMedia = media.map(m => { return { name: m.file.name.replace(/[^-a-z0-9.]/ig, '_'), photographer: m.photographer, inPhoto: m.inPhoto }; });\r\n    formData.append('json', JSON.stringify({ sectorId, id, visibility, name, comment, originalGrade, fa, faDate, nr, t, lat, lng, sections, newMedia }));\r\n    media.forEach(m => formData.append(m.file.name.replace(/[^-a-z0-9.]/ig, '_'), m.file));\r\n    return makeAuthenticatedRequest(accessToken, `/problems`, {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    }).then((data) => data.json());\r\n}\r\nfunction postProblemMedia(accessToken, id, media) {\r\n    const formData = new FormData();\r\n    const newMedia = media.map(m => { return { name: m.file.name.replace(/[^-a-z0-9.]/ig, '_'), photographer: m.photographer, inPhoto: m.inPhoto }; });\r\n    formData.append('json', JSON.stringify({ id, newMedia }));\r\n    media.forEach(m => formData.append(m.file.name.replace(/[^-a-z0-9.]/ig, '_'), m.file));\r\n    return makeAuthenticatedRequest(accessToken, `/problems/media`, {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    }).then((data) => data.json());\r\n}\r\nfunction postProblemSvg(accessToken, problemId, mediaId, del, id, path, hasAnchor) {\r\n    return makeAuthenticatedRequest(accessToken, `/problems/svg?problemId=${problemId}&mediaId=${mediaId}`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ delete: del, id, path, hasAnchor }),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n        }\r\n    });\r\n}\r\nfunction postSearch(accessToken, value) {\r\n    return makeAuthenticatedRequest(accessToken, `/search`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ value }),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n        }\r\n    }).then((data) => data.json());\r\n}\r\nfunction postSector(accessToken, areaId, id, visibility, name, comment, lat, lng, polygonCoords, media) {\r\n    const formData = new FormData();\r\n    const newMedia = media.map(m => { return { name: m.file.name.replace(/[^-a-z0-9.]/ig, '_'), photographer: m.photographer, inPhoto: m.inPhoto }; });\r\n    formData.append('json', JSON.stringify({ areaId, id, visibility, name, comment, lat, lng, polygonCoords, newMedia }));\r\n    media.forEach(m => formData.append(m.file.name.replace(/[^-a-z0-9.]/ig, '_'), m.file));\r\n    return makeAuthenticatedRequest(accessToken, `/sectors`, {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    }).then((data) => data.json());\r\n}\r\nfunction postTicks(accessToken, del, id, idProblem, comment, date, stars, grade) {\r\n    return makeAuthenticatedRequest(accessToken, `/ticks`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ delete: del, id, idProblem, comment, date, stars, grade }),\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/api.ts?");

/***/ }),

/***/ "./src/shared/app.js":
/*!***************************!*\
  !*** ./src/shared/app.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ \"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(/*! react-dom */ \"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar _reactCookie = __webpack_require__(/*! react-cookie */ \"react-cookie\");\n\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n\nvar _routes = __webpack_require__(/*! ./routes */ \"./src/shared/routes.ts\");\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _navigation = __webpack_require__(/*! ./components/navigation */ \"./src/shared/components/navigation.tsx\");\n\nvar _navigation2 = _interopRequireDefault(_navigation);\n\nvar _reactGa = __webpack_require__(/*! react-ga */ \"react-ga\");\n\nvar _reactGa2 = _interopRequireDefault(_reactGa);\n\nvar _auth = __webpack_require__(/*! ./utils/auth */ \"./src/shared/utils/auth.ts\");\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _fontawesomeSvgCore = __webpack_require__(/*! @fortawesome/fontawesome-svg-core */ \"@fortawesome/fontawesome-svg-core\");\n\nvar _freeSolidSvgIcons = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ \"@fortawesome/free-solid-svg-icons\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Used for navbar hack\n\n\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faCamera);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faCheck);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faComment);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faEdit);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faHashtag);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faImage);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faLock);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faMapMarker);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faPlane);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faPlusSquare);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faSpinner);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faStar);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faStarHalf);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faTrash);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faUserSecret);\n_fontawesomeSvgCore.library.add(_freeSolidSvgIcons.faVideo);\n\nif (false) {}\n\nfunction Analytics(props) {\n  if (false) {}\n  return null;\n};\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    _classCallCheck(this, App);\n\n    var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n\n    var cookies = props.cookies;\n\n    _this.auth = new _auth2.default(cookies);\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Temp fix to collapse nav-button on devices: https://github.com/lefant/react-bootstrap/commit/c68b46baea + https://github.com/react-bootstrap/react-router-bootstrap/issues/112#issuecomment-142599003\n      var navBar = _reactDom2.default.findDOMNode(this).querySelector('nav.navbar');\n      var collapsibleNav = navBar.querySelector('div.navbar-collapse');\n      var btnToggle = navBar.querySelector('button.navbar-toggle');\n\n      navBar.addEventListener('click', function (evt) {\n        if (evt.target.tagName !== 'A' || evt.target.classList.contains('dropdown-toggle') || !collapsibleNav.classList.contains('in')) {\n          return;\n        }\n        btnToggle.click();\n      }, false);\n\n      this.auth.silentAuthentication();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var isAuthenticated = this.auth.isAuthenticated();\n      return _react2.default.createElement(\n        _reactRouterDom.Switch,\n        null,\n        _routes2.default.map(function (_ref) {\n          var path = _ref.path,\n              exact = _ref.exact,\n              Component = _ref.component,\n              rest = _objectWithoutProperties(_ref, ['path', 'exact', 'component']);\n\n          return _react2.default.createElement(_reactRouterDom.Route, { key: path, path: path, exact: exact, render: function render(props) {\n              return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(Analytics, props),\n                _react2.default.createElement(_navigation2.default, _extends({ isAuthenticated: isAuthenticated, auth: _this2.auth }, props)),\n                _react2.default.createElement(\n                  'div',\n                  { className: 'container' },\n                  _react2.default.createElement(Component, _extends({ isAuthenticated: isAuthenticated, auth: _this2.auth }, props, rest))\n                ),\n                _react2.default.createElement(\n                  'footer',\n                  { style: { paddingTop: '10px', marginTop: '40px', color: '#777', textAlign: 'center', borderTop: '1px solid #e5e5e5' } },\n                  'Buldreinfo & Bratte Linjer \\xA9 2006-2018'\n                )\n              );\n            } });\n        })\n      );\n    }\n  }]);\n\n  return App;\n}(_react.Component);\n\nApp.propTypes = {\n  cookies: (0, _propTypes.instanceOf)(_reactCookie.Cookies).isRequired\n};\nexports.default = (0, _reactCookie.withCookies)(App);\n\n//# sourceURL=webpack:///./src/shared/app.js?");

/***/ }),

/***/ "./src/shared/components/area-edit.tsx":
/*!*********************************************!*\
  !*** ./src/shared/components/area-edit.tsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/image-upload/image-upload */ \"./src/shared/components/common/image-upload/image-upload.tsx\");\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-google-maps */ \"react-google-maps\");\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_google_maps__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst GettingStartedGoogleMap = Object(react_google_maps__WEBPACK_IMPORTED_MODULE_5__[\"withScriptjs\"])(Object(react_google_maps__WEBPACK_IMPORTED_MODULE_5__[\"withGoogleMap\"])((props) => (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_5__[\"GoogleMap\"], { defaultZoom: props.defaultZoom, defaultCenter: props.defaultCenter, defaultMapTypeId: google.maps.MapTypeId.TERRAIN, onClick: props.onClick.bind(undefined) }, props.markers))));\r\nclass AreaEdit extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.areaId);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.areaId !== this.props.match.params.areaId) {\r\n            this.refresh(this.props.match.params.areaId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), id).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    onNameChanged(e) {\r\n        const { data } = this.state;\r\n        data.name = e.target.value;\r\n        this.setState({ data });\r\n    }\r\n    onVisibilityChanged(visibility, e) {\r\n        const { data } = this.state;\r\n        data.visibility = visibility;\r\n        this.setState({ data });\r\n    }\r\n    onCommentChanged(e) {\r\n        const { data } = this.state;\r\n        data.comment = e.target.value;\r\n        this.setState({ data });\r\n    }\r\n    onNewMediaChanged(newMedia) {\r\n        const { data } = this.state;\r\n        data.newMedia = newMedia;\r\n        this.setState({ data });\r\n    }\r\n    save(event) {\r\n        event.preventDefault();\r\n        this.setState({ isSaving: true });\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_7__[\"postArea\"])(this.props.auth.getAccessToken(), this.state.data.id, this.state.data.visibility, this.state.data.name, this.state.data.comment, this.state.data.lat, this.state.data.lng, this.state.data.newMedia)\r\n            .then((response) => {\r\n            this.setState({ pushUrl: \"/area/\" + response.id });\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            this.setState({ error });\r\n        });\r\n    }\r\n    onMarkerClick(event) {\r\n        const { data } = this.state;\r\n        data.lat = event.latLng.lat();\r\n        data.lng = event.latLng.lng();\r\n        this.setState({ data });\r\n    }\r\n    onCancel() {\r\n        window.history.back();\r\n    }\r\n    render() {\r\n        if (this.state.error) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, this.state.error.toString());\r\n        }\r\n        else if (this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        else if (!this.props || !this.props.match || !this.props.match.params || !this.props.match.params.areaId) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Invalid action...\"));\r\n        }\r\n        else if (!this.state.data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        else if (!this.state.data.metadata.isAdmin) {\r\n            this.setState({ pushUrl: \"/login\", error: null });\r\n        }\r\n        var visibilityText = 'Visible for everyone';\r\n        if (this.state.data.visibility === 1) {\r\n            visibilityText = 'Only visible for administrators';\r\n        }\r\n        else if (this.state.data.visibility === 2) {\r\n            visibilityText = 'Only visible for super administrators';\r\n        }\r\n        const defaultCenter = this.props && this.props.location && this.props.location.query && this.props.location.query.lat && parseFloat(this.props.location.query.lat) > 0 ? { lat: parseFloat(this.props.location.query.lat), lng: parseFloat(this.props.location.query.lng) } : this.state.data.metadata.defaultCenter;\r\n        const defaultZoom = this.props && this.props.location && this.props.location.query && this.props.location.query.lat && parseFloat(this.props.location.query.lat) > 0 ? 8 : this.state.data.metadata.defaultZoom;\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, this.state.data.metadata.title)),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", { onSubmit: this.save.bind(this) },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsName\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Area name\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { type: \"text\", value: this.state.data.name, placeholder: \"Enter name\", onChange: this.onNameChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsComment\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Comment\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { style: { height: '100px' }, componentClass: \"textarea\", placeholder: \"Enter comment\", value: this.state.data.comment, onChange: this.onCommentChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsVisibility\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Visibility\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"DropdownButton\"], { title: visibilityText, id: \"bg-nested-dropdown\" },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"0\", onSelect: this.onVisibilityChanged.bind(this, 0) }, \"Visible for everyone\"),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"1\", onSelect: this.onVisibilityChanged.bind(this, 1) }, \"Only visible for administrators\"),\r\n                            this.state.data.metadata.isSuperAdmin && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"2\", onSelect: this.onVisibilityChanged.bind(this, 2) }, \"Only visible for super administrators\"))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsMedia\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { auth: this.props.auth, onMediaChanged: this.onNewMediaChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsMap\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Click to mark area center on map\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"section\", { style: { height: '600px' } },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GettingStartedGoogleMap, { googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCpaVd5518yMB-oiIyP5JnTVWMfrOv4sAI&v=3.exp\", loadingElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), containerElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), mapElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), defaultZoom: defaultZoom, defaultCenter: defaultCenter, onClick: this.onMarkerClick.bind(this), markers: this.state.data.lat != 0 && this.state.data.lng != 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_5__[\"Marker\"], { position: { lat: this.state.data.lat, lng: this.state.data.lng } }) : \"\" }))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ButtonGroup\"], null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsStyle: \"danger\", onClick: this.onCancel.bind(this) }, \"Cancel\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { type: \"submit\", bsStyle: \"success\", disabled: this.state.isSaving }, this.state.isSaving ? 'Saving...' : 'Save area'))))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (AreaEdit);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/area-edit.tsx?");

/***/ }),

/***/ "./src/shared/components/area.tsx":
/*!****************************************!*\
  !*** ./src/shared/components/area.tsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-bootstrap */ \"react-router-bootstrap\");\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_map_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/map/map */ \"./src/shared/components/common/map/map.tsx\");\n/* harmony import */ var _common_gallery_gallery__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/gallery/gallery */ \"./src/shared/components/common/gallery/gallery.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TableRow extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    render() {\r\n        var comment = \"\";\r\n        if (this.props.sector.comment) {\r\n            if (this.props.sector.comment.length > 100) {\r\n                const tooltip = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tooltip\"], { id: this.props.sector.id }, this.props.sector.comment));\r\n                comment = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"OverlayTrigger\"], { key: this.props.sector.id, placement: \"top\", overlay: tooltip },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, this.props.sector.comment.substring(0, 100) + \"...\"));\r\n            }\r\n            else {\r\n                comment = this.props.sector.comment;\r\n            }\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/sector/${this.props.sector.id}` }, this.props.sector.name),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: this.props.sector.visibility })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, comment),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.sector.numProblems)));\r\n    }\r\n}\r\nclass Area extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data, tabIndex: 1 };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.areaId);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.areaId !== this.props.match.params.areaId) {\r\n            this.refresh(this.props.match.params.areaId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), id).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    handleTabsSelection(key) {\r\n        this.setState({ tabIndex: key });\r\n    }\r\n    onRemoveMedia(idMediaToRemove) {\r\n        const allMedia = this.state.data.media.filter(m => m.id != idMediaToRemove);\r\n        this.setState({ media: allMedia });\r\n    }\r\n    render() {\r\n        if (!this.state.data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        const rows = this.state.data.sectors.map((sector, i) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TableRow, { sector: sector, key: i }));\r\n        });\r\n        const markers = this.state.data.sectors.filter(s => s.lat != 0 && s.lng != 0).map(s => {\r\n            return {\r\n                lat: s.lat,\r\n                lng: s.lng,\r\n                title: s.name,\r\n                icon: {\r\n                    url: 'https://maps.google.com/mapfiles/kml/shapes/parking_lot_maps.png',\r\n                    scaledSizeW: 32,\r\n                    scaledSizeH: 32\r\n                },\r\n                url: '/sector/' + s.id\r\n            };\r\n        });\r\n        const polygons = this.state.data.sectors.filter(s => s.polygonCoords).map(s => {\r\n            const triangleCoords = s.polygonCoords.split(\";\").map((p, i) => {\r\n                const latLng = p.split(\",\");\r\n                return { lat: parseFloat(latLng[0]), lng: parseFloat(latLng[1]) };\r\n            });\r\n            return {\r\n                triangleCoords: triangleCoords,\r\n                url: '/sector/' + s.id\r\n            };\r\n        });\r\n        const defaultCenter = this.state.data.lat && this.state.data.lat > 0 ? { lat: this.state.data.lat, lng: this.state.data.lng } : this.state.data.metadata.defaultCenter;\r\n        const defaultZoom = this.state.data.lat && this.state.data.lat > 0 ? 14 : this.state.data.metadata.defaultZoom;\r\n        const map = markers.length > 0 || polygons.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_map_map__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { markers: markers, polygons: polygons, defaultCenter: defaultCenter, defaultZoom: defaultZoom }) : null;\r\n        const gallery = this.state.data.media && this.state.data.media.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_gallery_gallery__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { auth: this.props.auth, isAdmin: this.state.data.metadata.isAdmin, alt: this.state.data.name, media: this.state.data.media, showThumbnails: this.state.data.media.length > 1, removeMedia: this.onRemoveMedia.bind(this) }) : null;\r\n        var topoContent = null;\r\n        if (map && gallery) {\r\n            topoContent = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tabs\"], { activeKey: this.state.tabIndex, animation: false, onSelect: this.handleTabsSelection.bind(this), id: \"area_tab\", unmountOnExit: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tab\"], { eventKey: 1, title: \"Topo\" }, this.state.tabIndex == 1 ? gallery : false),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tab\"], { eventKey: 2, title: \"Map\" }, this.state.tabIndex == 2 ? map : false)));\r\n        }\r\n        else if (map) {\r\n            topoContent = map;\r\n        }\r\n        else if (gallery) {\r\n            topoContent = gallery;\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                this.state.data.metadata.canonical && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"link\", { rel: \"canonical\", href: this.state.data.metadata.canonical }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"script\", { type: \"application/ld+json\", dangerouslySetInnerHTML: { __html: JSON.stringify(this.state.data.metadata.jsonLd) } }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, this.state.data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:url\", content: this.state.data.metadata.og.url }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:title\", content: this.state.data.metadata.title }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image\", content: this.state.data.metadata.og.image }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:width\", content: this.state.data.metadata.og.imageWidth }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:height\", content: this.state.data.metadata.og.imageHeight })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Breadcrumb\"], null,\r\n                this.state.data.metadata.isAdmin ?\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: 'right' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ButtonGroup\"], null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tooltip\"], { id: \"Add sector\" }, \"Add sector\") },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_4__[\"LinkContainer\"], { to: { pathname: `/sector/edit/-1`, query: { idArea: this.state.data.id, lat: this.state.data.lat, lng: this.state.data.lng } } },\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\" },\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"plus-square\", inverse: true })))),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tooltip\"], { id: this.state.data.id }, \"Edit area\") },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_4__[\"LinkContainer\"], { to: { pathname: `/area/edit/${this.state.data.id}`, query: { lat: this.state.data.lat, lng: this.state.data.lng } } },\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\" },\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"edit\", inverse: true })))))) :\r\n                    null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/browse` }, \"Browse\"),\r\n                \" / \",\r\n                this.state.data.name,\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: this.state.data.visibility })),\r\n            topoContent,\r\n            this.state.data.comment ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { dangerouslySetInnerHTML: { __html: this.state.data.comment } })) : null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Table\"], { striped: true, condensed: true, hover: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Name\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Description\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"#problems\"))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, rows))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Area);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/area.tsx?");

/***/ }),

/***/ "./src/shared/components/browse.tsx":
/*!******************************************!*\
  !*** ./src/shared/components/browse.tsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap-table */ \"react-bootstrap-table\");\n/* harmony import */ var react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-bootstrap */ \"react-router-bootstrap\");\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _common_map_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/map/map */ \"./src/shared/components/common/map/map.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Browse extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data };\r\n    }\r\n    componentDidMount() {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            this.setState({ currLat: position.coords.latitude, currLng: position.coords.longitude });\r\n        });\r\n        if (!this.state.data) {\r\n            this.props.fetchInitialData(this.props.auth.getAccessToken()).then((data) => this.setState(() => ({ data })));\r\n        }\r\n    }\r\n    formatName(cell, row) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/area/${row.id}` }, row.name),\r\n            \" \",\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: row.visibility }));\r\n    }\r\n    toRad(value) {\r\n        return value * Math.PI / 180;\r\n    }\r\n    calcCrow(lat1, lon1, lat2, lon2) {\r\n        var R = 6371; // km\r\n        var dLat = this.toRad(lat2 - lat1);\r\n        var dLon = this.toRad(lon2 - lon1);\r\n        var rLat1 = this.toRad(lat1);\r\n        var rLat2 = this.toRad(lat2);\r\n        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n            Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(rLat1) * Math.cos(rLat2);\r\n        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n        var d = R * c;\r\n        return d;\r\n    }\r\n    formatDistance(cell, row) {\r\n        if (this.state.currLat > 0 && this.state.currLng > 0 && row.lat > 0 && row.lng > 0) {\r\n            return this.calcCrow(this.state.currLat, this.state.currLng, row.lat, row.lng).toFixed(1) + \" km\";\r\n        }\r\n        return \"\";\r\n    }\r\n    sortDistance(a, b, order) {\r\n        const x = this.state.currLat > 0 && this.state.currLng > 0 && a.lat > 0 && a.lng > 0 ? this.calcCrow(this.state.currLat, this.state.currLng, a.lat, a.lng) : 0;\r\n        const y = this.state.currLat > 0 && this.state.currLng > 0 && b.lat > 0 && b.lng > 0 ? this.calcCrow(this.state.currLat, this.state.currLng, b.lat, b.lng) : 0;\r\n        if (order === 'asc') {\r\n            if (x < y)\r\n                return -1;\r\n            else if (x > y)\r\n                return 1;\r\n            return 0;\r\n        }\r\n        else {\r\n            if (x < y)\r\n                return 1;\r\n            else if (x > y)\r\n                return -1;\r\n            return 0;\r\n        }\r\n    }\r\n    render() {\r\n        if (!this.state || !this.state.data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        const markers = this.state.data.areas.filter(a => a.lat != 0 && a.lng != 0).map(a => {\r\n            return {\r\n                lat: a.lat,\r\n                lng: a.lng,\r\n                title: a.name,\r\n                label: a.name.charAt(0),\r\n                url: '/area/' + a.id\r\n            };\r\n        });\r\n        const map = markers.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_map_map__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { markers: markers, defaultCenter: this.state.data.metadata.defaultCenter, defaultZoom: this.state.data.metadata.defaultZoom }) : null;\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, this.state.data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:url\", content: this.state.data.metadata.og.url }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:title\", content: this.state.data.metadata.title }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image\", content: this.state.data.metadata.og.image }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:width\", content: this.state.data.metadata.og.imageWidth }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:height\", content: this.state.data.metadata.og.imageHeight })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Breadcrumb\"], null,\r\n                this.state.data.metadata.isAdmin &&\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tooltip\"], { id: \"Add area\" }, \"Add area\") },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: 'right' } },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__[\"LinkContainer\"], { to: `/area/edit/-1` },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\" },\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"plus-square\", inverse: true }))))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / Browse\"),\r\n            map,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"BootstrapTable\"], { data: this.state.data.areas, condensed: true, hover: true, columnFilter: false },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"id\", isKey: true, hidden: true }, \"id\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"name\", dataSort: true, dataFormat: this.formatName.bind(this), width: \"150\", filter: { type: \"TextFilter\", placeholder: \"Filter\" } }, \"Name\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"numSectors\", dataSort: true, dataAlign: \"center\", width: \"50\" }, \"#sectors\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"numProblems\", dataSort: true, dataAlign: \"center\", width: \"50\" }, \"#problems\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"distance\", dataSort: true, dataFormat: this.formatDistance.bind(this), sortFunc: this.sortDistance.bind(this), dataAlign: \"center\", width: \"60\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"plane\" })))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Browse);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/browse.tsx?");

/***/ }),

/***/ "./src/shared/components/callback.tsx":
/*!********************************************!*\
  !*** ./src/shared/components/callback.tsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\nclass Callback extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    componentDidMount() {\r\n        if (/access_token|id_token|error/.test(window.location.hash)) {\r\n            this.props.auth.handleAuthentication();\r\n            let redirect = localStorage.getItem('redirect') || '/';\r\n            localStorage.removeItem('redirect');\r\n            this.setState({ pushUrl: redirect });\r\n        }\r\n    }\r\n    render() {\r\n        if (this.state && this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Well\"], null, \"Signing in, please wait...\");\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Callback);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/callback.tsx?");

/***/ }),

/***/ "./src/shared/components/common/chart/chart.tsx":
/*!******************************************************!*\
  !*** ./src/shared/components/common/chart/chart.tsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Chart; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\nclass Chart extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        var data = [];\r\n        this.props.data.map(t => {\r\n            var d = data.filter(val => { return val.gradeNumber === t.gradeNumber; });\r\n            if (!d[0]) {\r\n                data.push({ gradeNumber: t.gradeNumber, grade: t.grade, fa: (t.fa ? 1 : 0), tick: (t.fa ? 0 : 1) });\r\n            }\r\n            else {\r\n                if (t.fa) {\r\n                    d[0].fa++;\r\n                }\r\n                else {\r\n                    d[0].tick++;\r\n                }\r\n            }\r\n        });\r\n        data.sort((a, b) => { return b.gradeNumber - a.gradeNumber; });\r\n        const maxValue = Math.max.apply(Math, data.map(d => { return d.fa + d.tick; }));\r\n        const rows = data.map((d, i) => {\r\n            const faWidth = (d.fa / maxValue * 100) + '%';\r\n            const tickWidth = (d.tick / maxValue * 100) + '%';\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", { key: i },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", { style: { padding: 0, textAlign: 'center' } }, d.grade),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", { style: { padding: 0, textAlign: 'center' } }, d.fa),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", { style: { padding: 0, textAlign: 'center' } }, d.tick),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", { style: { padding: 0, textAlign: 'center' } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, d.fa + d.tick)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", { style: { width: '100%', verticalAlign: 'middle' } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { width: faWidth, height: '10px', backgroundColor: '#3182bd', float: 'left' } }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { width: tickWidth, height: '10px', backgroundColor: '#6baed6', marginLeft: faWidth } }))));\r\n        });\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Table\"], { responsive: true },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Grade\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"FA\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Tick\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Total\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, rows)));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/chart/chart.tsx?");

/***/ }),

/***/ "./src/shared/components/common/comment-modal/comment-modal.tsx":
/*!**********************************************************************!*\
  !*** ./src/shared/components/common/comment-modal/comment-modal.tsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\nclass CommentModal extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    refresh(props) {\r\n        this.setState({\r\n            idProblem: props.idProblem,\r\n            comment: ''\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.refresh(this.props);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.refresh(nextProps);\r\n    }\r\n    onCommentChanged(e) {\r\n        this.setState({ comment: e.target.value });\r\n    }\r\n    save(e) {\r\n        if (this.state.comment) {\r\n            Object(_api__WEBPACK_IMPORTED_MODULE_2__[\"postComment\"])(this.props.auth.getAccessToken(), this.state.idProblem, this.state.comment)\r\n                .then((response) => {\r\n                this.props.onHide();\r\n            })\r\n                .catch((error) => {\r\n                console.warn(error);\r\n                alert(error.toString());\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"], { show: this.props.show, onHide: this.props.onHide.bind(this) },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Header, { closeButton: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Title, null, \"Add comment\")),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Body, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], { controlId: \"formControlsTextArea\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ControlLabel\"], null, \"Comment\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormControl\"], { style: { height: '100px' }, componentClass: \"textarea\", placeholder: \"Comment\", value: this.state && this.state.comment, onChange: this.onCommentChanged.bind(this) }))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Footer, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ButtonGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.save.bind(this), bsStyle: \"success\" }, \"Save\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.props.onHide.bind(this) }, \"Close\")))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentModal);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/comment-modal/comment-modal.tsx?");

/***/ }),

/***/ "./src/shared/components/common/gallery/gallery.tsx":
/*!**********************************************************!*\
  !*** ./src/shared/components/common/gallery/gallery.tsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_image_gallery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-image-gallery */ \"react-image-gallery\");\n/* harmony import */ var react_image_gallery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_image_gallery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_player__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-player */ \"react-player\");\n/* harmony import */ var react_player__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_player__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var svg_path_parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! svg-path-parser */ \"svg-path-parser\");\n/* harmony import */ var svg_path_parser__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(svg_path_parser__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var object_fit_images__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! object-fit-images */ \"object-fit-images\");\n/* harmony import */ var object_fit_images__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(object_fit_images__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n // objectFit does not work on IE and Edge http://caniuse.com/#search=object-fit\r\n\r\n\r\nclass Gallery extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mediaIndex: 0,\r\n            hoverTrash: false,\r\n            hoverEdit: false,\r\n            showFullscreenButton: true,\r\n            showGalleryFullscreenButton: true,\r\n            showPlayButton: true,\r\n            showGalleryPlayButton: false,\r\n            showVideo: {},\r\n            isFullscreen: false,\r\n            pushUrl: null,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            mediaIndex: 0,\r\n            hoverTrash: false,\r\n            hoverEdit: false,\r\n            showFullscreenButton: true,\r\n            showGalleryFullscreenButton: true,\r\n            showPlayButton: true,\r\n            showGalleryPlayButton: false,\r\n            showVideo: {},\r\n            isFullscreen: false,\r\n            pushUrl: null,\r\n        });\r\n        if (this.imageGallery) {\r\n            this.imageGallery.slideToIndex(0);\r\n        }\r\n    }\r\n    toggleHoverTrash() {\r\n        this.setState({ hoverTrash: !this.state.hoverTrash });\r\n    }\r\n    toggleHoverEdit() {\r\n        this.setState({ hoverEdit: !this.state.hoverEdit });\r\n    }\r\n    onDeleteImage(event) {\r\n        if (confirm('Are you sure you want to delete this image?')) {\r\n            const idMedia = this.props.media[this.state.mediaIndex].id;\r\n            Object(_api__WEBPACK_IMPORTED_MODULE_9__[\"deleteMedia\"])(this.props.auth.getAccessToken(), idMedia)\r\n                .then((response) => {\r\n                if (this.props.media.length > 1 && this.state.mediaIndex >= this.props.media.length - 1) {\r\n                    const nextMediaIndex = this.state.mediaIndex - 1;\r\n                    this.setState({ mediaIndex: nextMediaIndex });\r\n                    this.imageGallery.slideToIndex(nextMediaIndex);\r\n                }\r\n                this.props.removeMedia(idMedia);\r\n            })\r\n                .catch((error) => {\r\n                console.warn(error);\r\n            });\r\n        }\r\n    }\r\n    onSlide(index) {\r\n        this.resetVideo();\r\n        this.setState({ mediaIndex: index });\r\n    }\r\n    onScreenChange(fullscreenElement) {\r\n        this.setState({ isFullscreen: fullscreenElement });\r\n    }\r\n    resetVideo() {\r\n        this.setState({ showVideo: {} });\r\n        if (this.state.showPlayButton) {\r\n            this.setState({ showGalleryPlayButton: true });\r\n        }\r\n        if (this.state.showFullscreenButton) {\r\n            this.setState({ showGalleryFullscreenButton: true });\r\n        }\r\n    }\r\n    toggleShowVideo(url) {\r\n        this.state.showVideo[url] = !Boolean(this.state.showVideo[url]);\r\n        this.setState({\r\n            showVideo: this.state.showVideo\r\n        });\r\n        if (this.state.showVideo[url]) {\r\n            if (this.state.showPlayButton) {\r\n                this.setState({ showGalleryPlayButton: false });\r\n            }\r\n            if (this.state.showFullscreenButton) {\r\n                this.setState({ showGalleryFullscreenButton: false });\r\n            }\r\n        }\r\n    }\r\n    renderVideo(item) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: 'image-gallery-image' }, this.state.showVideo[item.embedUrl] ?\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { className: 'gallery-close-video', onClick: this.toggleShowVideo.bind(this, item.embedUrl) }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_player__WEBPACK_IMPORTED_MODULE_3___default.a, { ref: player => { this.player = player; }, className: 'react-player', width: '100%', height: '100%', url: item.embedUrl, onDuration: duration => this.setState({ duration }), onStart: () => this.player.seekTo(parseFloat(item.seekTo) / this.state.duration.toFixed(1)), controls: true, playing: true }))\r\n            :\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { onClick: this.toggleShowVideo.bind(this, item.embedUrl) },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: 'gallery-play-button' }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { src: item.original, alt: this.props.alt }))));\r\n    }\r\n    pushUrl(url) {\r\n        this.setState({ pushUrl: url });\r\n    }\r\n    generateShapes(svgs, svgProblemId, w, h) {\r\n        return svgs.map((svg, key) => {\r\n            const path = Object(svg_path_parser__WEBPACK_IMPORTED_MODULE_4__[\"parseSVG\"])(svg.path);\r\n            Object(svg_path_parser__WEBPACK_IMPORTED_MODULE_4__[\"makeAbsolute\"])(path); // Note: mutates the commands in place!\r\n            var ixNr;\r\n            var maxY = 0;\r\n            var ixAnchor;\r\n            var minY = 99999999;\r\n            for (var i = 0, len = path.length; i < len; i++) {\r\n                if (path[i].y > maxY) {\r\n                    ixNr = i;\r\n                    maxY = path[i].y;\r\n                }\r\n                if (path[i].y < minY) {\r\n                    ixAnchor = i;\r\n                    minY = path[i].y;\r\n                }\r\n            }\r\n            var x = path[ixNr].x;\r\n            var y = path[ixNr].y;\r\n            const r = 0.012 * w;\r\n            if (x < r)\r\n                x = r;\r\n            if (x > (w - r))\r\n                x = w - r;\r\n            if (y < r)\r\n                y = r;\r\n            if (y > (h - r))\r\n                y = h - r;\r\n            var anchor = null;\r\n            if (svg.hasAnchor) {\r\n                anchor = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", { className: \"buldreinfo-svg-ring\", cx: path[ixAnchor].x, cy: path[ixAnchor].y, r: 0.006 * w });\r\n            }\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"g\", { className: \"buldreinfo-svg-pointer buldreinfo-svg-hover\" + ((svgProblemId === 0 || svg.problemId === svgProblemId) ? \"\" : \" buldreinfo-svg-opacity\"), key: key, onClick: this.pushUrl.bind(this, \"/problem/\" + svg.problemId) },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", { d: svg.path, className: \"buldreinfo-svg-route\", strokeWidth: 0.003 * w, strokeDasharray: 0.006 * w }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", { className: \"buldreinfo-svg-ring\", cx: x, cy: y, r: r }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"text\", { className: \"buldreinfo-svg-routenr\", x: x, y: y, fontSize: 0.02 * w, dy: \".3em\" }, svg.nr),\r\n                anchor));\r\n        });\r\n    }\r\n    renderImage(m) {\r\n        if (m.svgs) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: 'image-gallery-image' },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"canvas\", { className: \"buldreinfo-svg-canvas-ie-hack\", width: m.width, height: m.height }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", { className: \"buldreinfo-svg\", viewBox: \"0 0 \" + m.width + \" \" + m.height, preserveAspectRatio: \"xMidYMid meet\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"image\", { xlinkHref: Object(_api__WEBPACK_IMPORTED_MODULE_9__[\"getImageUrl\"])(m.id, null), width: \"100%\", height: \"100%\" }),\r\n                    this.generateShapes(m.svgs, m.svgProblemId, m.width, m.height))));\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: 'image-gallery-image' },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { src: Object(_api__WEBPACK_IMPORTED_MODULE_9__[\"getImageUrl\"])(m.id, null), className: \"buldreinfo-scale-img\", alt: this.props.alt })));\r\n    }\r\n    render() {\r\n        object_fit_images__WEBPACK_IMPORTED_MODULE_7___default()(null, { watchMQ: true });\r\n        if (this.state && this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_6__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        const caruselItems = this.props.media.map((m, i) => {\r\n            if (m.idType == 1) {\r\n                return {\r\n                    original: Object(_api__WEBPACK_IMPORTED_MODULE_9__[\"getImageUrl\"])(m.id, null),\r\n                    thumbnail: Object(_api__WEBPACK_IMPORTED_MODULE_9__[\"getImageUrl\"])(m.id, null),\r\n                    originalClass: 'featured-slide',\r\n                    thumbnailClass: 'featured-thumb',\r\n                    originalAlt: 'original-alt',\r\n                    thumbnailAlt: 'thumbnail-alt',\r\n                    renderItem: this.renderImage.bind(this, m)\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    original: Object(_api__WEBPACK_IMPORTED_MODULE_9__[\"getImageUrl\"])(m.id, null),\r\n                    thumbnail: Object(_api__WEBPACK_IMPORTED_MODULE_9__[\"getImageUrl\"])(m.id, null),\r\n                    originalClass: 'featured-slide',\r\n                    thumbnailClass: 'featured-thumb',\r\n                    originalAlt: 'original-alt',\r\n                    thumbnailAlt: 'thumbnail-alt',\r\n                    embedUrl: 'https://buldreinfo.com/buldreinfo_media/mp4/' + (Math.floor(m.id / 100) * 100) + \"/\" + m.id + '.mp4',\r\n                    seekTo: m.t,\r\n                    renderItem: this.renderVideo.bind(this)\r\n                };\r\n            }\r\n        });\r\n        var button = null;\r\n        const m = this.props.media[this.state.mediaIndex];\r\n        if (!this.state.isFullscreen && m.idType == 1 && this.props.isAdmin) {\r\n            if (m.svgProblemId > 0) {\r\n                button = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", { style: { position: 'absolute', zIndex: 4, background: 'rgba(0, 0, 0, 0.4)', padding: '8px 20px' } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__[\"Link\"], { to: `/problem/svg-edit/${m.svgProblemId}-${m.id}`, onMouseEnter: this.toggleHoverEdit.bind(this), onMouseLeave: this.toggleHoverEdit.bind(this) },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"edit\", style: this.state.hoverEdit ? { transform: 'scale(1.1)', color: '#fff' } : { color: '#fff' } })));\r\n            }\r\n            else if (!m.svgs) {\r\n                button = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", { style: { position: 'absolute', zIndex: 4, background: 'rgba(0, 0, 0, 0.4)', padding: '8px 20px' } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { href: \"#\", onMouseEnter: this.toggleHoverTrash.bind(this), onMouseLeave: this.toggleHoverTrash.bind(this), onClick: this.onDeleteImage.bind(this) },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"trash\", style: this.state.hoverTrash ? { transform: 'scale(1.1)', color: '#fff' } : { color: '#fff' } })));\r\n            }\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Well\"], { className: 'app' },\r\n            button,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_image_gallery__WEBPACK_IMPORTED_MODULE_1___default.a, { ref: i => this.imageGallery = i, items: caruselItems, onSlide: this.onSlide.bind(this), onScreenChange: this.onScreenChange.bind(this), showThumbnails: this.props.showThumbnails, showBullets: this.state.showFullscreenButton && this.state.showGalleryFullscreenButton && this.props.media.length > 1, showIndex: this.state.showFullscreenButton && this.state.showGalleryFullscreenButton, showPlayButton: false, showFullscreenButton: this.state.showFullscreenButton && this.state.showGalleryFullscreenButton })));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Gallery);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/gallery/gallery.tsx?");

/***/ }),

/***/ "./src/shared/components/common/image-upload/image-upload.tsx":
/*!********************************************************************!*\
  !*** ./src/shared/components/common/image-upload/image-upload.tsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dropzone */ \"react-dropzone\");\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dropzone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\nclass Text extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { searchResults: [], value: '' };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({ value: nextProps.value });\r\n    }\r\n    inputChange(e) {\r\n        const value = e.target.value;\r\n        this.props.onValueChanged(this.props.m, value);\r\n        if (value.length > 0) {\r\n            Object(_api__WEBPACK_IMPORTED_MODULE_3__[\"getUserSearch\"])(this.props.accessToken, value).then((res) => {\r\n                const sr = res.filter(u => u.name.toUpperCase() !== value.toUpperCase());\r\n                this.setState({ searchResults: sr });\r\n            });\r\n        }\r\n        else {\r\n            this.setState({ searchResults: [] });\r\n        }\r\n    }\r\n    menuItemSelect(user, event) {\r\n        this.setState({ searchResults: [] });\r\n        this.props.onValueChanged(this.props.m, user.name);\r\n    }\r\n    render() {\r\n        var searchResults = null;\r\n        if (this.state.searchResults.length > 0) {\r\n            const rows = this.state.searchResults.map((u, i) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"MenuItem\"], { key: i, href: \"#\", onSelect: this.menuItemSelect.bind(this, u) }, u.name));\r\n            searchResults = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", { className: \"dropdown-menu open\", style: { position: 'absolute', display: 'inline' } }, rows)));\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { position: 'relative', width: '100%' } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { width: '100%' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"FormControl\"], { style: { display: 'inline-block' }, type: \"text\", placeholder: this.props.placeholder, value: this.state.value, onChange: this.inputChange.bind(this) })),\r\n            searchResults));\r\n    }\r\n}\r\nclass ImageUpload extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { media: [] };\r\n    }\r\n    onDrop(files) {\r\n        const allMedia = this.state.media;\r\n        files.forEach(f => allMedia.push({ file: f }));\r\n        this.setState({ media: allMedia });\r\n        this.props.onMediaChanged(allMedia);\r\n    }\r\n    onPhotographerChanged(m, name) {\r\n        m.photographer = name;\r\n        this.props.onMediaChanged(this.state.media);\r\n    }\r\n    onInPhotoChanged(m, name) {\r\n        m.inPhoto = name;\r\n        this.props.onMediaChanged(this.state.media);\r\n    }\r\n    onRemove(toRemove) {\r\n        const allMedia = this.state.media.filter(m => m != toRemove);\r\n        this.setState({ media: allMedia });\r\n        this.props.onMediaChanged(allMedia);\r\n    }\r\n    render() {\r\n        const accessToken = this.props.auth.getAccessToken();\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"FormGroup\"], null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"ControlLabel\"], null, \"Upload image(s)\"),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_1___default.a, { onDrop: this.onDrop.bind(this), style: { width: '220px', height: '75px', padding: '15px', borderWidth: '1px', borderColor: '#666', borderStyle: 'dashed', borderRadius: '5px' }, accept: 'image/*' },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, \"Drop JPG-image(s) here or click to select files to upload.\")),\r\n            this.state.media.length > 0 ?\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Grid\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Row\"], null, this.state.media.map((m, i) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Col\"], { key: i, xs: 8, sm: 6, md: 4, lg: 2 },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Thumbnail\"], { src: m.file.preview },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Text, { accessToken: accessToken, m: m, placeholder: 'In photo', value: m ? m.inPhoto : '', onValueChanged: this.onInPhotoChanged.bind(this) }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Text, { accessToken: accessToken, m: m, placeholder: 'Photographer', value: m ? m.photographer : '', onValueChanged: this.onPhotographerChanged.bind(this) }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { style: { width: '100%' }, bsStyle: 'danger', onClick: this.onRemove.bind(this, m) }, \"Remove\"))))))\r\n                : null));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ImageUpload);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/image-upload/image-upload.tsx?");

/***/ }),

/***/ "./src/shared/components/common/lock-symbol/lock-symbol.tsx":
/*!******************************************************************!*\
  !*** ./src/shared/components/common/lock-symbol/lock-symbol.tsx ***!
  \******************************************************************/
/*! exports provided: LockSymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LockSymbol\", function() { return LockSymbol; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\nfunction LockSymbol(props) {\r\n    if (props.visibility === 1) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__[\"FontAwesomeIcon\"], { icon: \"lock\" });\r\n    }\r\n    else if (props.visibility === 2) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__[\"FontAwesomeIcon\"], { icon: \"user-secret\" });\r\n    }\r\n    return null;\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/lock-symbol/lock-symbol.tsx?");

/***/ }),

/***/ "./src/shared/components/common/map/map.tsx":
/*!**************************************************!*\
  !*** ./src/shared/components/common/map/map.tsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Map; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-google-maps */ \"react-google-maps\");\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_google_maps__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_google_maps_lib_components_addons_MarkerClusterer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-google-maps/lib/components/addons/MarkerClusterer */ \"react-google-maps/lib/components/addons/MarkerClusterer\");\n/* harmony import */ var react_google_maps_lib_components_addons_MarkerClusterer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_google_maps_lib_components_addons_MarkerClusterer__WEBPACK_IMPORTED_MODULE_3__);\n\r\n\r\n\r\n\r\nclass Map extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            this.setState({ currLat: position.coords.latitude, currLng: position.coords.longitude });\r\n        });\r\n    }\r\n    handleOnClick(pushUrl) {\r\n        this.setState({ pushUrl: pushUrl });\r\n    }\r\n    render() {\r\n        if (this.state && this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        const GettingStartedGoogleMap = Object(react_google_maps__WEBPACK_IMPORTED_MODULE_2__[\"withScriptjs\"])(Object(react_google_maps__WEBPACK_IMPORTED_MODULE_2__[\"withGoogleMap\"])(props => {\r\n            var markers = null;\r\n            if (this.props.markers) {\r\n                markers = this.props.markers.map((m, i) => {\r\n                    var myIcon = null;\r\n                    if (m.icon) {\r\n                        myIcon = {};\r\n                        if (m.icon.url) {\r\n                            myIcon.url = m.icon.url;\r\n                        }\r\n                        if (m.icon.scaledSizeW && m.icon.scaledSizeH) {\r\n                            myIcon.scaledSize = new google.maps.Size(m.icon.scaledSizeW, m.icon.scaledSizeH);\r\n                        }\r\n                        if (m.icon.labelOriginX && m.icon.labelOriginY) {\r\n                            myIcon.labelOrigin = new google.maps.Point(m.icon.labelOriginX, m.icon.labelOriginY);\r\n                        }\r\n                    }\r\n                    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_2__[\"Marker\"], { icon: myIcon, key: i, position: { lat: m.lat, lng: m.lng }, label: m.label, title: m.title, clickable: true, onClick: this.handleOnClick.bind(this, m.url) }));\r\n                });\r\n            }\r\n            if (this.state && this.state.currLat && this.state.currLng && this.state.currLat > 0 && this.state.currLng > 0) {\r\n                markers.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_2__[\"Marker\"], { key: -1, icon: \"https://maps.gstatic.com/mapfiles/markers2/measle_blue.png\", position: { lat: this.state.currLat, lng: this.state.currLng } }));\r\n            }\r\n            var polygons = null;\r\n            if (this.props.polygons) {\r\n                polygons = this.props.polygons.map((p, i) => {\r\n                    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_2__[\"Polygon\"], { key: i, paths: p.triangleCoords, options: { strokeColor: '#FF3300', strokeOpacity: 0.5, strokeWeight: 2, fillColor: '#FF3300', fillOpacity: 0.15 }, onClick: this.handleOnClick.bind(this, p.url) }));\r\n                });\r\n            }\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_2__[\"GoogleMap\"], { defaultZoom: this.props.defaultZoom, defaultCenter: this.props.defaultCenter, defaultMapTypeId: google.maps.MapTypeId.TERRAIN },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps_lib_components_addons_MarkerClusterer__WEBPACK_IMPORTED_MODULE_3___default.a, { averageCenter: false, minimumClusterSize: 60, enableRetinaIcons: false, imagePath: \"https://raw.githubusercontent.com/googlemaps/js-marker-clusterer/gh-pages/images/m\", gridSize: 60 },\r\n                    markers,\r\n                    polygons)));\r\n        }));\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"section\", { style: { height: '600px' } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GettingStartedGoogleMap, { googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCpaVd5518yMB-oiIyP5JnTVWMfrOv4sAI&v=3.exp\", loadingElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), containerElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), mapElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }) })));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/map/map.tsx?");

/***/ }),

/***/ "./src/shared/components/common/problem-section/problem-section.tsx":
/*!**************************************************************************!*\
  !*** ./src/shared/components/common/problem-section/problem-section.tsx ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\nclass ProblemSection extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { sections: props.sections, grades: props.grades };\r\n    }\r\n    onNumberOfSectionsChange(num) {\r\n        var sections = null;\r\n        if (num > 1) {\r\n            sections = this.state.sections ? this.state.sections : [];\r\n            while (num > sections.length) {\r\n                sections.push({ id: sections.length * -1, nr: sections.length + 1, grade: 'n/a', description: null });\r\n            }\r\n            while (num < sections.length) {\r\n                sections.pop();\r\n            }\r\n        }\r\n        this.props.onSectionsUpdated(sections);\r\n        this.setState({ sections });\r\n    }\r\n    onNrChanged(id, e) {\r\n        const sections = this.state.sections;\r\n        const section = sections.find(s => s.id === id);\r\n        section.nr = e.target.value;\r\n        this.props.onSectionsUpdated(sections);\r\n        this.setState({ sections });\r\n    }\r\n    onGradeChanged(id, grade) {\r\n        const sections = this.state.sections;\r\n        const section = sections.find(s => s.id === id);\r\n        section.grade = grade;\r\n        this.props.onSectionsUpdated(sections);\r\n        this.setState({ sections });\r\n    }\r\n    onDescriptionChanged(id, e) {\r\n        const sections = this.state.sections;\r\n        const section = sections.find(s => s.id === id);\r\n        section.description = e.target.value;\r\n        this.props.onSectionsUpdated(sections);\r\n        this.setState({ sections });\r\n    }\r\n    render() {\r\n        const sections = this.state.sections && this.state.sections.length > 1 && this.state.sections.map((s, i) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Form\"], { componentClass: \"fieldset\", inline: true, key: i },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], { controlId: \"formNr\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormControl\"], { type: \"number\", value: s.nr, onChange: this.onNrChanged.bind(this, s.id), style: { width: '50px' } })),\r\n                ' ',\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], { controlId: \"formGrade\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownButton\"], { title: s.grade, id: \"bg-nested-dropdown\" }, this.state.grades.map((g, i) => { return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: i, eventKey: i, onSelect: this.onGradeChanged.bind(this, s.id, g.grade) }, g.grade); }))),\r\n                ' ',\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], { controlId: \"formDescription\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormControl\"], { type: \"text\", value: s.description ? s.description : \"\", onChange: this.onDescriptionChanged.bind(this, s.id), style: { width: '500px' } }))));\r\n        });\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Well\"], null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], { controlId: \"formControlsNumSections\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownButton\"], { title: this.state.sections ? this.state.sections.length : 1, id: \"bg-nested-dropdown\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 1, eventKey: 1, onSelect: this.onNumberOfSectionsChange.bind(this, 1) }, \"1\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 2, eventKey: 2, onSelect: this.onNumberOfSectionsChange.bind(this, 2) }, \"2\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 3, eventKey: 3, onSelect: this.onNumberOfSectionsChange.bind(this, 3) }, \"3\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 4, eventKey: 4, onSelect: this.onNumberOfSectionsChange.bind(this, 4) }, \"4\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 5, eventKey: 5, onSelect: this.onNumberOfSectionsChange.bind(this, 5) }, \"5\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 6, eventKey: 6, onSelect: this.onNumberOfSectionsChange.bind(this, 6) }, \"6\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 7, eventKey: 7, onSelect: this.onNumberOfSectionsChange.bind(this, 7) }, \"7\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 8, eventKey: 8, onSelect: this.onNumberOfSectionsChange.bind(this, 8) }, \"8\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 9, eventKey: 9, onSelect: this.onNumberOfSectionsChange.bind(this, 9) }, \"9\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 10, eventKey: 10, onSelect: this.onNumberOfSectionsChange.bind(this, 10) }, \"10\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 11, eventKey: 11, onSelect: this.onNumberOfSectionsChange.bind(this, 11) }, \"11\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 12, eventKey: 12, onSelect: this.onNumberOfSectionsChange.bind(this, 12) }, \"12\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 13, eventKey: 13, onSelect: this.onNumberOfSectionsChange.bind(this, 13) }, \"13\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 14, eventKey: 14, onSelect: this.onNumberOfSectionsChange.bind(this, 14) }, \"14\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 15, eventKey: 15, onSelect: this.onNumberOfSectionsChange.bind(this, 15) }, \"15\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 16, eventKey: 16, onSelect: this.onNumberOfSectionsChange.bind(this, 16) }, \"16\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 17, eventKey: 17, onSelect: this.onNumberOfSectionsChange.bind(this, 17) }, \"17\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 18, eventKey: 18, onSelect: this.onNumberOfSectionsChange.bind(this, 18) }, \"18\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 19, eventKey: 19, onSelect: this.onNumberOfSectionsChange.bind(this, 19) }, \"19\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: 20, eventKey: 20, onSelect: this.onNumberOfSectionsChange.bind(this, 20) }, \"20\"))),\r\n            sections));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProblemSection);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/problem-section/problem-section.tsx?");

/***/ }),

/***/ "./src/shared/components/common/search/search.tsx":
/*!********************************************************!*\
  !*** ./src/shared/components/common/search/search.tsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_select_lib_Async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-select/lib/Async */ \"react-select/lib/Async\");\n/* harmony import */ var react_select_lib_Async__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_select_lib_Async__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-select */ \"react-select\");\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_select__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_avatar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-avatar */ \"react-avatar\");\n/* harmony import */ var react_avatar__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_avatar__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../../api */ \"./src/shared/api.ts\");\n/* harmony import */ var _lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst CustomOption = (props) => {\r\n    var bg = \"#4caf50\";\r\n    if (props.value.avatar === 'A') {\r\n        bg = \"#ff5722\";\r\n    }\r\n    else if (props.value.avatar === 'S') {\r\n        bg = \"#673ab7\";\r\n    }\r\n    let avatar;\r\n    if (props.value.avatar === 'U') {\r\n        avatar = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_avatar__WEBPACK_IMPORTED_MODULE_4___default.a, { name: props.label, size: \"25\", round: true, textSizeRatio: 2.25, style: { marginRight: '10px' } });\r\n    }\r\n    else {\r\n        avatar = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_avatar__WEBPACK_IMPORTED_MODULE_4___default.a, { value: props.value.avatar, size: \"25\", color: bg, round: true, textSizeRatio: 2.25, style: { marginRight: '10px' } });\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_select__WEBPACK_IMPORTED_MODULE_2__[\"components\"].Option, Object.assign({}, props),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\r\n            avatar,\r\n            props.label,\r\n            \" \",\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_6__[\"LockSymbol\"], { visibility: props.value.visibility }))));\r\n};\r\nclass Search extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    componentDidUpdate(prevProps) {\r\n        if (this.state && this.state.pushUrl) {\r\n            this.setState({ pushUrl: null });\r\n        }\r\n    }\r\n    search(input, callback) {\r\n        if (input) {\r\n            Object(_api__WEBPACK_IMPORTED_MODULE_5__[\"postSearch\"])(this.props.auth.getAccessToken(), input).then((res) => {\r\n                var options = res.map(s => { return { value: s, label: s.value }; });\r\n                callback(options);\r\n            });\r\n        }\r\n        else {\r\n            callback(null);\r\n        }\r\n    }\r\n    onChange(props) {\r\n        if (props && props.value && props.value.url) {\r\n            this.setState({ pushUrl: props.value.url });\r\n        }\r\n    }\r\n    render() {\r\n        if (this.state && this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_3__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_select_lib_Async__WEBPACK_IMPORTED_MODULE_1___default.a, { instanceId: \"buldreinfo-navigation-search\", placeholder: \"Search\", loadOptions: this.search.bind(this), filterOptions: (options, filter, currentValues) => {\r\n                // Do no filtering, just return all options\r\n                return options;\r\n            }, ignoreAccents: false, onChange: this.onChange.bind(this), components: { Option: CustomOption } }));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Search);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/search/search.tsx?");

/***/ }),

/***/ "./src/shared/components/common/tick-modal/tick-modal.tsx":
/*!****************************************************************!*\
  !*** ./src/shared/components/common/tick-modal/tick-modal.tsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_input_calendar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-input-calendar */ \"react-input-calendar\");\n/* harmony import */ var react_input_calendar__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_input_calendar__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\nclass TickModal extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    refresh(props) {\r\n        var date = null;\r\n        if (props.date) {\r\n            date = props.date;\r\n        }\r\n        else if (props.idTick == -1) {\r\n            date = Object(_api__WEBPACK_IMPORTED_MODULE_4__[\"convertFromDateToString\"])(new Date());\r\n        }\r\n        this.setState({\r\n            idTick: props.idTick,\r\n            idProblem: props.idProblem,\r\n            date: date,\r\n            comment: props.comment ? props.comment : \"\",\r\n            grade: props.grade,\r\n            stars: props.stars ? props.stars : 0,\r\n            grades: props.grades\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.refresh(this.props);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.refresh(nextProps);\r\n    }\r\n    onDateChanged(newDate) {\r\n        this.setState({ date: newDate });\r\n    }\r\n    onCommentChanged(e) {\r\n        this.setState({ comment: e.target.value });\r\n    }\r\n    onStarsChanged(stars, e) {\r\n        this.setState({ stars: stars });\r\n    }\r\n    onGradeChanged(grade, e) {\r\n        this.setState({ grade: grade });\r\n    }\r\n    delete(e) {\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_4__[\"postTicks\"])(this.props.auth.getAccessToken(), true, this.state.idTick, this.state.idProblem, this.state.comment, this.state.date, this.state.stars, this.state.grade)\r\n            .then((response) => {\r\n            this.props.onHide();\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            alert(error.toString());\r\n        });\r\n    }\r\n    save(e) {\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_4__[\"postTicks\"])(this.props.auth.getAccessToken(), false, this.state.idTick, this.state.idProblem, this.state.comment, this.state.date, this.state.stars, this.state.grade)\r\n            .then((response) => {\r\n            this.props.onHide();\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            alert(error.toString());\r\n        });\r\n    }\r\n    render() {\r\n        const yesterday = new Date();\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n        var stars = \"No stars\";\r\n        if (this.state) {\r\n            if (this.state.stars === 1) {\r\n                stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    \" Nice\");\r\n            }\r\n            else if (this.state.stars === 2) {\r\n                stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    \" Very nice\");\r\n            }\r\n            else if (this.state.stars === 3) {\r\n                stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    \" Fantastic!\");\r\n            }\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"], { show: this.props.show, onHide: this.props.onHide.bind(this) },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Header, { closeButton: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Title, null, \"Tick\")),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Body, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ControlLabel\"], null, \"Date (yyyy-mm-dd)\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_input_calendar__WEBPACK_IMPORTED_MODULE_2___default.a, { format: 'YYYY-MM-DD', computableFormat: 'YYYY-MM-DD', date: this.state && this.state.date, onChange: this.onDateChanged.bind(this) }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ButtonGroup\"], null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.onDateChanged.bind(this, Object(_api__WEBPACK_IMPORTED_MODULE_4__[\"convertFromDateToString\"])(yesterday)) }, \"Yesterday\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.onDateChanged.bind(this, Object(_api__WEBPACK_IMPORTED_MODULE_4__[\"convertFromDateToString\"])(new Date())) }, \"Today\"))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ControlLabel\"], null, \"Grade\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownButton\"], { title: this.state ? this.state.grade : \"Loading\", id: \"bg-nested-dropdown\" }, this.state && this.state.grades && this.state.grades.map((g, i) => { return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { key: i, eventKey: i, onSelect: this.onGradeChanged.bind(this, g.grade) }, g.grade); }))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ControlLabel\"], null, \"Stars\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownButton\"], { title: stars, id: \"bg-nested-dropdown\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: \"0\", onSelect: this.onStarsChanged.bind(this, 0) }, \"No stars\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: \"1\", onSelect: this.onStarsChanged.bind(this, 1) },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            \" Nice\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: \"2\", onSelect: this.onStarsChanged.bind(this, 2) },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            \" Very nice\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: \"3\", onSelect: this.onStarsChanged.bind(this, 3) },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            \" Fantastic!\"))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ControlLabel\"], null, \"Comment\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormControl\"], { componentClass: \"textarea\", placeholder: \"textarea\", style: { height: '100px' }, value: this.state && this.state.comment, onChange: this.onCommentChanged.bind(this) }))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"].Footer, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"ButtonGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.save.bind(this), bsStyle: \"success\" }, \"Save\"),\r\n                    this.state && this.state.idTick > 1 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.delete.bind(this), bsStyle: \"warning\" }, \"Delete tick\") : \"\",\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.props.onHide.bind(this) }, \"Close\")))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TickModal);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/tick-modal/tick-modal.tsx?");

/***/ }),

/***/ "./src/shared/components/common/user-selector/user-selector.tsx":
/*!**********************************************************************!*\
  !*** ./src/shared/components/common/user-selector/user-selector.tsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_select_lib_Creatable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-select/lib/Creatable */ \"react-select/lib/Creatable\");\n/* harmony import */ var react_select_lib_Creatable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_select_lib_Creatable__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\nclass UserSelector extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { multiValue: props.users, options: [] };\r\n    }\r\n    componentDidMount() {\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_2__[\"getUserSearch\"])(this.props.auth.getAccessToken(), \"\").then((res) => this.setState({ options: res.map(u => { return { value: u.id, label: u.name }; }) }));\r\n    }\r\n    handleOnChange(value) {\r\n        this.props.onUsersUpdated(value);\r\n        this.setState({ multiValue: value });\r\n    }\r\n    isValidNewOption(inputValue) {\r\n        return this.state.options.filter(u => u.label && inputValue.toLowerCase() === u.label.toLowerCase()).length == 0;\r\n    }\r\n    render() {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { position: 'relative', width: '100%' } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { width: '100%' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_select_lib_Creatable__WEBPACK_IMPORTED_MODULE_1___default.a, { isMulti: true, options: this.state.options, onChange: this.handleOnChange.bind(this), isValidNewOption: this.isValidNewOption.bind(this), value: this.state.multiValue }))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserSelector);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/common/user-selector/user-selector.tsx?");

/***/ }),

/***/ "./src/shared/components/ethics.tsx":
/*!******************************************!*\
  !*** ./src/shared/components/ethics.tsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n\r\n\r\n\r\n\r\nclass Ethics extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.props.fetchInitialData(this.props.auth.getAccessToken()).then((data) => this.setState(() => ({ data })));\r\n        }\r\n    }\r\n    render() {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                this.state.data && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, \"Ethics | \" + this.state.data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: \"Ethics and privacy policy\" })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Breadcrumb\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / Ethics\"),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], null,\r\n                \"If you're going out climbing, we ask you to please follow these guidelines for the best possible bouldering experience now, and for the future generations of climbers.\",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Show respect for the landowners, issue care and be polite.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Follow paths where possible, and do not cross cultivated land.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Take your trash back with you.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Park with reason, and think of others. Make room for potential tractors and such if necessary.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Start where directed, and don't hesitate to ask if your unsure.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Sit start means that the behind should be the last thing to leave the ground/crashpad.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"No chipping allowed.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Remember climbing can be dangerous and always involves risk. Your safety is your own responsibility.\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, \"Use common sense!\"))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Privacy Policy\"),\r\n                \"We respect your privacy and handle your data with the care that we would expect our own data to be handled. We will never sell or pass on your information to any third party. You can delete any of your profile information at any time, \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { href: \"mailto:jostein.oygarden@gmail.com\" }, \"send us an e-mail\"),\r\n                \" with the data you want to delete. The Android app requests permissions like accounts and camera. Accounts are used to give you correct data according to your permissions in buldreinfo. The camera can be used inside the app to append new images to existing bouldering problems (pending approval by an administrator).\")));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Ethics);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/ethics.tsx?");

/***/ }),

/***/ "./src/shared/components/finder.tsx":
/*!******************************************!*\
  !*** ./src/shared/components/finder.tsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-bootstrap */ \"react-router-bootstrap\");\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _common_map_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/map/map */ \"./src/shared/components/common/map/map.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-bootstrap-table */ \"react-bootstrap-table\");\n/* harmony import */ var react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Finder extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = {\r\n            data,\r\n            tabIndex: 1,\r\n            currLat: 0,\r\n            currLng: 0\r\n        };\r\n    }\r\n    toRad(value) {\r\n        return value * Math.PI / 180;\r\n    }\r\n    calcCrow(lat1, lon1, lat2, lon2) {\r\n        var R = 6371; // km\r\n        var dLat = this.toRad(lat2 - lat1);\r\n        var dLon = this.toRad(lon2 - lon1);\r\n        var rLat1 = this.toRad(lat1);\r\n        var rLat2 = this.toRad(lat2);\r\n        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n            Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(rLat1) * Math.cos(rLat2);\r\n        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n        var d = R * c;\r\n        return d;\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.grade);\r\n        }\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            this.setState({ currLat: position.coords.latitude, currLng: position.coords.longitude });\r\n        });\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.grade !== this.props.match.params.grade) {\r\n            this.refresh(this.props.match.params.grade);\r\n        }\r\n    }\r\n    refresh(grade) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), grade).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    handleTabsSelection(key) {\r\n        this.setState({ tabIndex: key });\r\n    }\r\n    trClassFormat(rowData, rIndex) {\r\n        return rowData.ticked ? 'success' : '';\r\n    }\r\n    formatAreaName(cell, row) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/area/${row.areaId}` }, row.areaName),\r\n            \" \",\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__[\"LockSymbol\"], { visibility: row.areaVisibility }));\r\n    }\r\n    formatSectorName(cell, row) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/sector/${row.sectorId}` }, row.sectorName),\r\n            \" \",\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__[\"LockSymbol\"], { visibility: row.sectorVisibility }));\r\n    }\r\n    formatName(cell, row) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/problem/${row.id}` }, row.name),\r\n            \" \",\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__[\"LockSymbol\"], { visibility: row.visibility }));\r\n    }\r\n    formatType(cell, row) {\r\n        var typeImg;\r\n        const subtype = row.t.subtype;\r\n        switch (row.t.id) {\r\n            case 2:\r\n                typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/bolt.jpg\", alt: subtype });\r\n                break;\r\n            case 3:\r\n                typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/trad.jpg\", alt: subtype });\r\n                break;\r\n            case 4:\r\n                typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/mixed.jpg\", alt: subtype });\r\n                break;\r\n            case 5:\r\n                typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/toprope.jpg\", alt: subtype });\r\n                break;\r\n        }\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"], { id: row.t.id, title: \"Type\" },\r\n                \" \",\r\n                row.t.type + \" - \" + row.t.subType) }, typeImg);\r\n    }\r\n    formatFa(cell, row) {\r\n        const fa = row.fa ? row.fa.map((u, i) => {\r\n            const tooltip = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: i },\r\n                u.firstname,\r\n                \" \",\r\n                u.surname));\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { key: i, placement: \"top\", overlay: tooltip },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"LinkContainer\"], { key: i, to: `/user/${u.id}` },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], { key: i, bsStyle: \"default\" }, u.initials))));\r\n        }) : [];\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"ButtonToolbar\"], null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"ButtonGroup\"], { bsSize: \"xsmall\" }, fa));\r\n    }\r\n    formatStars(cell, row) {\r\n        var stars = null;\r\n        if (row.stars === 0.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" });\r\n        }\r\n        else if (row.stars === 1.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else if (row.stars === 1.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n        }\r\n        else if (row.stars === 2.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else if (row.stars === 2.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n        }\r\n        else if (row.stars === 3.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"], { id: \"Guidelines\", title: \"Guidelines\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                \" Nice\",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                \" Very nice\",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                \" Fantastic!\") }, stars);\r\n    }\r\n    formatNumImages(cell, row) {\r\n        return row.media ? row.media.filter(m => { return m.idType === 1; }).length : 0;\r\n    }\r\n    formatNumMovies(cell, row) {\r\n        return row.media ? row.media.filter(m => { return m.idType === 2; }).length : 0;\r\n    }\r\n    formatDistance(cell, row) {\r\n        if (this.state.currLat > 0 && this.state.currLng > 0 && row.lat > 0 && row.lng > 0) {\r\n            return this.calcCrow(this.state.currLat, this.state.currLng, row.lat, row.lng).toFixed(1) + \" km\";\r\n        }\r\n        return \"\";\r\n    }\r\n    sortFa(a, b, order) {\r\n        const x = a.fa ? a.fa[0].initials : \"\";\r\n        const y = b.fa ? b.fa[0].initials : \"\";\r\n        if (order === 'asc')\r\n            return x.localeCompare(y);\r\n        return y.localeCompare(x);\r\n    }\r\n    sortNumImages(a, b, order) {\r\n        const x = a.media ? a.media.filter(m => { return m.idType === 1; }).length : 0;\r\n        const y = b.media ? b.media.filter(m => { return m.idType === 1; }).length : 0;\r\n        if (order === 'asc') {\r\n            if (x < y)\r\n                return -1;\r\n            else if (x > y)\r\n                return 1;\r\n            return 0;\r\n        }\r\n        else {\r\n            if (x < y)\r\n                return 1;\r\n            else if (x > y)\r\n                return -1;\r\n            return 0;\r\n        }\r\n    }\r\n    sortNumMovies(a, b, order) {\r\n        const x = a.media ? a.media.filter(m => { return m.idType === 2; }).length : 0;\r\n        const y = b.media ? b.media.filter(m => { return m.idType === 2; }).length : 0;\r\n        if (order === 'asc') {\r\n            if (x < y)\r\n                return -1;\r\n            else if (x > y)\r\n                return 1;\r\n            return 0;\r\n        }\r\n        else {\r\n            if (x < y)\r\n                return 1;\r\n            else if (x > y)\r\n                return -1;\r\n            return 0;\r\n        }\r\n    }\r\n    sortDistance(a, b, order) {\r\n        const x = this.state.currLat > 0 && this.state.currLng > 0 && a.lat > 0 && a.lng > 0 ? this.calcCrow(this.state.currLat, this.state.currLng, a.lat, a.lng) : 0;\r\n        const y = this.state.currLat > 0 && this.state.currLng > 0 && b.lat > 0 && b.lng > 0 ? this.calcCrow(this.state.currLat, this.state.currLng, b.lat, b.lng) : 0;\r\n        if (order === 'asc') {\r\n            if (x < y)\r\n                return -1;\r\n            else if (x > y)\r\n                return 1;\r\n            return 0;\r\n        }\r\n        else {\r\n            if (x < y)\r\n                return 1;\r\n            else if (x > y)\r\n                return -1;\r\n            return 0;\r\n        }\r\n    }\r\n    render() {\r\n        if (!this.state.data || !this.state.data.problems) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        const markers = this.state.data.problems.filter(p => p.lat != 0 && p.lng != 0).map(p => {\r\n            return {\r\n                lat: p.lat,\r\n                lng: p.lng,\r\n                title: p.nr + \" - \" + p.name + \" [\" + p.grade + \"]\",\r\n                label: p.name.charAt(0),\r\n                url: '/problem/' + p.id,\r\n                icon: {\r\n                    url: p.ticked ? 'https://mt.google.com/vt/icon?name=icons/spotlight/spotlight-waypoint-a.png' : 'https://mt.google.com/vt/icon?name=icons/spotlight/spotlight-waypoint-b.png',\r\n                    labelOriginX: 11,\r\n                    labelOriginY: 13\r\n                }\r\n            };\r\n        });\r\n        const map = markers.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_map_map__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { markers: markers, defaultCenter: this.state.data.metadata.defaultCenter, defaultZoom: 7 }) : null;\r\n        var table = null;\r\n        if (!this.state.data.metadata.isBouldering) {\r\n            table = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"BootstrapTable\"], { data: this.state.data.problems, trClassName: this.trClassFormat.bind(this), condensed: true, hover: true, columnFilter: false },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"id\", isKey: true, hidden: true }, \"id\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"areaName\", dataSort: true, dataFormat: this.formatAreaName.bind(this), width: \"150\", filter: { type: \"TextFilter\", placeholder: \"Filter\" } }, \"Area\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"sectorName\", dataSort: true, dataFormat: this.formatSectorName.bind(this), width: \"150\", filter: { type: \"TextFilter\", placeholder: \"Filter\" } }, \"Sector\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"name\", dataSort: true, dataFormat: this.formatName.bind(this), width: \"150\", filter: { type: \"TextFilter\", placeholder: \"Filter\" } }, \"Name\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"type\", dataFormat: this.formatType.bind(this), dataAlign: \"center\", width: \"70\" }, \"Type\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"grade\", dataSort: true, dataAlign: \"center\", width: \"70\" }, \"Grade\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"fa\", dataSort: true, dataFormat: this.formatFa.bind(this), sortFunc: this.sortFa.bind(this), dataAlign: \"center\", width: \"70\" }, \"FA\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"numTicks\", dataSort: true, dataAlign: \"center\", width: \"50\" }, \"Ticks\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"stars\", dataSort: true, dataFormat: this.formatStars.bind(this), dataAlign: \"center\", width: \"70\" }, \"Stars\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"numImages\", dataSort: true, dataFormat: this.formatNumImages.bind(this), sortFunc: this.sortNumImages.bind(this), dataAlign: \"center\", width: \"50\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"camera\" })),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"numMovies\", dataSort: true, dataFormat: this.formatNumMovies.bind(this), sortFunc: this.sortNumMovies.bind(this), dataAlign: \"center\", width: \"50\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"video\" })));\r\n        }\r\n        else {\r\n            table = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"BootstrapTable\"], { data: this.state.data.problems, trClassName: this.trClassFormat.bind(this), condensed: true, hover: true, columnFilter: false },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"id\", isKey: true, hidden: true }, \"id\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"areaName\", dataSort: true, dataFormat: this.formatAreaName.bind(this), width: \"150\", filter: { type: \"TextFilter\", placeholder: \"Filter\" } }, \"Area\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"sectorName\", dataSort: true, dataFormat: this.formatSectorName.bind(this), width: \"150\", filter: { type: \"TextFilter\", placeholder: \"Filter\" } }, \"Sector\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"name\", dataSort: true, dataFormat: this.formatName.bind(this), width: \"150\", filter: { type: \"TextFilter\", placeholder: \"Filter\" } }, \"Name\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"grade\", dataSort: true, dataAlign: \"center\", width: \"70\" }, \"Grade\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"fa\", dataSort: true, dataFormat: this.formatFa.bind(this), sortFunc: this.sortFa.bind(this), dataAlign: \"center\", width: \"70\" }, \"FA\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"numTicks\", dataSort: true, dataAlign: \"center\", width: \"50\" }, \"Ticks\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"stars\", dataSort: true, dataFormat: this.formatStars.bind(this), dataAlign: \"center\", width: \"70\" }, \"Stars\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"numImages\", dataSort: true, dataFormat: this.formatNumImages.bind(this), sortFunc: this.sortNumImages.bind(this), dataAlign: \"center\", width: \"50\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"camera\" })),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"numMovies\", dataSort: true, dataFormat: this.formatNumMovies.bind(this), sortFunc: this.sortNumMovies.bind(this), dataAlign: \"center\", width: \"50\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"video\" })),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_7__[\"TableHeaderColumn\"], { dataField: \"distance\", dataSort: true, dataFormat: this.formatDistance.bind(this), sortFunc: this.sortDistance.bind(this), dataAlign: \"center\", width: \"60\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"plane\" })));\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, this.state.data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:url\", content: this.state.data.metadata.og.url }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:title\", content: this.state.data.metadata.title }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image\", content: this.state.data.metadata.og.image }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:width\", content: this.state.data.metadata.og.imageWidth }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:height\", content: this.state.data.metadata.og.imageHeight })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Breadcrumb\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / Finder [\",\r\n                this.state.data.grade,\r\n                \"] (problems: \",\r\n                this.state.data.problems.length,\r\n                \")\"),\r\n            map,\r\n            table));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Finder);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/finder.tsx?");

/***/ }),

/***/ "./src/shared/components/frontpage/imagebox/imagebox.tsx":
/*!***************************************************************!*\
  !*** ./src/shared/components/frontpage/imagebox/imagebox.tsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ImageBox; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\nclass ImageBox extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        var txt = null;\r\n        if (!this.props || !this.props.data) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Well\"], { style: {\r\n                    marginBottom: '15px',\r\n                    textAlign: 'center'\r\n                } }, \"No data\"));\r\n        }\r\n        if (this.props.data.inPhoto) {\r\n            txt = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null,\r\n                \"Photographer: \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/user/${this.props.data.idCreator}` }, this.props.data.creator),\r\n                \", in photo: \",\r\n                this.props.data.inPhoto);\r\n        }\r\n        else {\r\n            txt = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null,\r\n                \"Photographer: \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/user/${this.props.data.idCreator}` }, this.props.data.creator));\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Well\"], { style: {\r\n                marginBottom: '15px',\r\n                textAlign: 'center'\r\n            } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/problem/${this.props.data.idProblem}` }, this.props.data.problem),\r\n                \" \",\r\n                this.props.data.grade),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/problem/${this.props.data.idProblem}` },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { style: { maxWidth: '100%' }, src: Object(_api__WEBPACK_IMPORTED_MODULE_3__[\"getImageUrl\"])(this.props.data.idMedia, 480), alt: this.props.data.problem })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n            txt));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/components/frontpage/imagebox/imagebox.tsx?");

/***/ }),

/***/ "./src/shared/components/frontpage/index.tsx":
/*!***************************************************!*\
  !*** ./src/shared/components/frontpage/index.tsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _textbox_textbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./textbox/textbox */ \"./src/shared/components/frontpage/textbox/textbox.tsx\");\n/* harmony import */ var _imagebox_imagebox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./imagebox/imagebox */ \"./src/shared/components/frontpage/imagebox/imagebox.tsx\");\n/* harmony import */ var _linkbox_linkbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./linkbox/linkbox */ \"./src/shared/components/frontpage/linkbox/linkbox.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst style = { padding: 0, textAlign: 'left' };\r\nconst styleNw = { padding: 0, textAlign: 'left', whiteSpace: 'nowrap' };\r\nclass Index extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh();\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated) {\r\n            this.refresh();\r\n        }\r\n    }\r\n    refresh() {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken()).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    render() {\r\n        if (!this.state || !this.state.data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        const newestProblems = this.state.data.fas.map((x, i) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", { key: i },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/problem/${x.idProblem}` }, x.problem),\r\n                \" \",\r\n                x.grade,\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: x.visibility }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", { style: { color: '#777' } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/area/${x.idArea}`, style: { color: '#777' } }, x.area),\r\n                    \" \",\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: x.areaVisibility }),\r\n                    \" / \",\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/sector/${x.idSector}`, style: { color: '#777' } }, x.sector),\r\n                    \" \",\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: x.sectorVisibility }),\r\n                    \" \",\r\n                    x.date)));\r\n        });\r\n        const latestAscents = this.state.data.ascents.map((x, i) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", { key: i },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/problem/${x.idProblem}` }, x.problem),\r\n                \" \",\r\n                x.grade,\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: x.visibility }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", { style: { color: '#777' } },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/user/${x.idUser}`, style: { color: '#777' } }, x.user),\r\n                    \" \",\r\n                    x.date)));\r\n        });\r\n        const newestMedia = this.state.data.medias.map((x, i) => {\r\n            const icon = x.type === 'image' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"camera\" }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"video\" });\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", { key: i },\r\n                icon,\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/problem/${x.idProblem}` }, x.problem),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", null, x.grade),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: x.visibility })));\r\n        });\r\n        const latestComments = this.state.data.comments.map((x, i) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", { key: i },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", null, x.date),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/problem/${x.idProblem}` }, x.problem),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: x.visibility })));\r\n        });\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, this.state.data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:description\", content: this.state.data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:url\", content: this.state.data.metadata.og.url }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:title\", content: this.state.data.metadata.title }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image\", content: this.state.data.metadata.og.image }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:width\", content: this.state.data.metadata.og.imageWidth }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:height\", content: this.state.data.metadata.og.imageHeight })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Grid\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Row\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], { style: { textAlign: 'center' } },\r\n                        \"Total: \",\r\n                        this.state.data.numProblems,\r\n                        \" (\",\r\n                        this.state.data.numProblemsWithCoordinates,\r\n                        \" with coordinates\",\r\n                        this.state.data.numProblemsWithTopo > 0 ? \", \" + this.state.data.numProblemsWithTopo + \" on topo\" : \"\",\r\n                        \") | Public ascents: \",\r\n                        this.state.data.numTicks,\r\n                        \" | Images: \",\r\n                        this.state.data.numImages,\r\n                        \" | Ascents on video: \",\r\n                        this.state.data.numMovies)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Row\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Col\"], { xs: 8, md: 9, style: { paddingLeft: '3px', paddingRight: '3px' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_imagebox_imagebox__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { data: this.state.data.randomMedia })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Col\"], { xs: 4, md: 3, style: { paddingLeft: '3px', paddingRight: '3px' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_linkbox_linkbox__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { showLogoPlay: this.state.data.showLogoPlay, showLogoSis: this.state.data.showLogoSis, showLogoBrv: this.state.data.showLogoBrv }))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Row\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Col\"], { xs: 6, lg: 3, style: { paddingLeft: '3px', paddingRight: '3px' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_textbox_textbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { title: \"Newest\", data: newestProblems })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Col\"], { xs: 6, lg: 3, style: { paddingLeft: '3px', paddingRight: '3px' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_textbox_textbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { title: \"Latest ascents\", data: latestAscents })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Clearfix\"], { visibleXsBlock: true }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Col\"], { xs: 6, lg: 3, style: { paddingLeft: '3px', paddingRight: '3px' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_textbox_textbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { title: \"Newest media\", data: newestMedia })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Col\"], { xs: 6, lg: 3, style: { paddingLeft: '3px', paddingRight: '3px' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_textbox_textbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { title: \"Latest comments\", data: latestComments }))))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/frontpage/index.tsx?");

/***/ }),

/***/ "./src/shared/components/frontpage/linkbox/linkbox.tsx":
/*!*************************************************************!*\
  !*** ./src/shared/components/frontpage/linkbox/linkbox.tsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LinkBox; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\r\nclass LinkBox extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        const styleSis = {\r\n            marginBottom: '10px',\r\n            borderTopLeftRadius: '8px',\r\n            borderTopRightRadius: '8px',\r\n            borderBottomLeftRadius: '8px',\r\n            borderBottomRightRadius: '8px',\r\n            paddingLeft: '10px',\r\n            paddingRight: '10px',\r\n            maxWidth: '100%',\r\n            backgroundColor: '#00A0E0'\r\n        };\r\n        const styleBrv = {\r\n            marginBottom: '10px',\r\n            borderTopLeftRadius: '8px',\r\n            borderTopRightRadius: '8px',\r\n            borderBottomLeftRadius: '8px',\r\n            borderBottomRightRadius: '8px',\r\n            paddingLeft: '10px',\r\n            paddingRight: '10px',\r\n            maxWidth: '100%',\r\n            backgroundColor: '#FFFFFF'\r\n        };\r\n        const styleGoogle = { maxWidth: '100%' };\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            this.props.showLogoPlay && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { href: 'https://play.google.com/store/apps/details?id=org.jossi.android.bouldering&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1', rel: \"noopener\", target: \"_blank\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { style: styleGoogle, alt: 'Get it on Google Play', src: 'https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png' })),\r\n            this.props.showLogoSis && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { href: \"http://sissportssenter.no/\", rel: \"noopener\", target: \"_blank\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { style: styleSis, src: \"/png/sis-sportssenter.png\", alt: \"SiS Sportssenter\" })),\r\n            this.props.showLogoBrv && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { href: \"http://brv.no/\", rel: \"noopener\", target: \"_blank\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { style: styleBrv, src: \"/png/brv.png\", alt: \"Bratte Rogalands venner\" }))));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/components/frontpage/linkbox/linkbox.tsx?");

/***/ }),

/***/ "./src/shared/components/frontpage/textbox/textbox.tsx":
/*!*************************************************************!*\
  !*** ./src/shared/components/frontpage/textbox/textbox.tsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextBox; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\r\nclass TextBox extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showAll: false,\r\n            btnLabel: 'More'\r\n        };\r\n    }\r\n    handleOnClick(e) {\r\n        e.preventDefault();\r\n        if (this.state.showAll === true) {\r\n            this.setState({ showAll: false, btnLabel: 'More' });\r\n        }\r\n        else {\r\n            this.setState({ showAll: true, btnLabel: 'Less' });\r\n        }\r\n    }\r\n    render() {\r\n        const content = this.state.showAll === true ? this.props.data : this.props.data.map((x, i) => { if (i < 10)\r\n            return (x); });\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: {\r\n                backgroundColor: '#FFF',\r\n                position: 'relative',\r\n                padding: '45px 15px 15px',\r\n                borderColor: '#e3e3e3',\r\n                borderStyle: 'solid',\r\n                borderWidth: '1px',\r\n                borderTopLeftRadius: '4px',\r\n                borderTopRightRadius: '4px',\r\n                borderBottomLeftRadius: '4px'\r\n            } },\r\n            content,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: {\r\n                    position: 'absolute',\r\n                    top: '15px',\r\n                    left: '15px',\r\n                    fontSize: '12px',\r\n                    fontWeight: 700,\r\n                    color: '#959595',\r\n                    textTransform: 'uppercase',\r\n                    letterSpacing: '1px',\r\n                } }, this.props.title),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { style: {\r\n                    float: 'right',\r\n                    display: 'inline-block',\r\n                    position: 'relative',\r\n                    right: '-16px',\r\n                    top: '15px',\r\n                    background: '#FFF',\r\n                    borderBottomLeftRadius: '4px',\r\n                    borderBottomRightRadius: '4px',\r\n                    border: '1px solid #e3e3e3',\r\n                    borderTop: 'none',\r\n                    padding: '4px 8px',\r\n                    marginBottom: '20px'\r\n                }, href: \"#\", onClick: this.handleOnClick.bind(this) }, this.state.btnLabel)));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/components/frontpage/textbox/textbox.tsx?");

/***/ }),

/***/ "./src/shared/components/logout.tsx":
/*!******************************************!*\
  !*** ./src/shared/components/logout.tsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\nclass Logout extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    componentDidMount() {\r\n        this.props.auth.logout();\r\n        this.setState({ pushUrl: '/' });\r\n    }\r\n    render() {\r\n        if (this.state && this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Well\"], null, \"Logging out, please wait...\");\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Logout);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/logout.tsx?");

/***/ }),

/***/ "./src/shared/components/navigation.tsx":
/*!**********************************************!*\
  !*** ./src/shared/components/navigation.tsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-bootstrap */ \"react-router-bootstrap\");\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_search_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/search/search */ \"./src/shared/components/common/search/search.tsx\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\nclass Navigation extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let metadata;\r\n        if (false) {}\r\n        else {\r\n            metadata = props.staticContext.metadata;\r\n        }\r\n        this.state = { metadata, logo: '/png/buldreinfo_logo_gray.png' };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.metadata) {\r\n            this.refresh();\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated) {\r\n            this.refresh();\r\n        }\r\n    }\r\n    refresh() {\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_4__[\"getMeta\"])(this.props.auth.getAccessToken()).then((data) => this.setState(() => ({ metadata: data.metadata })));\r\n    }\r\n    hoverImage(hover) {\r\n        const logo = hover ? '/png/buldreinfo_logo_white.png' : '/png/buldreinfo_logo_gray.png';\r\n        this.setState({ logo: logo });\r\n    }\r\n    login() {\r\n        localStorage.setItem('redirect', this.props.location.pathname);\r\n        this.props.auth.login();\r\n    }\r\n    render() {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Navbar\"], { inverse: true },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Navbar\"].Header, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Navbar\"].Brand, null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"LinkContainer\"], { to: \"/\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { href: \"/\", onMouseOver: this.hoverImage.bind(this, true), onMouseOut: this.hoverImage.bind(this, false) },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { src: this.state.logo, alt: \"Logo\" })))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Navbar\"].Toggle, null)),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Navbar\"].Collapse, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Nav\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"LinkContainer\"], { to: \"/browse\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"NavItem\"], { eventKey: 1 }, \"Browse\")),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"NavDropdown\"], { eventKey: 2, title: \"Finder\", id: 'basic-nav-dropdown' },\r\n                        this.state.metadata && this.state.metadata.isSuperAdmin && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"LinkContainer\"], { to: \"/finder/-1\" },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 2.0 },\r\n                                \"Grade: \",\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"superadmin\"))),\r\n                        this.state.metadata && this.state.metadata.grades && this.state.metadata.grades.map((g, i) => { return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"LinkContainer\"], { key: \"2.\" + i, to: \"/finder/\" + g.id },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: \"3.\" + i },\r\n                                \"Grade: \",\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, g.grade))); }))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Navbar\"].Form, { pullLeft: true },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"FormGroup\"], { style: { width: '350px' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_search_search__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { auth: this.props.auth }))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"Nav\"], { pullRight: true },\r\n                    this.props.isAuthenticated ?\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"NavDropdown\"], { eventKey: 4, title: \"Logged in\", id: 'basic-nav-dropdown' },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"LinkContainer\"], { to: \"/user\" },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 4.1 }, \"My profile\")),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { divider: true }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"LinkContainer\"], { to: \"/logout\" },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 4.2 }, \"Log out\")))\r\n                        :\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"NavItem\"], { eventKey: 5, onClick: this.login.bind(this) }, \"Sign in\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"NavDropdown\"], { eventKey: 6, title: \"More\", id: 'basic-nav-dropdown' },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"LinkContainer\"], { to: \"/ethics\" },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"NavItem\"], { eventKey: 6.0 }, \"Ethics\")),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { divider: true }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.1, href: \"mailto:jostein.oygarden@gmail.com\" }, \"Contact\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.2, href: \"/gpl-3.0.txt\", rel: \"noopener\", target: \"_blank\" }, \"GNU Public License\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { divider: true }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.3, href: \"https://buldreinfo.com\", rel: \"noopener\", target: \"_blank\" }, \"buldreinfo.com\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.4, href: \"https://buldring.bergen-klatreklubb.no\", rel: \"noopener\", target: \"_blank\" }, \"buldring.bergen-klatreklubb.no\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.5, href: \"https://buldring.fredrikstadklatreklubb.org\", rel: \"noopener\", target: \"_blank\" }, \"buldring.fredrikstadklatreklubb.org\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.6, href: \"https://buldring.jotunheimenfjellsport.com\", rel: \"noopener\", target: \"_blank\" }, \"buldring.jotunheimenfjellsport.com\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { divider: true }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.7, href: \"https://brattelinjer.no\", rel: \"noopener\", target: \"_blank\" }, \"brattelinjer.no\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[\"MenuItem\"], { eventKey: 6.7, href: \"https://klatring.jotunheimenfjellsport.com\", rel: \"noopener\", target: \"_blank\" }, \"klatring.jotunheimenfjellsport.com\"))))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Navigation);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/navigation.tsx?");

/***/ }),

/***/ "./src/shared/components/no-match.tsx":
/*!********************************************!*\
  !*** ./src/shared/components/no-match.tsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NoMatch; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\nclass NoMatch extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    render() {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, \"Page not found\")),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Well\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", null, \"404\"),\r\n                \"Page not found\")));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/components/no-match.tsx?");

/***/ }),

/***/ "./src/shared/components/problem-edit-media.tsx":
/*!******************************************************!*\
  !*** ./src/shared/components/problem-edit-media.tsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/image-upload/image-upload */ \"./src/shared/components/common/image-upload/image-upload.tsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass ProblemEditMedia extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    componentDidMount() {\r\n        this.refresh(this.props.match.params.problemId);\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.problemId !== this.props.match.params.problemId) {\r\n            this.refresh(this.props.match.params.problemId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_5__[\"getProblem\"])(this.props.auth.getAccessToken(), id).then((data) => this.setState({ id: data.id, isAuthenticated: data.metadata.isAuthenticated }));\r\n    }\r\n    onNewMediaChanged(newMedia) {\r\n        this.setState({ newMedia });\r\n    }\r\n    save(event) {\r\n        event.preventDefault();\r\n        this.setState({ isSaving: true });\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_5__[\"postProblemMedia\"])(this.props.auth.getAccessToken(), this.state.id, this.state.newMedia)\r\n            .then((response) => {\r\n            this.setState({ pushUrl: \"/problem/\" + response.id });\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n        });\r\n    }\r\n    onCancel() {\r\n        window.history.back();\r\n    }\r\n    render() {\r\n        if (!this.state || !this.state.id) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        else if (this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        else if (!this.state.isAuthenticated) {\r\n            this.setState({ pushUrl: \"/login\" });\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Well\"], null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", { onSubmit: this.save.bind(this) },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"FormGroup\"], { controlId: \"formControlsMedia\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { auth: this.props.auth, onMediaChanged: this.onNewMediaChanged.bind(this) })),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"ButtonGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { bsStyle: \"danger\", onClick: this.onCancel.bind(this) }, \"Cancel\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { type: \"submit\", bsStyle: \"success\", disabled: this.state.isSaving }, this.state.isSaving ? 'Saving...' : 'Save')))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProblemEditMedia);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/problem-edit-media.tsx?");

/***/ }),

/***/ "./src/shared/components/problem-edit.tsx":
/*!************************************************!*\
  !*** ./src/shared/components/problem-edit.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-google-maps */ \"react-google-maps\");\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_google_maps__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_user_selector_user_selector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/user-selector/user-selector */ \"./src/shared/components/common/user-selector/user-selector.tsx\");\n/* harmony import */ var _common_problem_section_problem_section__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/problem-section/problem-section */ \"./src/shared/components/common/problem-section/problem-section.tsx\");\n/* harmony import */ var _common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/image-upload/image-upload */ \"./src/shared/components/common/image-upload/image-upload.tsx\");\n/* harmony import */ var react_input_calendar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-input-calendar */ \"react-input-calendar\");\n/* harmony import */ var react_input_calendar__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_input_calendar__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst GettingStartedGoogleMap = Object(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"withScriptjs\"])(Object(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"withGoogleMap\"])((props) => (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"GoogleMap\"], { defaultZoom: props.defaultZoom, defaultCenter: props.defaultCenter, defaultMapTypeId: google.maps.MapTypeId.TERRAIN, onClick: props.onClick.bind(undefined) }, props.markers))));\r\nclass ProblemEdit extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.problemId);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.problemId !== this.props.match.params.problemId) {\r\n            this.refresh(this.props.match.params.problemId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), id).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    onNameChanged(e) {\r\n        const { data } = this.state;\r\n        data.name = e.target.value;\r\n        this.setState({ data });\r\n    }\r\n    onNrChanged(e) {\r\n        const { data } = this.state;\r\n        data.nr = parseInt(e.target.value);\r\n        this.setState({ data });\r\n    }\r\n    onLatChanged(e) {\r\n        const { data } = this.state;\r\n        data.lat = parseFloat(e.target.value);\r\n        this.setState({ data });\r\n    }\r\n    onLngChanged(e) {\r\n        const { data } = this.state;\r\n        data.lng = parseFloat(e.target.value);\r\n        this.setState({ data });\r\n    }\r\n    onVisibilityChanged(visibility, e) {\r\n        const { data } = this.state;\r\n        data.visibility = visibility;\r\n        this.setState({ data });\r\n    }\r\n    onCommentChanged(e) {\r\n        const { data } = this.state;\r\n        data.comment = e.target.value;\r\n        this.setState({ data });\r\n    }\r\n    onFaDateChanged(newFaDate) {\r\n        const { data } = this.state;\r\n        data.faDate = newFaDate;\r\n        this.setState({ data });\r\n    }\r\n    onOriginalGradeChanged(originalGrade, e) {\r\n        const { data } = this.state;\r\n        data.originalGrade = originalGrade;\r\n        this.setState({ data });\r\n    }\r\n    onTypeIdChanged(typeId, e) {\r\n        const { data } = this.state;\r\n        data.typeId = typeId;\r\n        this.setState({ data });\r\n    }\r\n    onNewMediaChanged(newMedia) {\r\n        const { data } = this.state;\r\n        data.newMedia = newMedia;\r\n        this.setState({ data });\r\n    }\r\n    save(event) {\r\n        event.preventDefault();\r\n        this.setState({ isSaving: true });\r\n        const { data } = this.state;\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_10__[\"postProblem\"])(this.props.auth.getAccessToken(), this.props.location.query.idSector, data.id, data.visibility, data.name, data.comment, data.originalGrade, data.fa, data.faDate, data.nr, (data.typeId ? data.metadata.types.find(t => t.id === data.typeId) : data.metadata.types[0]), data.lat, data.lng, data.sections, data.newMedia)\r\n            .then((response) => {\r\n            this.setState({ pushUrl: \"/problem/\" + response.id });\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            this.setState({ error });\r\n        });\r\n    }\r\n    onMapClick(event) {\r\n        const { data } = this.state;\r\n        data.lat = event.latLng.lat();\r\n        data.lng = event.latLng.lng();\r\n        this.setState({ data });\r\n    }\r\n    onUsersUpdated(newUsers) {\r\n        const { data } = this.state;\r\n        data.fa = newUsers.map(u => {\r\n            return { id: (typeof u.value === 'string' || u.value instanceof String) ? -1 : u.value, firstname: u.label, surname: null };\r\n        });\r\n        this.setState({ data });\r\n    }\r\n    onSectionsUpdated(sections) {\r\n        const { data } = this.state;\r\n        data.sections = sections;\r\n        this.setState({ data });\r\n    }\r\n    onCancel() {\r\n        window.history.back();\r\n    }\r\n    render() {\r\n        const { data } = this.state;\r\n        if (this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        else if (this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        else if (!this.props || !this.props.match || !this.props.match.params || !this.props.match.params.problemId || !this.props.location || !this.props.location.query || !this.props.location.query.idSector) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Invalid action...\"));\r\n        }\r\n        else if (!data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        else if (!data.metadata.isAdmin) {\r\n            this.setState({ pushUrl: \"/login\", error: null });\r\n        }\r\n        const yesterday = new Date();\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n        var visibilityText = 'Visible for everyone';\r\n        if (data.visibility === 1) {\r\n            visibilityText = 'Only visible for administrators';\r\n        }\r\n        else if (data.visibility === 2) {\r\n            visibilityText = 'Only visible for super administrators';\r\n        }\r\n        const selectedType = data.typeId ? data.metadata.types.find(t => t.id === data.typeId) : data.metadata.types[0];\r\n        var defaultCenter;\r\n        var defaultZoom;\r\n        if (data.lat != 0 && data.lng != 0) {\r\n            defaultCenter = { lat: data.lat, lng: data.lng };\r\n            defaultZoom = 15;\r\n        }\r\n        else if (this.props.location.query.lat && parseFloat(this.props.location.query.lat) > 0) {\r\n            defaultCenter = { lat: parseFloat(this.props.location.query.lat), lng: parseFloat(this.props.location.query.lng) };\r\n            defaultZoom = 14;\r\n        }\r\n        else {\r\n            defaultCenter = data.metadata.defaultCenter;\r\n            defaultZoom = data.metadata.defaultZoom;\r\n        }\r\n        var sections = null;\r\n        if (!data.metadata.isBouldering) {\r\n            sections = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsSections\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Section(s)\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_problem_section_problem_section__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { sections: data.sections, grades: data.metadata.grades, onSectionsUpdated: this.onSectionsUpdated.bind(this) })));\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, data.metadata.title)),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", { onSubmit: this.save.bind(this) },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsName\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Problem name\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { type: \"text\", value: data.name, placeholder: \"Enter name\", onChange: this.onNameChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsFaDate\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"FA date (yyyy-mm-dd)\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_input_calendar__WEBPACK_IMPORTED_MODULE_8___default.a, { format: 'YYYY-MM-DD', computableFormat: 'YYYY-MM-DD', date: data.faDate, onChange: this.onFaDateChanged.bind(this) }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ButtonGroup\"], null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { onClick: this.onFaDateChanged.bind(this, Object(_api__WEBPACK_IMPORTED_MODULE_10__[\"convertFromDateToString\"])(yesterday)) }, \"Yesterday\"),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { onClick: this.onFaDateChanged.bind(this, Object(_api__WEBPACK_IMPORTED_MODULE_10__[\"convertFromDateToString\"])(new Date())) }, \"Today\"))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsTypeId\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Type\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"DropdownButton\"], { title: selectedType.type + (selectedType.subType ? \" - \" + selectedType.subType : \"\"), id: \"bg-nested-dropdown\" }, data.metadata.types.map((t, i) => { return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { key: i, eventKey: i, onSelect: this.onTypeIdChanged.bind(this, t.id) },\r\n                            t.type,\r\n                            \" \",\r\n                            t.subType ? \" - \" + t.subType : \"\"); }))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsGrade\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Grade\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"DropdownButton\"], { title: data.originalGrade, id: \"bg-nested-dropdown\" }, data.metadata.grades.map((g, i) => { return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { key: i, eventKey: i, onSelect: this.onOriginalGradeChanged.bind(this, g.grade) }, g.grade); }))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsFA\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"FA\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_user_selector_user_selector__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { auth: this.props.auth, users: data.fa ? data.fa.map(u => { return { value: u.id, label: u.firstname + \" \" + u.surname }; }) : [], onUsersUpdated: this.onUsersUpdated.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsVisibility\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Visibility\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"DropdownButton\"], { title: visibilityText, id: \"bg-nested-dropdown\" },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"0\", onSelect: this.onVisibilityChanged.bind(this, 0) }, \"Visible for everyone\"),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"1\", onSelect: this.onVisibilityChanged.bind(this, 1) }, \"Only visible for administrators\"),\r\n                            data.metadata.isSuperAdmin && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"2\", onSelect: this.onVisibilityChanged.bind(this, 2) }, \"Only visible for super administrators\"))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsSectorNr\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Sector number\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { type: \"text\", value: data.nr, placeholder: \"Enter sector number\", onChange: this.onNrChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsComment\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Comment\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { style: { height: '100px' }, componentClass: \"textarea\", placeholder: \"Enter comment\", value: data.comment, onChange: this.onCommentChanged.bind(this) })),\r\n                    sections,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsMedia\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { auth: this.props.auth, onMediaChanged: this.onNewMediaChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsMap\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Click to mark problem on map\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"section\", { style: { height: '600px' } },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GettingStartedGoogleMap, { googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCpaVd5518yMB-oiIyP5JnTVWMfrOv4sAI&v=3.exp\", loadingElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), containerElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), mapElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), defaultZoom: defaultZoom, defaultCenter: defaultCenter, onClick: this.onMapClick.bind(this), markers: data.lat != 0 && data.lng != 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"Marker\"], { position: { lat: data.lat, lng: data.lng } }) : \"\" })),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Latitude\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { type: \"text\", value: data.lat, placeholder: \"Latitude\", onChange: this.onLatChanged.bind(this) }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Longitude\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { type: \"text\", value: data.lng, placeholder: \"Longitude\", onChange: this.onLngChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ButtonGroup\"], null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsStyle: \"danger\", onClick: this.onCancel.bind(this) }, \"Cancel\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { type: \"submit\", bsStyle: \"success\", disabled: this.state.isSaving }, this.state.isSaving ? 'Saving...' : 'Save problem'))))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProblemEdit);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/problem-edit.tsx?");

/***/ }),

/***/ "./src/shared/components/problem.tsx":
/*!*******************************************!*\
  !*** ./src/shared/components/problem.tsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_map_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/map/map */ \"./src/shared/components/common/map/map.tsx\");\n/* harmony import */ var _common_gallery_gallery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/gallery/gallery */ \"./src/shared/components/common/gallery/gallery.tsx\");\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-bootstrap */ \"react-router-bootstrap\");\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_tick_modal_tick_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/tick-modal/tick-modal */ \"./src/shared/components/common/tick-modal/tick-modal.tsx\");\n/* harmony import */ var _common_comment_modal_comment_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./common/comment-modal/comment-modal */ \"./src/shared/components/common/comment-modal/comment-modal.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Problem extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = {\r\n            data,\r\n            tabIndex: 1,\r\n            showTickModal: false,\r\n            showCommentModal: false\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.problemId);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.problemId !== this.props.match.params.problemId) {\r\n            this.refresh(this.props.match.params.problemId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), id).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    handleTabsSelection(key) {\r\n        this.setState({ tabIndex: key });\r\n    }\r\n    /* intersperse: Return an array with the separator interspersed between\r\n     * each element of the input array.\r\n     *\r\n     * > _([1,2,3]).intersperse(0)\r\n     * [1,0,2,0,3]\r\n    */\r\n    intersperse(arr, sep) {\r\n        if (arr.length === 0) {\r\n            return [];\r\n        }\r\n        return arr.slice(1).reduce((xs, x, i) => {\r\n            return (xs.concat([sep, x]));\r\n        }, [arr[0]]);\r\n    }\r\n    closeTickModal(event) {\r\n        this.setState({ showTickModal: false });\r\n        this.refresh(this.props.match.params.problemId);\r\n    }\r\n    openTickModal(event) {\r\n        this.setState({ showTickModal: true });\r\n    }\r\n    closeCommentModal(event) {\r\n        this.setState({ showCommentModal: false });\r\n        this.refresh(this.props.match.params.problemId);\r\n    }\r\n    openCommentModal(event) {\r\n        this.setState({ showCommentModal: true });\r\n    }\r\n    onRemoveMedia(idMediaToRemove) {\r\n        const allMedia = this.state.data.media.filter(m => m.id != idMediaToRemove);\r\n        this.setState({ media: allMedia });\r\n    }\r\n    render() {\r\n        const { data } = this.state;\r\n        if (!data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        const markers = [];\r\n        if (data.lat > 0 && data.lng > 0) {\r\n            markers.push({\r\n                lat: data.lat,\r\n                lng: data.lng,\r\n                title: data.name + ' [' + data.grade + ']',\r\n                label: data.name.charAt(0),\r\n                url: '/problem/' + data.id,\r\n                icon: {\r\n                    url: (data.ticks && data.ticks.filter(t => t.writable).length > 0) ? 'https://mt.google.com/vt/icon?name=icons/spotlight/spotlight-waypoint-a.png' : 'https://mt.google.com/vt/icon?name=icons/spotlight/spotlight-waypoint-b.png',\r\n                    labelOriginX: 11,\r\n                    labelOriginY: 13\r\n                }\r\n            });\r\n        }\r\n        if (data.sectorLat > 0 && data.sectorLng > 0) {\r\n            markers.push({\r\n                lat: data.sectorLat,\r\n                lng: data.sectorLng,\r\n                title: 'Parking',\r\n                labelContent: data.sectorName,\r\n                icon: {\r\n                    url: 'https://maps.google.com/mapfiles/kml/shapes/parking_lot_maps.png',\r\n                    scaledSizeW: 32,\r\n                    scaledSizeH: 32\r\n                },\r\n                url: '/sector/' + data.sectorId\r\n            });\r\n        }\r\n        const map = markers.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_map_map__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { markers: markers, defaultCenter: { lat: markers[0].lat, lng: markers[0].lng }, defaultZoom: 16 }) : null;\r\n        const gallery = data.media && data.media.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_gallery_gallery__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { auth: this.props.auth, isAdmin: this.state.data.metadata.isAdmin, alt: data.name + ' ' + data.grade + ' (' + data.areaName + \" - \" + data.sectorName + ')', media: data.media, showThumbnails: false, removeMedia: this.onRemoveMedia.bind(this) }) : null;\r\n        var topoContent = null;\r\n        if (map && gallery) {\r\n            topoContent = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"], { activeKey: this.state.tabIndex, animation: false, onSelect: this.handleTabsSelection.bind(this), id: \"problem_tab\", unmountOnExit: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tab\"], { eventKey: 1, title: \"Media\" }, this.state.tabIndex == 1 ? gallery : false),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tab\"], { eventKey: 2, title: \"Map\" }, this.state.tabIndex == 2 ? map : false)));\r\n        }\r\n        else if (map) {\r\n            topoContent = map;\r\n        }\r\n        else if (gallery) {\r\n            topoContent = gallery;\r\n        }\r\n        var fa = data.fa ? data.fa.map((u, i) => { return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { key: i, to: `/user/${u.id}` },\r\n            u.firstname,\r\n            \" \",\r\n            u.surname)); }) : [];\r\n        fa = this.intersperse(fa, \", \");\r\n        var table = null;\r\n        if (data.ticks) {\r\n            const rows = data.ticks.map((t, i) => {\r\n                const isTickedClassName = t.writable ? 'success' : '';\r\n                var stars = null;\r\n                if (t.stars === 0.5) {\r\n                    stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star-half\" });\r\n                }\r\n                else if (t.stars === 1.0) {\r\n                    stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n                }\r\n                else if (t.stars === 1.5) {\r\n                    stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n                }\r\n                else if (t.stars === 2.0) {\r\n                    stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n                }\r\n                else if (t.stars === 2.5) {\r\n                    stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n                }\r\n                else if (t.stars === 3.0) {\r\n                    stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n                }\r\n                if (stars) {\r\n                    stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"], { id: \"Guidelines\", title: \"Guidelines\" },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            \" Nice\",\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            \" Very nice\",\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                            \" Fantastic!\") }, stars);\r\n                }\r\n                return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", { className: isTickedClassName, key: i },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, t.date),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/user/${t.idUser}` }, t.name)),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, t.suggestedGrade),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, t.comment),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, stars)));\r\n            });\r\n            table = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Table\"], { striped: true, condensed: true, hover: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"When\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Name\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Grade\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Comment\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Stars\"))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, rows)));\r\n        }\r\n        var comment = null;\r\n        if (data.comments) {\r\n            const comments = data.comments.map((c, i) => {\r\n                const header = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/user/${c.idUser}` }, c.name),\r\n                    \" \",\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, c.date)));\r\n                return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Panel\"], { key: i },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Panel\"].Heading, null, header),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Panel\"].Body, null, c.message)));\r\n            });\r\n            comment = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, comments);\r\n        }\r\n        ;\r\n        var section = null;\r\n        if (data.sections) {\r\n            const sections = data.sections.map((s, i) => {\r\n                return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", { key: i },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, s.nr),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, s.grade),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, s.description)));\r\n            });\r\n            section = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"Sections:\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Table\"], { striped: true, bordered: true, condensed: true, hover: true },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, \"#\"),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, \"Grade\"),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, \"Description\"))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, sections))));\r\n        }\r\n        ;\r\n        var headerButtons = null;\r\n        if (data.metadata && data.metadata.isAuthenticated) {\r\n            headerButtons = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: 'right' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"ButtonGroup\"], null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: \"Tick problem\" }, \"Tick problem\") },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\", onClick: this.openTickModal.bind(this) }, \"Tick\")),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: \"Add comment\" }, \"Add comment\") },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\", onClick: this.openCommentModal.bind(this) },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"comment\", inverse: true }))),\r\n                    data.metadata.isAdmin ?\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: data.id }, \"Edit problem\") },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__[\"LinkContainer\"], { to: { pathname: `/problem/edit/${data.id}`, query: { idSector: data.sectorId, lat: data.sectorLat, lng: data.sectorLng } } },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\" },\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"edit\", inverse: true }))))\r\n                        :\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: data.id }, \"Add image(s)\") },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__[\"LinkContainer\"], { to: { pathname: `/problem/edit/media/${data.id}` } },\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\" },\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__[\"FontAwesomeIcon\"], { icon: \"image\", inverse: true })))))));\r\n        }\r\n        const accessToken = this.props.auth.getAccessToken();\r\n        var tickModal = null;\r\n        if (data.ticks) {\r\n            const userTicks = data.ticks.filter(t => t.writable);\r\n            if (userTicks && userTicks.length > 0) {\r\n                tickModal = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_tick_modal_tick_modal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { auth: this.props.auth, idTick: userTicks[0].id, idProblem: data.id, date: userTicks[0].date, comment: userTicks[0].comment, grade: userTicks[0].suggestedGrade, grades: data.metadata.grades, stars: userTicks[0].stars, show: this.state.showTickModal, onHide: this.closeTickModal.bind(this) });\r\n            }\r\n        }\r\n        if (!tickModal) {\r\n            tickModal = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_tick_modal_tick_modal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { auth: this.props.auth, idTick: -1, idProblem: data.id, grade: data.originalGrade, grades: data.metadata.grades, show: this.state.showTickModal, onHide: this.closeTickModal.bind(this) });\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                data.metadata.canonical && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"link\", { rel: \"canonical\", href: data.metadata.canonical }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"script\", { type: \"application/ld+json\", dangerouslySetInnerHTML: { __html: JSON.stringify(data.metadata.jsonLd) } }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:description\", content: data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:url\", content: data.metadata.og.url }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:title\", content: data.metadata.title }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image\", content: data.metadata.og.image }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:width\", content: data.metadata.og.imageWidth }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:height\", content: data.metadata.og.imageHeight })),\r\n            tickModal,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_comment_modal_comment_modal__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { auth: this.props.auth, idProblem: data.id, show: this.state.showCommentModal, onHide: this.closeCommentModal.bind(this) }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Breadcrumb\"], null,\r\n                headerButtons,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/browse` }, \"Browse\"),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/area/${data.areaId}` }, data.areaName),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_9__[\"LockSymbol\"], { visibility: data.areaVisibility }),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/sector/${data.sectorId}` }, data.sectorName),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_9__[\"LockSymbol\"], { visibility: data.sectorVisibility }),\r\n                \" / \",\r\n                data.name,\r\n                \" \",\r\n                data.grade,\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_9__[\"LockSymbol\"], { visibility: data.visibility })),\r\n            topoContent,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Well\"], { bsSize: \"small\" },\r\n                !data.metadata.isBouldering && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"Type:\"),\r\n                    \" \",\r\n                    data.t.type + \" - \" + data.t.subType,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"Comment:\"),\r\n                \" \",\r\n                data.comment,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"FA:\"),\r\n                \" \",\r\n                fa,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"FA date:\"),\r\n                \" \",\r\n                data.faDateHr,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"Original grade:\"),\r\n                \" \",\r\n                data.originalGrade,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                data.sectorLat > 0 && data.sectorLng > 0 &&\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", { href: `http://maps.google.com/maps?q=loc:${data.sectorLat},${data.sectorLng}&navigate=yes`, rel: \"noopener\", target: \"_blank\" }, \"Start navigation\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null)),\r\n                section),\r\n            table,\r\n            comment));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Problem);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/problem.tsx?");

/***/ }),

/***/ "./src/shared/components/sector-edit.tsx":
/*!***********************************************!*\
  !*** ./src/shared/components/sector-edit.tsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-google-maps */ \"react-google-maps\");\n/* harmony import */ var react_google_maps__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_google_maps__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/image-upload/image-upload */ \"./src/shared/components/common/image-upload/image-upload.tsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst GettingStartedGoogleMap = Object(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"withScriptjs\"])(Object(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"withGoogleMap\"])((props) => {\r\n    var marker = null;\r\n    if (props.parkingMarkerLat != 0 && props.parkingMarkerLng != 0) {\r\n        marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"Marker\"], { position: { lat: props.parkingMarkerLat, lng: props.parkingMarkerLng }, icon: { url: 'https://maps.google.com/mapfiles/kml/shapes/parking_lot_maps.png', scaledSize: new google.maps.Size(32, 32) } });\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"GoogleMap\"], { defaultZoom: props.defaultZoom, defaultCenter: props.defaultCenter, defaultMapTypeId: google.maps.MapTypeId.TERRAIN, onClick: props.onClick.bind(undefined), onRightClick: props.onRightClick.bind(undefined) },\r\n        marker,\r\n        props.outline));\r\n}));\r\nclass SectorEdit extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.sectorId);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.sectorId !== this.props.match.params.sectorId) {\r\n            this.refresh(this.props.match.params.sectorId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), id).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    onNameChanged(e) {\r\n        const { data } = this.state;\r\n        data.name = e.target.value;\r\n        this.setState({ data });\r\n    }\r\n    onVisibilityChanged(visibility, e) {\r\n        const { data } = this.state;\r\n        data.visibility = visibility;\r\n        this.setState({ data });\r\n    }\r\n    onCommentChanged(e) {\r\n        const { data } = this.state;\r\n        data.comment = e.target.value;\r\n        this.setState({ data });\r\n    }\r\n    onNewMediaChanged(newMedia) {\r\n        const { data } = this.state;\r\n        data.newMedia = newMedia;\r\n        this.setState({ data });\r\n    }\r\n    save(event) {\r\n        event.preventDefault();\r\n        this.setState({ isSaving: true });\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_7__[\"postSector\"])(this.props.auth.getAccessToken(), this.props.location.query.idArea, this.state.data.id, this.state.data.visibility, this.state.data.name, this.state.data.comment, this.state.data.lat, this.state.data.lng, this.state.data.polygonCoords, this.state.data.newMedia)\r\n            .then((response) => {\r\n            this.setState({ pushUrl: \"/sector/\" + response.id });\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            this.setState({ error });\r\n        });\r\n    }\r\n    onMapClick(event) {\r\n        const { data } = this.state;\r\n        data.lat = event.latLng.lat();\r\n        data.lng = event.latLng.lng();\r\n        this.setState({ data });\r\n    }\r\n    onMapRightClick(event) {\r\n        const { data } = this.state;\r\n        const coords = event.latLng.lat() + \",\" + event.latLng.lng();\r\n        if (data.polygonCoords) {\r\n            data.polygonCoords = data.polygonCoords + \";\" + coords;\r\n        }\r\n        else {\r\n            data.polygonCoords = coords;\r\n        }\r\n        this.setState({ data });\r\n    }\r\n    resetMapPolygon(event) {\r\n        const { data } = this.state;\r\n        data.polygonCoords = null;\r\n        this.setState({ data });\r\n    }\r\n    onCancel() {\r\n        window.history.back();\r\n    }\r\n    render() {\r\n        if (this.state.error) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, this.state.error.toString());\r\n        }\r\n        else if (this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        else if (!this.props || !this.props.match || !this.props.match.params || !this.props.match.params.sectorId || !this.props.location || !this.props.location.query || !this.props.location.query.idArea) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Invalid action...\"));\r\n        }\r\n        else if (!this.state.data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        else if (!this.state.data.metadata.isAdmin) {\r\n            this.setState({ pushUrl: \"/login\", error: null });\r\n        }\r\n        var triangleCoords = this.state.data.polygonCoords ? this.state.data.polygonCoords.split(\";\").map((p, i) => {\r\n            const latLng = p.split(\",\");\r\n            return { lat: parseFloat(latLng[0]), lng: parseFloat(latLng[1]) };\r\n        }) : [];\r\n        var outline = null;\r\n        if (triangleCoords.length == 1) {\r\n            outline = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"Marker\"], { position: { lat: triangleCoords[0].lat, lng: triangleCoords[0].lng } });\r\n        }\r\n        else if (triangleCoords.length > 1) {\r\n            outline = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_google_maps__WEBPACK_IMPORTED_MODULE_4__[\"Polygon\"], { paths: triangleCoords, options: { strokeColor: '#FF3300', strokeOpacity: 0.5, strokeWeight: 2, fillColor: '#FF3300', fillOpacity: 0.15 }, onClick: this.onMapClick.bind(this), onRightClick: this.onMapRightClick.bind(this) });\r\n        }\r\n        var visibilityText = 'Visible for everyone';\r\n        if (this.state.data.visibility === 1) {\r\n            visibilityText = 'Only visible for administrators';\r\n        }\r\n        else if (this.state.data.visibility === 2) {\r\n            visibilityText = 'Only visible for super administrators';\r\n        }\r\n        const defaultCenter = this.props && this.props.location && this.props.location.query && this.props.location.query.lat && parseFloat(this.props.location.query.lat) > 0 ? { lat: parseFloat(this.props.location.query.lat), lng: parseFloat(this.props.location.query.lng) } : this.state.data.metadata.defaultCenter;\r\n        const defaultZoom = this.props && this.props.location && this.props.location.query && this.props.location.query.lat && parseFloat(this.props.location.query.lat) > 0 ? 14 : this.state.data.metadata.defaultZoom;\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, this.state.data.metadata.title)),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", { onSubmit: this.save.bind(this) },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsName\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Sector name\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { type: \"text\", value: this.state.data.name, placeholder: \"Enter name\", onChange: this.onNameChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsComment\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Comment\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormControl\"], { style: { height: '100px' }, componentClass: \"textarea\", placeholder: \"Enter comment\", value: this.state.data.comment, onChange: this.onCommentChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsVisibility\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Visibility\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"DropdownButton\"], { title: visibilityText, id: \"bg-nested-dropdown\" },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"0\", onSelect: this.onVisibilityChanged.bind(this, 0) }, \"Visible for everyone\"),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"1\", onSelect: this.onVisibilityChanged.bind(this, 1) }, \"Only visible for administrators\"),\r\n                            this.state.data.metadata.isSuperAdmin && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"MenuItem\"], { eventKey: \"2\", onSelect: this.onVisibilityChanged.bind(this, 2) }, \"Only visible for super administrators\"))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsMedia\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_image_upload_image_upload__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { auth: this.props.auth, onMediaChanged: this.onNewMediaChanged.bind(this) })),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"FormGroup\"], { controlId: \"formControlsMap\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ControlLabel\"], null, \"Left mouse button to position parking coordinate, right mouse button to add polygon points (sector outline)\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"section\", { style: { height: '600px' } },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GettingStartedGoogleMap, { googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCpaVd5518yMB-oiIyP5JnTVWMfrOv4sAI&v=3.exp\", loadingElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), containerElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), mapElement: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: `100%` } }), defaultZoom: defaultZoom, defaultCenter: defaultCenter, onClick: this.onMapClick.bind(this), onRightClick: this.onMapRightClick.bind(this), parkingMarkerLat: this.state.data.lat, parkingMarkerLng: this.state.data.lng, outline: outline }))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"ButtonGroup\"], null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsStyle: \"warning\", onClick: this.resetMapPolygon.bind(this) }, \"Clear polygon\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsStyle: \"danger\", onClick: this.onCancel.bind(this) }, \"Cancel\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { type: \"submit\", bsStyle: \"success\", disabled: this.state.isSaving }, this.state.isSaving ? 'Saving...' : 'Save sector'))))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SectorEdit);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/sector-edit.tsx?");

/***/ }),

/***/ "./src/shared/components/sector.tsx":
/*!******************************************!*\
  !*** ./src/shared/components/sector.tsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_map_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/map/map */ \"./src/shared/components/common/map/map.tsx\");\n/* harmony import */ var _common_gallery_gallery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/gallery/gallery */ \"./src/shared/components/common/gallery/gallery.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-bootstrap */ \"react-router-bootstrap\");\n/* harmony import */ var react_router_bootstrap__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TableRow extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    /* intersperse: Return an array with the separator interspersed between\r\n     * each element of the input array.\r\n     *\r\n     * > _([1,2,3]).intersperse(0)\r\n     * [1,0,2,0,3]\r\n    */\r\n    intersperse(arr, sep) {\r\n        if (arr.length === 0) {\r\n            return [];\r\n        }\r\n        return arr.slice(1).reduce((xs, x, i) => {\r\n            return (xs.concat([sep, x]));\r\n        }, [arr[0]]);\r\n    }\r\n    render() {\r\n        var comment = \"\";\r\n        if (this.props.problem.comment) {\r\n            if (this.props.problem.comment.length > 40) {\r\n                const tooltip = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: this.props.problem.id }, this.props.problem.comment));\r\n                comment = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { key: this.props.problem.id, placement: \"top\", overlay: tooltip },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, this.props.problem.comment.substring(0, 40) + \"...\"));\r\n            }\r\n            else {\r\n                comment = this.props.problem.comment;\r\n            }\r\n        }\r\n        var fa = this.props.problem.fa ? this.props.problem.fa.map((u, i) => { return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { key: i, to: `/user/${u.id}` },\r\n            u.firstname,\r\n            \" \",\r\n            u.surname)); }) : [];\r\n        fa = this.intersperse(fa, \", \");\r\n        const isTickedClassName = this.props.problem.ticked ? 'success' : '';\r\n        var stars = null;\r\n        if (this.props.problem.stars === 0.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" });\r\n        }\r\n        else if (this.props.problem.stars === 1.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else if (this.props.problem.stars === 1.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n        }\r\n        else if (this.props.problem.stars === 2.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else if (this.props.problem.stars === 2.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n        }\r\n        else if (this.props.problem.stars === 3.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        if (stars) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"], { id: \"Guidelines\", title: \"Guidelines\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    \" Nice\",\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    \" Very nice\",\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                    \" Fantastic!\") }, stars);\r\n        }\r\n        var type;\r\n        if (!this.props.isBouldering) {\r\n            var typeImg;\r\n            const subtype = this.props.problem.t.subtype;\r\n            switch (this.props.problem.t.id) {\r\n                case 2:\r\n                    typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/bolt.jpg\", alt: subtype });\r\n                    break;\r\n                case 3:\r\n                    typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/trad.jpg\", alt: subtype });\r\n                    break;\r\n                case 4:\r\n                    typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/mixed.jpg\", alt: subtype });\r\n                    break;\r\n                case 5:\r\n                    typeImg = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", { height: \"20\", src: \"/jpg/toprope.jpg\", alt: subtype });\r\n                    break;\r\n            }\r\n            type = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"], { id: this.props.problem.t.id, title: \"Type\" }, this.props.problem.t.type + \" - \" + this.props.problem.t.subType) }, typeImg));\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", { className: isTickedClassName },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.problem.nr),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/problem/${this.props.problem.id}` }, this.props.problem.name),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__[\"LockSymbol\"], { visibility: this.props.problem.visibility })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, comment),\r\n            type,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.problem.grade),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, fa),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.problem.numTicks),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, stars),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.problem.numImages),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.problem.numMovies),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, ((this.props.problem.lat > 0 && this.props.problem.lng > 0) || (this.props.problemsInTopo.indexOf(this.props.problem.id) >= 0)) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"check\" }))));\r\n    }\r\n}\r\nclass Sector extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data, tabIndex: 1 };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.sectorId);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.sectorId !== this.props.match.params.sectorId) {\r\n            this.refresh(this.props.match.params.sectorId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), id).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    handleTabsSelection(key) {\r\n        this.setState({ tabIndex: key });\r\n    }\r\n    onRemoveMedia(idMediaToRemove) {\r\n        const allMedia = this.state.data.media.filter(m => m.id != idMediaToRemove);\r\n        this.setState({ media: allMedia });\r\n    }\r\n    render() {\r\n        const { data } = this.state;\r\n        if (!data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        const problemsInTopo = [];\r\n        if (data.media) {\r\n            data.media.forEach(m => {\r\n                if (m.svgs) {\r\n                    m.svgs.forEach(svg => problemsInTopo.push(svg.problemId));\r\n                }\r\n            });\r\n        }\r\n        const rows = data.problems.map((problem, i) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TableRow, { isBouldering: data.metadata.isBouldering, problem: problem, problemsInTopo: problemsInTopo, key: i }));\r\n        });\r\n        const markers = data.problems.filter(p => p.lat != 0 && p.lng != 0).map(p => {\r\n            return {\r\n                lat: p.lat,\r\n                lng: p.lng,\r\n                title: p.nr + \" - \" + p.name + \" [\" + p.grade + \"]\",\r\n                label: p.name.charAt(0),\r\n                url: '/problem/' + p.id,\r\n                icon: {\r\n                    url: p.ticked ? 'https://mt.google.com/vt/icon?name=icons/spotlight/spotlight-waypoint-a.png' : 'https://mt.google.com/vt/icon?name=icons/spotlight/spotlight-waypoint-b.png',\r\n                    labelOriginX: 11,\r\n                    labelOriginY: 13\r\n                }\r\n            };\r\n        });\r\n        if (data.lat > 0 && data.lng > 0) {\r\n            markers.push({\r\n                lat: data.lat,\r\n                lng: data.lng,\r\n                title: 'Parking',\r\n                icon: {\r\n                    url: 'https://maps.google.com/mapfiles/kml/shapes/parking_lot_maps.png',\r\n                    scaledSizeW: 32,\r\n                    scaledSizeH: 32\r\n                },\r\n                url: '/sector/' + data.id\r\n            });\r\n        }\r\n        const defaultCenter = data.lat && data.lat > 0 ? { lat: data.lat, lng: data.lng } : data.metadata.defaultCenter;\r\n        const defaultZoom = data.lat && data.lat > 0 ? 15 : data.metadata.defaultZoom;\r\n        const map = markers.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_map_map__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { markers: markers, defaultCenter: defaultCenter, defaultZoom: defaultZoom }) : null;\r\n        const gallery = data.media && data.media.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_gallery_gallery__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { auth: this.props.auth, isAdmin: this.state.data.metadata.isAdmin, alt: data.name + \" (\" + data.areaName + \")\", media: data.media, showThumbnails: data.media.length > 1, removeMedia: this.onRemoveMedia.bind(this) }) : null;\r\n        var topoContent = null;\r\n        if (map && gallery) {\r\n            topoContent = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"], { activeKey: this.state.tabIndex, animation: false, onSelect: this.handleTabsSelection.bind(this), id: \"sector_tab\", unmountOnExit: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tab\"], { eventKey: 1, title: \"Topo\" }, this.state.tabIndex == 1 ? gallery : false),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tab\"], { eventKey: 2, title: \"Map\" }, this.state.tabIndex == 2 ? map : false)));\r\n        }\r\n        else if (map) {\r\n            topoContent = map;\r\n        }\r\n        else if (gallery) {\r\n            topoContent = gallery;\r\n        }\r\n        const nextNr = data.problems.length > 0 ? data.problems[data.problems.length - 1].nr + 1 : 1;\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                data.metadata.canonical && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"link\", { rel: \"canonical\", href: data.metadata.canonical }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"script\", { type: \"application/ld+json\", dangerouslySetInnerHTML: { __html: JSON.stringify(data.metadata.jsonLd) } }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:description\", content: data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:url\", content: data.metadata.og.url }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:title\", content: data.metadata.title }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image\", content: data.metadata.og.image }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:width\", content: data.metadata.og.imageWidth }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:height\", content: data.metadata.og.imageHeight })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Breadcrumb\"], null,\r\n                this.state && this.state.data && this.state.data.metadata.isAdmin ?\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: 'right' } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"ButtonGroup\"], null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: \"Add problem\" }, \"Add problem\") },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_7__[\"LinkContainer\"], { to: { pathname: `/problem/edit/-1`, query: { idSector: data.id, nr: nextNr, lat: data.lat, lng: data.lng } } },\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\" },\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"plus-square\", inverse: true })))),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Tooltip\"], { id: data.id }, \"Edit sector\") },\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_7__[\"LinkContainer\"], { to: { pathname: `/sector/edit/${data.id}`, query: { idArea: data.areaId, lat: data.lat, lng: data.lng } } },\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], { bsStyle: \"primary\", bsSize: \"xsmall\" },\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"edit\", inverse: true })))))) :\r\n                    null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/browse` }, \"Browse\"),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/area/${data.areaId}` }, data.areaName),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__[\"LockSymbol\"], { visibility: data.areaVisibility }),\r\n                \" / \",\r\n                data.name,\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_5__[\"LockSymbol\"], { visibility: data.visibility })),\r\n            topoContent,\r\n            data.comment ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Well\"], null, data.comment) : null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[\"Table\"], { striped: true, condensed: true, hover: true },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null,\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"hashtag\" })),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Name\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Description\"),\r\n                        !data.metadata.isBouldering && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Type\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Grade\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"FA\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Ticks\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Stars\"),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"camera\" })),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"video\" })),\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null,\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"map-marker\" })))),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, rows))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sector);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/sector.tsx?");

/***/ }),

/***/ "./src/shared/components/svg-edit.tsx":
/*!********************************************!*\
  !*** ./src/shared/components/svg-edit.tsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ \"react-router\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../api */ \"./src/shared/api.ts\");\n/* harmony import */ var _utils_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/svg */ \"./src/shared/utils/svg.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass SvgEdit extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        if (data) {\r\n            this.state = {\r\n                mediaId: data.mediaId,\r\n                nr: data.nr,\r\n                w: data.w,\r\n                h: data.h,\r\n                ctrl: data.ctrl,\r\n                svgId: data.svgId,\r\n                points: data.points,\r\n                readOnlySvgs: data.readOnlySvgs,\r\n                activePoint: data.activePoint,\r\n                draggedPoint: data.draggedPoint,\r\n                draggedCubic: data.draggedCubic,\r\n                hasAnchor: data.hasAnchor,\r\n                areaId: data.areaId,\r\n                areaName: data.areaName,\r\n                areaVisibility: data.areaVisibility,\r\n                sectorId: data.sectorId,\r\n                sectorName: data.sectorName,\r\n                sectorVisibility: data.sectorVisibility,\r\n                id: data.id,\r\n                name: data.name,\r\n                grade: data.grade,\r\n                visibility: data.visibility,\r\n                metadata: data.metadata\r\n            };\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state || !this.state.id) {\r\n            this.refresh(this.props.match.params.problemIdMediaId);\r\n        }\r\n        if (document) {\r\n            document.addEventListener(\"keydown\", this.handleKeyDown.bind(this));\r\n            document.addEventListener(\"keyup\", this.handleKeyUp.bind(this));\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.problemIdMediaId !== this.props.match.params.problemIdMediaId) {\r\n            this.refresh(this.props.match.params.problemIdMediaId);\r\n        }\r\n    }\r\n    refresh(problemIdMediaId) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), problemIdMediaId).then((data) => this.setState(() => ({\r\n            mediaId: data.mediaId,\r\n            nr: data.nr,\r\n            w: data.w,\r\n            h: data.h,\r\n            ctrl: data.ctrl,\r\n            svgId: data.svgId,\r\n            points: data.points,\r\n            readOnlySvgs: data.readOnlySvgs,\r\n            activePoint: data.activePoint,\r\n            draggedPoint: data.draggedPoint,\r\n            draggedCubic: data.draggedCubic,\r\n            hasAnchor: data.hasAnchor,\r\n            areaId: data.areaId,\r\n            areaName: data.areaName,\r\n            areaVisibility: data.areaVisibility,\r\n            sectorId: data.sectorId,\r\n            sectorName: data.sectorName,\r\n            sectorVisibility: data.sectorVisibility,\r\n            id: data.id,\r\n            name: data.name,\r\n            grade: data.grade,\r\n            visibility: data.visibility,\r\n            metadata: data.metadata\r\n        })));\r\n    }\r\n    componentWillUnmount() {\r\n        if (document) {\r\n            document.removeEventListener(\"keydown\", this.handleKeyDown.bind(this));\r\n            document.removeEventListener(\"keyup\", this.handleKeyUp.bind(this));\r\n        }\r\n    }\r\n    handleKeyDown(e) {\r\n        if (e.ctrlKey)\r\n            this.setState({ ctrl: true });\r\n    }\r\n    ;\r\n    handleKeyUp(e) {\r\n        if (!e.ctrlKey)\r\n            this.setState({ ctrl: false });\r\n    }\r\n    ;\r\n    setHasAnchor(anchor) {\r\n        this.setState({ hasAnchor: anchor });\r\n    }\r\n    onCancel() {\r\n        window.history.back();\r\n    }\r\n    save(event) {\r\n        event.preventDefault();\r\n        Object(_api__WEBPACK_IMPORTED_MODULE_5__[\"postProblemSvg\"])(this.props.auth.getAccessToken(), this.state.id, this.state.mediaId, this.state.points.length < 2, this.state.svgId, this.generatePath(), this.state.hasAnchor)\r\n            .then((response) => {\r\n            this.setState({ pushUrl: \"/problem/\" + this.state.id });\r\n        })\r\n            .catch((error) => {\r\n            console.warn(error);\r\n            this.setState({ error });\r\n        });\r\n    }\r\n    cancelDragging(e) {\r\n        this.setState({\r\n            draggedPoint: false,\r\n            draggedCubic: false\r\n        });\r\n    }\r\n    getMouseCoords(e) {\r\n        const dim = this.refs[\"buldreinfo-svg-edit-img\"].getBoundingClientRect();\r\n        const dx = this.state.w / dim.width;\r\n        const dy = this.state.h / dim.height;\r\n        const x = Math.round((e.clientX - dim.left) * dx);\r\n        const y = Math.round((e.clientY - dim.top) * dy);\r\n        return { x, y };\r\n    }\r\n    ;\r\n    addPoint(e) {\r\n        if (this.state.ctrl) {\r\n            let coords = this.getMouseCoords(e);\r\n            let points = this.state.points;\r\n            points.push(coords);\r\n            this.setState({\r\n                points,\r\n                activePoint: points.length - 1\r\n            });\r\n        }\r\n    }\r\n    ;\r\n    generatePath() {\r\n        var d = \"\";\r\n        this.state.points.forEach((p, i) => {\r\n            if (i === 0) { // first point\r\n                d += \"M \";\r\n            }\r\n            else if (p.q) { // quadratic\r\n                d += `Q ${p.q.x} ${p.q.y} `;\r\n            }\r\n            else if (p.c) { // cubic\r\n                d += `C ${p.c[0].x} ${p.c[0].y} ${p.c[1].x} ${p.c[1].y} `;\r\n            }\r\n            else if (p.a) { // arc\r\n                d += `A ${p.a.rx} ${p.a.ry} ${p.a.rot} ${p.a.laf} ${p.a.sf} `;\r\n            }\r\n            else {\r\n                d += \"L \";\r\n            }\r\n            d += `${p.x} ${p.y} `;\r\n        });\r\n        return d;\r\n    }\r\n    handleMouseMove(e) {\r\n        e.preventDefault();\r\n        if (!this.state.ctrl) {\r\n            if (this.state.draggedPoint) {\r\n                this.setPointCoords(this.getMouseCoords(e));\r\n            }\r\n            else if (this.state.draggedCubic !== false) {\r\n                this.setCubicCoords(this.getMouseCoords(e), this.state.draggedCubic);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    ;\r\n    setPointCoords(coords) {\r\n        const points = this.state.points;\r\n        const active = this.state.activePoint;\r\n        points[active].x = coords.x;\r\n        points[active].y = coords.y;\r\n        this.setState({ points });\r\n    }\r\n    ;\r\n    setCubicCoords(coords, anchor) {\r\n        const points = this.state.points;\r\n        const active = this.state.activePoint;\r\n        points[active].c[anchor].x = coords.x;\r\n        points[active].c[anchor].y = coords.y;\r\n        this.setState({ points });\r\n    }\r\n    ;\r\n    setDraggedPoint(index) {\r\n        if (!this.state.ctrl) {\r\n            this.setState({ activePoint: index, draggedPoint: true });\r\n        }\r\n    }\r\n    ;\r\n    setDraggedCubic(index, anchor) {\r\n        if (!this.state.ctrl) {\r\n            this.setState({ activePoint: index, draggedCubic: anchor });\r\n        }\r\n    }\r\n    ;\r\n    setPointType(v) {\r\n        const points = this.state.points;\r\n        const active = this.state.activePoint;\r\n        if (active !== 0) { // not the first point\r\n            switch (v) {\r\n                case \"L\":\r\n                    points[active] = { x: points[active].x, y: points[active].y };\r\n                    break;\r\n                case \"C\":\r\n                    points[active] = {\r\n                        x: points[active].x,\r\n                        y: points[active].y,\r\n                        c: [\r\n                            {\r\n                                x: (points[active].x + points[active - 1].x - 50) / 2,\r\n                                y: (points[active].y + points[active - 1].y) / 2\r\n                            },\r\n                            {\r\n                                x: (points[active].x + points[active - 1].x + 50) / 2,\r\n                                y: (points[active].y + points[active - 1].y) / 2\r\n                            }\r\n                        ]\r\n                    };\r\n                    break;\r\n            }\r\n            this.setState({ points });\r\n        }\r\n    }\r\n    ;\r\n    removeActivePoint(e) {\r\n        let points = this.state.points;\r\n        let active = this.state.activePoint;\r\n        if (points.length > 1 && active !== 0) {\r\n            points.splice(active, 1);\r\n            this.setState({ points, activePoint: points.length - 1 });\r\n        }\r\n    }\r\n    ;\r\n    reset(e) {\r\n        this.setState({\r\n            ctrl: false,\r\n            points: [],\r\n            activePoint: 0,\r\n            draggedPoint: false,\r\n            draggedCubic: false,\r\n            hasAnchor: false\r\n        });\r\n    }\r\n    ;\r\n    render() {\r\n        if (!this.state || !this.state.id) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        else if (this.state.error) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, this.state.error.toString());\r\n        }\r\n        else if (this.state.pushUrl) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_3__[\"Redirect\"], { to: this.state.pushUrl, push: true }));\r\n        }\r\n        else if (!this.state.metadata.isAdmin) {\r\n            this.setState({ pushUrl: \"/login\", error: null });\r\n        }\r\n        var circles = this.state.points.map((p, i, a) => {\r\n            var anchors = [];\r\n            if (p.c) {\r\n                anchors.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"g\", { key: anchors.length, className: \"buldreinfo-svg-edit-opacity\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"line\", { className: \"buldreinfo-svg-pointer buldreinfo-svg-route\", x1: a[i - 1].x, y1: a[i - 1].y, x2: p.c[0].x, y2: p.c[0].y, strokeWidth: 0.0026 * this.state.w, strokeDasharray: 0.003 * this.state.w }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"line\", { className: \"buldreinfo-svg-pointer buldreinfo-svg-route\", x1: p.x, y1: p.y, x2: p.c[1].x, y2: p.c[1].y, strokeWidth: 0.0026 * this.state.w, strokeDasharray: 0.003 * this.state.w }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", { className: \"buldreinfo-svg-pointer buldreinfo-svg-ring\", cx: p.c[0].x, cy: p.c[0].y, r: 0.003 * this.state.w, onMouseDown: this.setDraggedCubic.bind(this, i, 0) }),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", { className: \"buldreinfo-svg-pointer buldreinfo-svg-ring\", cx: p.c[1].x, cy: p.c[1].y, r: 0.003 * this.state.w, onMouseDown: this.setDraggedCubic.bind(this, i, 1) })));\r\n            }\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"g\", { key: i, className: \"buldreinfo-svg-ring-group\" + (this.state.activePoint === i ? \"  is-active\" : \"\") },\r\n                anchors,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", { className: \"buldreinfo-svg-pointer buldreinfo-svg-ring\", cx: p.x, cy: p.y, r: 0.003 * this.state.w, onMouseDown: this.setDraggedPoint.bind(this, i) })));\r\n        });\r\n        const path = this.generatePath();\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Breadcrumb\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/browse` }, \"Browse\"),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/area/${this.state.areaId}` }, this.state.areaName),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: this.state.areaVisibility }),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/sector/${this.state.sectorId}` }, this.state.sectorName),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: this.state.sectorVisibility }),\r\n                \" / \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], { to: `/problem/${this.state.id}` },\r\n                    this.state.nr,\r\n                    \" \",\r\n                    this.state.name,\r\n                    \" \",\r\n                    this.state.grade),\r\n                \" \",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: this.state.visibility })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Well\"], { bsSize: \"small\", onMouseUp: this.cancelDragging.bind(this), onMouseLeave: this.cancelDragging.bind(this) },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", { onSubmit: this.save.bind(this) },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"FormGroup\"], { controlId: \"formControlsInfo\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Alert\"], { bsStyle: \"info\" },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"CTRL + CLICK\"),\r\n                                \" to add a point | \",\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"CLICK\"),\r\n                                \" to select a point | \",\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, \"CLICK AND DRAG\"),\r\n                                \" to move a point\",\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"ButtonGroup\"], null,\r\n                                    this.state.activePoint !== 0 && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"DropdownButton\"], { title: !!this.state.points[this.state.activePoint].c ? \"Selected point: Curve to\" : \"Selected point: Line to\", id: \"bg-nested-dropdown\" },\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"MenuItem\"], { eventKey: \"0\", onSelect: this.setPointType.bind(this, \"L\") }, \"Selected point: Line to\"),\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"MenuItem\"], { eventKey: \"1\", onSelect: this.setPointType.bind(this, \"C\") }, \"Selected point: Curve to\"))),\r\n                                    this.state.activePoint !== 0 && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { onClick: this.removeActivePoint.bind(this) }, \"Remove this point\")),\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"DropdownButton\"], { title: this.state.hasAnchor === true ? \"Route has anchor\" : \"No anchor on route\", disabled: this.state.points.length === 0, id: \"bg-nested-dropdown\" },\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"MenuItem\"], { eventKey: \"0\", onSelect: this.setHasAnchor.bind(this, false) }, \"No anchor on route\"),\r\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"MenuItem\"], { eventKey: \"1\", onSelect: this.setHasAnchor.bind(this, true) }, \"Route has anchor\")),\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { bsStyle: \"warning\", disabled: this.state.points.length === 0, onClick: this.reset.bind(this) }, \"Reset path\"),\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { bsStyle: \"danger\", onClick: this.onCancel.bind(this) }, \"Cancel\"),\r\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { type: \"submit\", bsStyle: \"success\" }, this.state.points.length >= 2 ? 'Save' : 'Delete path'))))),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"FormGroup\"], { controlId: \"formControlsImage\" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", { viewBox: \"0 0 \" + this.state.w + \" \" + this.state.h, onClick: this.addPoint.bind(this), onMouseMove: this.handleMouseMove.bind(this) },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"image\", { ref: \"buldreinfo-svg-edit-img\", xlinkHref: Object(_api__WEBPACK_IMPORTED_MODULE_5__[\"getImageUrl\"])(this.state.mediaId, null), width: \"100%\", height: \"100%\" }),\r\n                            Object(_utils_svg__WEBPACK_IMPORTED_MODULE_6__[\"parseReadOnlySvgs\"])(this.state.readOnlySvgs, this.state.w, this.state.h),\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", { className: \"buldreinfo-svg-route\", d: path, strokeWidth: 0.002 * this.state.w }),\r\n                            circles)),\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[\"FormGroup\"], { controlId: \"formControlsPath\" }, path)))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SvgEdit);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/svg-edit.tsx?");

/***/ }),

/***/ "./src/shared/components/user.tsx":
/*!****************************************!*\
  !*** ./src/shared/components/user.tsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-meta-tags */ \"react-meta-tags\");\n/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap-table */ \"react-bootstrap-table\");\n/* harmony import */ var react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_chart_chart__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/chart/chart */ \"./src/shared/components/common/chart/chart.tsx\");\n/* harmony import */ var _common_tick_modal_tick_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/tick-modal/tick-modal */ \"./src/shared/components/common/tick-modal/tick-modal.tsx\");\n/* harmony import */ var _common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/lock-symbol/lock-symbol */ \"./src/shared/components/common/lock-symbol/lock-symbol.tsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"@fortawesome/react-fontawesome\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass User extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\r\n    constructor(props) {\r\n        super(props);\r\n        let data;\r\n        if (false) {}\r\n        else {\r\n            data = props.staticContext.data;\r\n        }\r\n        this.state = { data, showTickModal: false };\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.data) {\r\n            this.refresh(this.props.match.params.userId);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.isAuthenticated !== prevProps.isAuthenticated || prevProps.match.params.userId !== this.props.match.params.userId) {\r\n            this.refresh(this.props.match.params.userId);\r\n        }\r\n    }\r\n    refresh(id) {\r\n        this.props.fetchInitialData(this.props.auth.getAccessToken(), id).then((data) => this.setState(() => ({ data })));\r\n    }\r\n    closeTickModal(event) {\r\n        this.setState({ showTickModal: false });\r\n        this.refresh(this.props.match.params.userId);\r\n    }\r\n    openTickModal(t, event) {\r\n        this.setState({ currTick: t, showTickModal: true });\r\n    }\r\n    formatName(cell, row) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/problem/${row.idProblem}` }, row.name),\r\n            \" \",\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_lock_symbol_lock_symbol__WEBPACK_IMPORTED_MODULE_7__[\"LockSymbol\"], { visibility: row.visibility }));\r\n    }\r\n    formatComment(cell, row) {\r\n        if (row.comment) {\r\n            if (row.comment.length > 40) {\r\n                const tooltip = (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tooltip\"], { id: row.idProblem }, row.comment));\r\n                return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"OverlayTrigger\"], { key: row.idProblem, placement: \"top\", overlay: tooltip },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, row.comment.substring(0, 40) + \"...\"));\r\n            }\r\n            else {\r\n                return row.comment;\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n    formatStars(cell, row) {\r\n        var stars = null;\r\n        if (row.stars === 0.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" });\r\n        }\r\n        else if (row.stars === 1.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else if (row.stars === 1.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n        }\r\n        else if (row.stars === 2.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else if (row.stars === 2.5) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star-half\" }));\r\n        }\r\n        else if (row.stars === 3.0) {\r\n            stars = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: 'nowrap' } },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }));\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Popover\"], { id: \"Guidelines\", title: \"Guidelines\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                \" Nice\",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                \" Very nice\",\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"star\" }),\r\n                \" Fantastic!\") }, stars);\r\n    }\r\n    formatFa(cell, row) {\r\n        if (cell) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"check\" });\r\n        }\r\n        return \"\";\r\n    }\r\n    formatEdit(cell, row) {\r\n        if (this.state.data.readOnly == false && row.id != 0) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"OverlayTrigger\"], { placement: \"top\", overlay: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Tooltip\"], { id: row.id }, \"Edit tick\") },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], { bsSize: \"xsmall\", bsStyle: \"primary\", onClick: this.openTickModal.bind(this, row) },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"edit\", inverse: true })));\r\n        }\r\n        return \"\";\r\n    }\r\n    sortDate(a, b, order) {\r\n        const x = a.date ? (parseInt(a.date.substring(0, 2)) < 50 ? \"20\" : \"19\") + a.date : \"\";\r\n        const y = b.date ? (parseInt(b.date.substring(0, 2)) < 50 ? \"20\" : \"19\") + b.date : \"\";\r\n        if (order === 'asc')\r\n            return x.localeCompare(y);\r\n        return y.localeCompare(x);\r\n    }\r\n    sortGrade(a, b, order) {\r\n        const x = a.gradeNumber ? a.gradeNumber : 0;\r\n        const y = b.gradeNumber ? b.gradeNumber : 0;\r\n        if (order === 'asc') {\r\n            if (x < y) {\r\n                return -1;\r\n            }\r\n            else if (x > y) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        }\r\n        if (y < x) {\r\n            return -1;\r\n        }\r\n        else if (y > x) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n    sortComment(a, b, order) {\r\n        const x = a.comment ? a.comment : \"\";\r\n        const y = b.comment ? b.comment : \"\";\r\n        if (order === 'asc')\r\n            return x.localeCompare(y);\r\n        return y.localeCompare(x);\r\n    }\r\n    render() {\r\n        const { data } = this.state;\r\n        if (!data) {\r\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"center\", null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__[\"FontAwesomeIcon\"], { icon: \"spinner\", spin: true, size: \"3x\" }));\r\n        }\r\n        var numTicks = data.ticks.filter(t => !t.fa).length;\r\n        var numFas = data.ticks.filter(t => t.fa).length;\r\n        const chart = data.ticks.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_chart_chart__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { data: data.ticks }) : null;\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_1___default.a, null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"title\", null, data.metadata.title),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { name: \"description\", content: data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:type\", content: \"website\" }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:description\", content: data.metadata.description }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:url\", content: data.metadata.og.url }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:title\", content: data.metadata.title }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image\", content: data.metadata.og.image }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:width\", content: data.metadata.og.imageWidth }),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"meta\", { property: \"og:image:height\", content: data.metadata.og.imageHeight })),\r\n            this.state.currTick ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_tick_modal_tick_modal__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { auth: this.props.auth, idTick: this.state.currTick.id, idProblem: this.state.currTick.idProblem, date: this.state.currTick.date, comment: this.state.currTick.comment, grade: this.state.currTick.grade, grades: data.metadata.grades, stars: this.state.currTick.stars, show: this.state.showTickModal, onHide: this.closeTickModal.bind(this) }) : \"\",\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Breadcrumb\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], { to: `/` }, \"Home\"),\r\n                \" / \",\r\n                data.name),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"Well\"], { bsSize: \"small\" },\r\n                \"First ascents: \",\r\n                numFas,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                \"Public ascents: \",\r\n                numTicks,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                \"Pictures taken: \",\r\n                data.numImagesCreated,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                \"Appearance in pictures: \",\r\n                data.numImageTags,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                \"Videos created: \",\r\n                data.numVideosCreated,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null),\r\n                \"Appearance in videos: \",\r\n                data.numVideoTags),\r\n            chart,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"BootstrapTable\"], { data: data.ticks, condensed: true, hover: true, columnFilter: false },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"idProblem\", isKey: true, hidden: true }, \"idProblem\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"dateHr\", dataSort: true, sortFunc: this.sortDate.bind(this), dataAlign: \"center\", width: \"70\" }, \"Date\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"name\", dataSort: true, dataFormat: this.formatName.bind(this), width: \"300\" }, \"Name\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"grade\", dataSort: true, sortFunc: this.sortGrade.bind(this), dataAlign: \"center\", width: \"70\" }, \"Grade\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"comment\", dataSort: true, sortFunc: this.sortComment.bind(this), dataFormat: this.formatComment.bind(this), width: \"300\" }, \"Comment\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"stars\", dataSort: true, dataFormat: this.formatStars.bind(this), dataAlign: \"center\", width: \"70\" }, \"Stars\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"fa\", dataSort: true, dataFormat: this.formatFa.bind(this), dataAlign: \"center\", width: \"50\" }, \"FA\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_table__WEBPACK_IMPORTED_MODULE_4__[\"TableHeaderColumn\"], { dataField: \"edit\", dataFormat: this.formatEdit.bind(this), dataAlign: \"center\", width: \"30\" }, \" \"))));\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (User);\r\n\n\n//# sourceURL=webpack:///./src/shared/components/user.tsx?");

/***/ }),

/***/ "./src/shared/routes.ts":
/*!******************************!*\
  !*** ./src/shared/routes.ts ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_area__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/area */ \"./src/shared/components/area.tsx\");\n/* harmony import */ var _components_area_edit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/area-edit */ \"./src/shared/components/area-edit.tsx\");\n/* harmony import */ var _components_browse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/browse */ \"./src/shared/components/browse.tsx\");\n/* harmony import */ var _components_callback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/callback */ \"./src/shared/components/callback.tsx\");\n/* harmony import */ var _components_ethics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/ethics */ \"./src/shared/components/ethics.tsx\");\n/* harmony import */ var _components_finder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/finder */ \"./src/shared/components/finder.tsx\");\n/* harmony import */ var _components_frontpage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/frontpage */ \"./src/shared/components/frontpage/index.tsx\");\n/* harmony import */ var _components_logout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/logout */ \"./src/shared/components/logout.tsx\");\n/* harmony import */ var _components_problem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/problem */ \"./src/shared/components/problem.tsx\");\n/* harmony import */ var _components_problem_edit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/problem-edit */ \"./src/shared/components/problem-edit.tsx\");\n/* harmony import */ var _components_problem_edit_media__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/problem-edit-media */ \"./src/shared/components/problem-edit-media.tsx\");\n/* harmony import */ var _components_sector__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/sector */ \"./src/shared/components/sector.tsx\");\n/* harmony import */ var _components_sector_edit__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/sector-edit */ \"./src/shared/components/sector-edit.tsx\");\n/* harmony import */ var _components_svg_edit__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/svg-edit */ \"./src/shared/components/svg-edit.tsx\");\n/* harmony import */ var _components_user__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/user */ \"./src/shared/components/user.tsx\");\n/* harmony import */ var _components_no_match__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/no-match */ \"./src/shared/components/no-match.tsx\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./api */ \"./src/shared/api.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst routes = [\r\n    { path: '/', exact: true, component: _components_frontpage__WEBPACK_IMPORTED_MODULE_6__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getFrontpage\"])(accessToken) },\r\n    { path: '/browse', exact: false, component: _components_browse__WEBPACK_IMPORTED_MODULE_2__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getBrowse\"])(accessToken) },\r\n    { path: '/callback', exact: false, component: _components_callback__WEBPACK_IMPORTED_MODULE_3__[\"default\"] },\r\n    { path: '/ethics', exact: false, component: _components_ethics__WEBPACK_IMPORTED_MODULE_4__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getMeta\"])(accessToken) },\r\n    { path: '/area/:areaId', exact: true, component: _components_area__WEBPACK_IMPORTED_MODULE_0__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getArea\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/area/edit/:areaId', exact: true, component: _components_area_edit__WEBPACK_IMPORTED_MODULE_1__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getAreaEdit\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/sector/:sectorId', exact: true, component: _components_sector__WEBPACK_IMPORTED_MODULE_11__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getSector\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/sector/edit/:sectorId', exact: true, component: _components_sector_edit__WEBPACK_IMPORTED_MODULE_12__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getSectorEdit\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/problem/:problemId', exact: true, component: _components_problem__WEBPACK_IMPORTED_MODULE_8__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getProblem\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/problem/edit/:problemId', exact: true, component: _components_problem_edit__WEBPACK_IMPORTED_MODULE_9__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getProblemEdit\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/problem/edit/media/:problemId', exact: true, component: _components_problem_edit_media__WEBPACK_IMPORTED_MODULE_10__[\"default\"] },\r\n    { path: '/problem/svg-edit/:problemIdMediaId', exact: true, component: _components_svg_edit__WEBPACK_IMPORTED_MODULE_13__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getSvgEdit\"])(accessToken, path.split('/').pop()) },\r\n    { path: '/finder/:grade', exact: true, component: _components_finder__WEBPACK_IMPORTED_MODULE_5__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getFinder\"])(accessToken, path.split('/').pop()) },\r\n    { path: '/user', exact: true, component: _components_user__WEBPACK_IMPORTED_MODULE_14__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getUser\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/user/:userId', exact: true, component: _components_user__WEBPACK_IMPORTED_MODULE_14__[\"default\"], fetchInitialData: (accessToken, path = '') => Object(_api__WEBPACK_IMPORTED_MODULE_16__[\"getUser\"])(accessToken, parseInt(path.split('/').pop())) },\r\n    { path: '/logout', exact: false, component: _components_logout__WEBPACK_IMPORTED_MODULE_7__[\"default\"] },\r\n    { path: '*', status: 404, component: _components_no_match__WEBPACK_IMPORTED_MODULE_15__[\"default\"] }\r\n];\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (routes);\r\n\n\n//# sourceURL=webpack:///./src/shared/routes.ts?");

/***/ }),

/***/ "./src/shared/utils/auth.ts":
/*!**********************************!*\
  !*** ./src/shared/utils/auth.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Auth; });\n/* harmony import */ var auth0_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! auth0-js */ \"auth0-js\");\n/* harmony import */ var auth0_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(auth0_js__WEBPACK_IMPORTED_MODULE_0__);\n\r\nclass Auth {\r\n    constructor(cookies) {\r\n        this.auth0 = new auth0_js__WEBPACK_IMPORTED_MODULE_0___default.a.WebAuth({\r\n            domain: 'climbing.eu.auth0.com',\r\n            clientID: 'DNJNVzhxbF7PtaBFh7H6iBSNLh2UJWHt',\r\n            redirectUri: `${ false ? undefined : global.myOrigin}/callback`,\r\n            responseType: 'token id_token',\r\n            scope: 'openid email profile'\r\n        });\r\n        this.cookies = cookies;\r\n        this.login = this.login.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n        this.handleAuthentication = this.handleAuthentication.bind(this);\r\n        this.isAuthenticated = this.isAuthenticated.bind(this);\r\n        this.getAccessToken = this.getAccessToken.bind(this);\r\n        this.silentAuthentication = this.silentAuthentication.bind(this);\r\n        this.scheduleRenewal();\r\n    }\r\n    login() {\r\n        this.auth0.authorize();\r\n    }\r\n    handleAuthentication() {\r\n        this.auth0.parseHash((err, authResult) => {\r\n            if (authResult && authResult.accessToken && authResult.idToken) {\r\n                this.setCookies(authResult);\r\n            }\r\n            else if (err) {\r\n                console.log(err);\r\n                alert(`Error: ${err.error}. Check the console for further details.`);\r\n            }\r\n        });\r\n    }\r\n    setCookies(authResult) {\r\n        // Set the time that the access token will expire at\r\n        let expiresAt = JSON.stringify(authResult.expiresIn * 1000 + new Date().getTime());\r\n        const expiryDate = new Date(new Date().getTime() + (7 * 24 * 60 * 60 * 1000));\r\n        const options = { path: '/', expires: expiryDate };\r\n        this.cookies.set('access_token', authResult.accessToken, options);\r\n        this.cookies.set('id_token', authResult.idToken, options);\r\n        this.cookies.set('expires_at', expiresAt, options);\r\n        // schedule a token renewal\r\n        this.scheduleRenewal();\r\n    }\r\n    getAccessToken() {\r\n        const accessToken = this.cookies.get('access_token');\r\n        if (!accessToken) {\r\n            return null;\r\n        }\r\n        return accessToken;\r\n    }\r\n    logout() {\r\n        // Clear access token and ID token from cookies\r\n        this.cookies.remove('access_token');\r\n        this.cookies.remove('id_token');\r\n        this.cookies.remove('expires_at');\r\n        clearTimeout(this.tokenRenewalTimeout);\r\n    }\r\n    isAuthenticated() {\r\n        // Check whether the current time is past the\r\n        // access token's expiry time\r\n        const cookie = this.cookies.get('expires_at');\r\n        if (!cookie) {\r\n            return false;\r\n        }\r\n        let expiresAt = JSON.parse(cookie);\r\n        return new Date().getTime() < expiresAt;\r\n    }\r\n    renewToken() {\r\n        this.auth0.checkSession({}, (err, result) => {\r\n            if (err) {\r\n                console.log(`Could not get a new token (${err.error}: ${err.error_description}).`);\r\n                this.logout();\r\n            }\r\n            else {\r\n                this.setCookies(result);\r\n            }\r\n        });\r\n    }\r\n    scheduleRenewal() {\r\n        const cookie = this.cookies.get('expires_at');\r\n        if (cookie) {\r\n            const expiresAt = JSON.parse(cookie);\r\n            const delay = expiresAt - Date.now();\r\n            if (delay > 0) {\r\n                this.tokenRenewalTimeout = setTimeout(() => {\r\n                    this.renewToken();\r\n                }, delay);\r\n            }\r\n        }\r\n    }\r\n    silentAuthentication() {\r\n        const cookie = this.cookies.get('expires_at');\r\n        if (cookie && !this.isAuthenticated()) {\r\n            this.renewToken();\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/utils/auth.ts?");

/***/ }),

/***/ "./src/shared/utils/svg.tsx":
/*!**********************************!*\
  !*** ./src/shared/utils/svg.tsx ***!
  \**********************************/
/*! exports provided: parsePath, parseReadOnlySvgs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parsePath\", function() { return parsePath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseReadOnlySvgs\", function() { return parseReadOnlySvgs; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var svg_path_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svg-path-parser */ \"svg-path-parser\");\n/* harmony import */ var svg_path_parser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_path_parser__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\nfunction generateSvgNrAndAnchor(path, nr, hasAnchor, w, h) {\r\n    var ixNr;\r\n    var maxY = 0;\r\n    var ixAnchor;\r\n    var minY = 99999999;\r\n    for (var i = 0, len = path.length; i < len; i++) {\r\n        if (path[i].y > maxY) {\r\n            ixNr = i;\r\n            maxY = path[i].y;\r\n        }\r\n        if (path[i].y < minY) {\r\n            ixAnchor = i;\r\n            minY = path[i].y;\r\n        }\r\n    }\r\n    var x = path[ixNr].x;\r\n    var y = path[ixNr].y;\r\n    const r = 0.012 * w;\r\n    if (x < r)\r\n        x = r;\r\n    if (x > (w - r))\r\n        x = w - r;\r\n    if (y < r)\r\n        y = r;\r\n    if (y > (h - r))\r\n        y = h - r;\r\n    var anchor = null;\r\n    if (hasAnchor === true) {\r\n        anchor = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", { className: \"buldreinfo-svg-ring\", cx: path[ixAnchor].x, cy: path[ixAnchor].y, r: 0.006 * w });\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"g\", { className: \"buldreinfo-svg-opacity\" },\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", { className: \"buldreinfo-svg-ring\", cx: x, cy: y, r: r }),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"text\", { className: \"buldreinfo-svg-routenr\", x: x, y: y, fontSize: 0.02 * w }, nr),\r\n        anchor));\r\n}\r\nfunction parsePath(d) {\r\n    if (d) {\r\n        const commands = Object(svg_path_parser__WEBPACK_IMPORTED_MODULE_1__[\"parseSVG\"])(d);\r\n        Object(svg_path_parser__WEBPACK_IMPORTED_MODULE_1__[\"makeAbsolute\"])(commands); // Note: mutates the commands in place!\r\n        return commands.map(c => {\r\n            switch (c.code) {\r\n                case \"L\":\r\n                case \"M\": return { x: Math.round(c.x), y: Math.round(c.y) };\r\n                case \"C\": return { x: Math.round(c.x), y: Math.round(c.y), c: [{ x: Math.round(c.x1), y: Math.round(c.y1) }, { x: Math.round(c.x2), y: Math.round(c.y2) }] };\r\n                case \"S\": return { x: Math.round(c.x), y: Math.round(c.y), c: [{ x: Math.round(c.x0), y: Math.round(c.y0) }, { x: Math.round(c.x2), y: Math.round(c.y2) }] };\r\n            }\r\n        });\r\n    }\r\n    return [];\r\n}\r\nfunction parseReadOnlySvgs(readOnlySvgs, w, h) {\r\n    const shapes = [];\r\n    for (let svg of readOnlySvgs) {\r\n        shapes.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", { key: shapes.length, d: svg.path, className: \"buldreinfo-svg-opacity buldreinfo-svg-route\", strokeWidth: 0.003 * w, strokeDasharray: 0.006 * w }));\r\n        const commands = Object(svg_path_parser__WEBPACK_IMPORTED_MODULE_1__[\"parseSVG\"])(svg.path);\r\n        Object(svg_path_parser__WEBPACK_IMPORTED_MODULE_1__[\"makeAbsolute\"])(commands); // Note: mutates the commands in place!\r\n        shapes.push(generateSvgNrAndAnchor(commands, svg.nr, svg.hasAnchor, w, h));\r\n    }\r\n    return shapes;\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shared/utils/svg.tsx?");

/***/ }),

/***/ "@fortawesome/fontawesome-svg-core":
/*!****************************************************!*\
  !*** external "@fortawesome/fontawesome-svg-core" ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@fortawesome/fontawesome-svg-core\");\n\n//# sourceURL=webpack:///external_%22@fortawesome/fontawesome-svg-core%22?");

/***/ }),

/***/ "@fortawesome/free-solid-svg-icons":
/*!****************************************************!*\
  !*** external "@fortawesome/free-solid-svg-icons" ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@fortawesome/free-solid-svg-icons\");\n\n//# sourceURL=webpack:///external_%22@fortawesome/free-solid-svg-icons%22?");

/***/ }),

/***/ "@fortawesome/react-fontawesome":
/*!*************************************************!*\
  !*** external "@fortawesome/react-fontawesome" ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@fortawesome/react-fontawesome\");\n\n//# sourceURL=webpack:///external_%22@fortawesome/react-fontawesome%22?");

/***/ }),

/***/ "auth0-js":
/*!***************************!*\
  !*** external "auth0-js" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"auth0-js\");\n\n//# sourceURL=webpack:///external_%22auth0-js%22?");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cors\");\n\n//# sourceURL=webpack:///external_%22cors%22?");

/***/ }),

/***/ "es6-promise":
/*!******************************!*\
  !*** external "es6-promise" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"es6-promise\");\n\n//# sourceURL=webpack:///external_%22es6-promise%22?");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");\n\n//# sourceURL=webpack:///external_%22express%22?");

/***/ }),

/***/ "isomorphic-fetch":
/*!***********************************!*\
  !*** external "isomorphic-fetch" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"isomorphic-fetch\");\n\n//# sourceURL=webpack:///external_%22isomorphic-fetch%22?");

/***/ }),

/***/ "object-fit-images":
/*!************************************!*\
  !*** external "object-fit-images" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"object-fit-images\");\n\n//# sourceURL=webpack:///external_%22object-fit-images%22?");

/***/ }),

/***/ "prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"prop-types\");\n\n//# sourceURL=webpack:///external_%22prop-types%22?");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react\");\n\n//# sourceURL=webpack:///external_%22react%22?");

/***/ }),

/***/ "react-avatar":
/*!*******************************!*\
  !*** external "react-avatar" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-avatar\");\n\n//# sourceURL=webpack:///external_%22react-avatar%22?");

/***/ }),

/***/ "react-bootstrap":
/*!**********************************!*\
  !*** external "react-bootstrap" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-bootstrap\");\n\n//# sourceURL=webpack:///external_%22react-bootstrap%22?");

/***/ }),

/***/ "react-bootstrap-table":
/*!****************************************!*\
  !*** external "react-bootstrap-table" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-bootstrap-table\");\n\n//# sourceURL=webpack:///external_%22react-bootstrap-table%22?");

/***/ }),

/***/ "react-cookie":
/*!*******************************!*\
  !*** external "react-cookie" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-cookie\");\n\n//# sourceURL=webpack:///external_%22react-cookie%22?");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-dom\");\n\n//# sourceURL=webpack:///external_%22react-dom%22?");

/***/ }),

/***/ "react-dom/server":
/*!***********************************!*\
  !*** external "react-dom/server" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-dom/server\");\n\n//# sourceURL=webpack:///external_%22react-dom/server%22?");

/***/ }),

/***/ "react-dropzone":
/*!*********************************!*\
  !*** external "react-dropzone" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-dropzone\");\n\n//# sourceURL=webpack:///external_%22react-dropzone%22?");

/***/ }),

/***/ "react-ga":
/*!***************************!*\
  !*** external "react-ga" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-ga\");\n\n//# sourceURL=webpack:///external_%22react-ga%22?");

/***/ }),

/***/ "react-google-maps":
/*!************************************!*\
  !*** external "react-google-maps" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-google-maps\");\n\n//# sourceURL=webpack:///external_%22react-google-maps%22?");

/***/ }),

/***/ "react-google-maps/lib/components/addons/MarkerClusterer":
/*!**************************************************************************!*\
  !*** external "react-google-maps/lib/components/addons/MarkerClusterer" ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-google-maps/lib/components/addons/MarkerClusterer\");\n\n//# sourceURL=webpack:///external_%22react-google-maps/lib/components/addons/MarkerClusterer%22?");

/***/ }),

/***/ "react-image-gallery":
/*!**************************************!*\
  !*** external "react-image-gallery" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-image-gallery\");\n\n//# sourceURL=webpack:///external_%22react-image-gallery%22?");

/***/ }),

/***/ "react-input-calendar":
/*!***************************************!*\
  !*** external "react-input-calendar" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-input-calendar\");\n\n//# sourceURL=webpack:///external_%22react-input-calendar%22?");

/***/ }),

/***/ "react-meta-tags":
/*!**********************************!*\
  !*** external "react-meta-tags" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-meta-tags\");\n\n//# sourceURL=webpack:///external_%22react-meta-tags%22?");

/***/ }),

/***/ "react-meta-tags/server":
/*!*****************************************!*\
  !*** external "react-meta-tags/server" ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-meta-tags/server\");\n\n//# sourceURL=webpack:///external_%22react-meta-tags/server%22?");

/***/ }),

/***/ "react-player":
/*!*******************************!*\
  !*** external "react-player" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-player\");\n\n//# sourceURL=webpack:///external_%22react-player%22?");

/***/ }),

/***/ "react-router":
/*!*******************************!*\
  !*** external "react-router" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-router\");\n\n//# sourceURL=webpack:///external_%22react-router%22?");

/***/ }),

/***/ "react-router-bootstrap":
/*!*****************************************!*\
  !*** external "react-router-bootstrap" ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-router-bootstrap\");\n\n//# sourceURL=webpack:///external_%22react-router-bootstrap%22?");

/***/ }),

/***/ "react-router-dom":
/*!***********************************!*\
  !*** external "react-router-dom" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-router-dom\");\n\n//# sourceURL=webpack:///external_%22react-router-dom%22?");

/***/ }),

/***/ "react-select":
/*!*******************************!*\
  !*** external "react-select" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-select\");\n\n//# sourceURL=webpack:///external_%22react-select%22?");

/***/ }),

/***/ "react-select/lib/Async":
/*!*****************************************!*\
  !*** external "react-select/lib/Async" ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-select/lib/Async\");\n\n//# sourceURL=webpack:///external_%22react-select/lib/Async%22?");

/***/ }),

/***/ "react-select/lib/Creatable":
/*!*********************************************!*\
  !*** external "react-select/lib/Creatable" ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-select/lib/Creatable\");\n\n//# sourceURL=webpack:///external_%22react-select/lib/Creatable%22?");

/***/ }),

/***/ "serialize-javascript":
/*!***************************************!*\
  !*** external "serialize-javascript" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"serialize-javascript\");\n\n//# sourceURL=webpack:///external_%22serialize-javascript%22?");

/***/ }),

/***/ "svg-path-parser":
/*!**********************************!*\
  !*** external "svg-path-parser" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-path-parser\");\n\n//# sourceURL=webpack:///external_%22svg-path-parser%22?");

/***/ }),

/***/ "universal-cookie-express":
/*!*******************************************!*\
  !*** external "universal-cookie-express" ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"universal-cookie-express\");\n\n//# sourceURL=webpack:///external_%22universal-cookie-express%22?");

/***/ })

/******/ });