{"version":3,"sources":["webpack:///./app/components/common/user-selector/user-selector.js","webpack:///./app/components/common/problem-section/problem-section.js","webpack:///./app/components/problem-edit.js","webpack:///./app/components/common/image-upload/image-upload.js"],"names":["a","u","__webpack_require__","o","l","i","r","s","e","__esModule","default","UserSelector","_createReactClass2","displayName","propTypes","label","PropTypes","string","getInitialState","_this","this","Request","get","config","getUrl","withCredentials","end","err","res","console","log","setState","options","body","map","value","id","name","multiValue","props","users","handleOnChange","onUsersUpdated","isValidNewOption","inputValue","state","filter","toLowerCase","length","render","_react2","createElement","style","position","width","_Creatable2","isMulti","onChange","module","exports","_reactBootstrap","ProblemSection","sections","grades","onNumberOfSectionsChange","num","push","nr","grade","description","pop","onSectionsUpdated","onNrChanged","find","target","onGradeChanged","onDescriptionChanged","Form","componentClass","inline","key","FormGroup","controlId","FormControl","type","bind","DropdownButton","title","g","MenuItem","eventKey","onSelect","Well","_react","b","_reactRouter","_reactGoogleMaps","c","h","f","m","p","_reactFontawesome","GettingStartedGoogleMap","withGoogleMap","GoogleMap","defaultZoom","defaultCenter","defaultMapTypeId","google","maps","MapTypeId","TERRAIN","onClick","markers","ProblemEdit","Component","_this2","getRegion","error","types","match","params","problemId","visibility","comment","originalGrade","fa","faDate","convertFromDateToString","Date","location","query","lat","lng","newMedia","typeId","t","parseInt","parseFloat","newFaDate","event","_this3","preventDefault","isSaving","file","replace","photographer","inPhoto","req","post","field","JSON","stringify","sectorId","idSector","set","forEach","attach","pushUrl","latLng","newUsers","String","firstname","surname","window","history","back","_this4","FontAwesomeIcon","icon","spin","size","status","toString","Redirect","to","yesterday","setDate","getDate","visibilityText","selectedType","getDefaultCenter","getDefaultZoom","isBouldering","ControlLabel","_problemSection2","_reactMetaTags2","getTitle","content","onSubmit","save","placeholder","onNameChanged","_reactInputCalendar2","format","computableFormat","date","onFaDateChanged","ButtonGroup","Button","subType","onTypeIdChanged","onOriginalGradeChanged","_userSelector2","onVisibilityChanged","auth","isSuperAdmin","height","onCommentChanged","_imageUpload2","onMediaChanged","onNewMediaChanged","containerElement","mapElement","onMapClick","Marker","onLatChanged","onLngChanged","bsStyle","onCancel","disabled","d","TypeError","ReferenceError","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","Text","_classCallCheck","_possibleConstructorReturn","getPrototypeOf","call","searchResults","nextProps","onValueChanged","sr","toUpperCase","user","rows","href","menuItemSelect","className","display","inputChange","ImageUpload","media","files","allMedia","toRemove","_this5","_reactDropzone2","onDrop","padding","borderWidth","borderColor","borderStyle","borderRadius","accept","Grid","Row","Col","xs","sm","md","lg","Thumbnail","src","preview","onInPhotoChanged","onPhotographerChanged","onRemove"],"mappings":"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","file":"16.index.js","sourcesContent":["import React from 'react';\r\nimport createClass from 'create-react-class';\r\nimport PropTypes from 'prop-types';\r\nimport CreatableSelect from 'react-select/lib/Creatable';\r\nimport Request from 'superagent';\r\nimport config from '../../../utils/config.js';\r\n\r\nvar UserSelector = createClass({\r\n\tdisplayName: 'UserSelector',\r\n\tpropTypes: {\r\n\t\tlabel: PropTypes.string\r\n\t},\r\n\tgetInitialState() {\r\n    Request.get(config.getUrl(\"users/search?value=\")).withCredentials().end((err, res) => {\r\n      if (err) {\r\n        console.log(err);\r\n      } else {\r\n        this.setState({options: res.body.map(u => {return {value: u.id, label: u.name}})});\r\n      }\r\n    });\r\n    return {\r\n      multiValue: this.props.users,\r\n      options: []\r\n    };\r\n\t},\r\n\thandleOnChange(value) {\r\n    this.props.onUsersUpdated(value);\r\n\t\tthis.setState({multiValue: value});\r\n\t},\r\n\tisValidNewOption(inputValue) {\r\n\t\treturn this.state.options.filter(u => inputValue.toLowerCase() === u.label.toLowerCase()).length == 0;\r\n\t},\r\n\trender() {\r\n\t\treturn (\r\n      <div style={{position: 'relative', width: '100%'}}>\r\n        <div style={{width: '100%'}}>\r\n  \t\t\t\t<CreatableSelect\r\n  \t\t\t\t\tisMulti\r\n  \t\t\t\t\toptions={this.state.options}\r\n  \t\t\t\t\tonChange={this.handleOnChange}\r\n\t\t\t\t\t\tisValidNewOption={this.isValidNewOption}\r\n  \t\t\t\t\tvalue={this.state.multiValue}\r\n  \t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nmodule.exports = UserSelector;\r\n","import React from 'react';\r\nimport createClass from 'create-react-class';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, FormGroup, FormControl, DropdownButton, MenuItem, Well } from 'react-bootstrap';\r\n\r\nvar ProblemSection = createClass({\r\n\tdisplayName: 'ProblemSection',\r\n\tpropTypes: {\r\n\t\tlabel: PropTypes.string\r\n\t},\r\n\tgetInitialState() {\r\n    return {\r\n      sections: this.props.sections,\r\n      grades: this.props.grades\r\n    };\r\n\t},\r\n  onNumberOfSectionsChange(num) {\r\n    var sections = null;\r\n    if (num > 1) {\r\n      sections = this.state.sections? this.state.sections : [];\r\n      while (num > sections.length) {\r\n        sections.push({id: sections.length*-1, nr: sections.length+1, grade: 'n/a', description: null});\r\n      }\r\n      while (num < sections.length) {\r\n        sections.pop();\r\n      }\r\n    }\r\n    this.props.onSectionsUpdated(sections);\r\n    this.setState({sections});\r\n  },\r\n  onNrChanged(id, e) {\r\n    const sections = this.state.sections;\r\n    const section = sections.find(s => s.id === id);\r\n    section.nr = e.target.value;\r\n    this.props.onSectionsUpdated(sections);\r\n    this.setState({sections});\r\n  },\r\n  onGradeChanged(id, grade) {\r\n    const sections = this.state.sections;\r\n    const section = sections.find(s => s.id === id);\r\n    section.grade = grade;\r\n    this.props.onSectionsUpdated(sections);\r\n    this.setState({sections});\r\n  },\r\n  onDescriptionChanged(id, e) {\r\n    const sections = this.state.sections;\r\n    const section = sections.find(s => s.id === id);\r\n    section.description = e.target.value;\r\n    this.props.onSectionsUpdated(sections);\r\n    this.setState({sections});\r\n  },\r\n\trender() {\r\n    const sections = this.state.sections && this.state.sections.length > 1 && this.state.sections.map((s, i) => {\r\n      return (\r\n        <Form componentClass=\"fieldset\" inline key={i}>\r\n          <FormGroup controlId=\"formNr\">\r\n            <FormControl type=\"number\" value={s.nr} onChange={this.onNrChanged.bind(this, s.id)} style={{width: '50px'}} />\r\n          </FormGroup>{' '}\r\n          <FormGroup controlId=\"formGrade\">\r\n            <DropdownButton title={s.grade} id=\"bg-nested-dropdown\">\r\n              {this.state.grades.map((g, i) => { return <MenuItem key={i} eventKey={i} onSelect={this.onGradeChanged.bind(this, s.id, g.grade)}>{g.grade}</MenuItem> })}\r\n            </DropdownButton>\r\n          </FormGroup>{' '}\r\n          <FormGroup controlId=\"formDescription\">\r\n            <FormControl type=\"text\" value={s.description? s.description : \"\"} onChange={this.onDescriptionChanged.bind(this, s.id)} style={{width: '500px'}} />\r\n          </FormGroup>\r\n        </Form>\r\n      )\r\n    });\r\n\r\n\t\treturn (\r\n      <Well>\r\n        <FormGroup controlId=\"formControlsNumSections\">\r\n          <DropdownButton title={this.state.sections? this.state.sections.length : 1} id=\"bg-nested-dropdown\">\r\n            <MenuItem key={1} eventKey={1} onSelect={this.onNumberOfSectionsChange.bind(this, 1)}>1</MenuItem>\r\n            <MenuItem key={2} eventKey={2} onSelect={this.onNumberOfSectionsChange.bind(this, 2)}>2</MenuItem>\r\n            <MenuItem key={3} eventKey={3} onSelect={this.onNumberOfSectionsChange.bind(this, 3)}>3</MenuItem>\r\n            <MenuItem key={4} eventKey={4} onSelect={this.onNumberOfSectionsChange.bind(this, 4)}>4</MenuItem>\r\n            <MenuItem key={5} eventKey={5} onSelect={this.onNumberOfSectionsChange.bind(this, 5)}>5</MenuItem>\r\n            <MenuItem key={6} eventKey={6} onSelect={this.onNumberOfSectionsChange.bind(this, 6)}>6</MenuItem>\r\n            <MenuItem key={7} eventKey={7} onSelect={this.onNumberOfSectionsChange.bind(this, 7)}>7</MenuItem>\r\n            <MenuItem key={8} eventKey={8} onSelect={this.onNumberOfSectionsChange.bind(this, 8)}>8</MenuItem>\r\n            <MenuItem key={9} eventKey={9} onSelect={this.onNumberOfSectionsChange.bind(this, 9)}>9</MenuItem>\r\n            <MenuItem key={10} eventKey={10} onSelect={this.onNumberOfSectionsChange.bind(this, 10)}>10</MenuItem>\r\n            <MenuItem key={11} eventKey={11} onSelect={this.onNumberOfSectionsChange.bind(this, 11)}>11</MenuItem>\r\n            <MenuItem key={12} eventKey={12} onSelect={this.onNumberOfSectionsChange.bind(this, 12)}>12</MenuItem>\r\n            <MenuItem key={13} eventKey={13} onSelect={this.onNumberOfSectionsChange.bind(this, 13)}>13</MenuItem>\r\n            <MenuItem key={14} eventKey={14} onSelect={this.onNumberOfSectionsChange.bind(this, 14)}>14</MenuItem>\r\n            <MenuItem key={15} eventKey={15} onSelect={this.onNumberOfSectionsChange.bind(this, 15)}>15</MenuItem>\r\n            <MenuItem key={16} eventKey={16} onSelect={this.onNumberOfSectionsChange.bind(this, 16)}>16</MenuItem>\r\n            <MenuItem key={17} eventKey={17} onSelect={this.onNumberOfSectionsChange.bind(this, 17)}>17</MenuItem>\r\n            <MenuItem key={18} eventKey={18} onSelect={this.onNumberOfSectionsChange.bind(this, 18)}>18</MenuItem>\r\n            <MenuItem key={19} eventKey={19} onSelect={this.onNumberOfSectionsChange.bind(this, 19)}>19</MenuItem>\r\n            <MenuItem key={20} eventKey={20} onSelect={this.onNumberOfSectionsChange.bind(this, 20)}>20</MenuItem>\r\n          </DropdownButton>\r\n        </FormGroup>\r\n        {sections}\r\n      </Well>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nmodule.exports = ProblemSection;\r\n","import React, {Component} from 'react';\r\nimport MetaTags from 'react-meta-tags';\r\nimport { Link } from 'react-router-dom';\r\nimport { Redirect } from 'react-router'\r\nimport Request from 'superagent';\r\nimport { FormGroup, ControlLabel, FormControl, ButtonGroup, Button, DropdownButton, MenuItem, Well } from 'react-bootstrap';\r\nimport {withGoogleMap, GoogleMap, Marker} from \"react-google-maps\";\r\nimport UserSelector from './common/user-selector/user-selector';\r\nimport ProblemSection from './common/problem-section/problem-section';\r\nimport ImageUpload from './common/image-upload/image-upload';\r\nimport config from '../utils/config.js';\r\nimport auth from '../utils/auth.js';\r\nimport Calendar from 'react-input-calendar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst GettingStartedGoogleMap = withGoogleMap(props => (\r\n  <GoogleMap\r\n    defaultZoom={props.defaultZoom}\r\n    defaultCenter={props.defaultCenter}\r\n    defaultMapTypeId={google.maps.MapTypeId.TERRAIN}\r\n    onClick={props.onClick.bind(this)}>\r\n    {props.markers}\r\n  </GoogleMap>\r\n));\r\n\r\nexport default class ProblemEdit extends Component {\r\n  componentDidMount() {\r\n    Request.get(config.getUrl(\"grades?regionId=\" + config.getRegion())).end((err, res) => {\r\n      this.setState({\r\n        error: err? err : null,\r\n        grades: err? null : res.body\r\n      });\r\n    });\r\n    Request.get(config.getUrl(\"types?regionId=\" + config.getRegion())).end((err, res) => {\r\n      this.setState({\r\n        error: err? err : null,\r\n        types: err? null : res.body\r\n      });\r\n    });\r\n    if (this.props.match.params.problemId==-1) {\r\n      this.setState({\r\n        id: -1,\r\n        visibility: 0,\r\n        name: \"\",\r\n        comment: \"\",\r\n        originalGrade: \"n/a\",\r\n        fa: [],\r\n        faDate: config.convertFromDateToString(new Date()),\r\n        nr: this.props.location.query.nr,\r\n        lat: 0,\r\n        lng: 0,\r\n        newMedia: []\r\n      });\r\n    } else {\r\n      Request.get(config.getUrl(\"problems?regionId=\" + config.getRegion() + \"&id=\" + this.props.match.params.problemId)).withCredentials().end((err, res) => {\r\n        if (err) {\r\n          this.setState({error: err});\r\n        } else {\r\n          this.setState({\r\n            id: res.body[0].id,\r\n            visibility: res.body[0].visibility,\r\n            name: res.body[0].name,\r\n            comment: res.body[0].comment,\r\n            originalGrade: res.body[0].originalGrade,\r\n            fa: res.body[0].fa,\r\n            faDate: res.body[0].faDate,\r\n            nr: res.body[0].nr,\r\n            typeId: res.body[0].t.id,\r\n            lat: res.body[0].lat,\r\n            lng: res.body[0].lng,\r\n            sections: res.body[0].sections,\r\n            newMedia: []\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onNameChanged(e) {\r\n    this.setState({name: e.target.value});\r\n  }\r\n\r\n  onNrChanged(e) {\r\n    this.setState({nr: parseInt(e.target.value)});\r\n  }\r\n\r\n  onLatChanged(e) {\r\n    this.setState({lat: parseFloat(e.target.value)});\r\n  }\r\n\r\n  onLngChanged(e) {\r\n    this.setState({lng: parseFloat(e.target.value)});\r\n  }\r\n\r\n  onVisibilityChanged(visibility, e) {\r\n    this.setState({visibility: visibility});\r\n  }\r\n\r\n  onCommentChanged(e) {\r\n    this.setState({comment: e.target.value});\r\n  }\r\n\r\n  onFaDateChanged(newFaDate) {\r\n    this.setState({faDate: newFaDate});\r\n  }\r\n\r\n  onOriginalGradeChanged(originalGrade, e) {\r\n    this.setState({originalGrade: originalGrade});\r\n  }\r\n\r\n  onTypeIdChanged(typeId, e) {\r\n    this.setState({typeId: typeId});\r\n  }\r\n\r\n  onNewMediaChanged(newMedia) {\r\n    this.setState({newMedia: newMedia});\r\n  }\r\n\r\n  save(event) {\r\n    event.preventDefault();\r\n    this.setState({isSaving: true});\r\n    const newMedia = this.state.newMedia.map(m => {return {name: m.file.name.replace(/[^-a-z0-9.]/ig,'_'), photographer: m.photographer, inPhoto: m.inPhoto}});\r\n    var req = Request.post(config.getUrl(\"problems?regionId=\" + config.getRegion()))\r\n    .withCredentials()\r\n    .field('json', JSON.stringify({sectorId: this.props.location.query.idSector, id: this.state.id, visibility: this.state.visibility, name: this.state.name, comment: this.state.comment, originalGrade: this.state.originalGrade, fa: this.state.fa, faDate: this.state.faDate, nr: this.state.nr, t: this.state.typeId? this.state.types.find(t => t.id === this.state.typeId) : this.state.types[0], lat: this.state.lat, lng: this.state.lng, sections: this.state.sections, newMedia: newMedia}))\r\n    .set('Accept', 'application/json');\r\n    this.state.newMedia.forEach(m => req.attach(m.file.name.replace(/[^-a-z0-9.]/ig,'_'), m.file));\r\n    req.end((err, res) => {\r\n      if (err) {\r\n        this.setState({error: err});\r\n      } else {\r\n        this.setState({pushUrl: \"/problem/\" + res.body.id});\r\n      }\r\n    });\r\n  }\r\n\r\n  onMapClick(event) {\r\n    this.setState({lat: event.latLng.lat(), lng: event.latLng.lng()});\r\n  }\r\n\r\n  onUsersUpdated(newUsers) {\r\n    const fa = newUsers.map(u => {\r\n      return {id: (typeof u.value === 'string' || u.value instanceof String)? -1 : u.value, firstname: u.label, surname: null};\r\n    });\r\n    this.setState({fa: fa});\r\n  }\r\n\r\n  onSectionsUpdated(sections) {\r\n    this.setState({sections});\r\n  }\r\n\r\n  onCancel() {\r\n    window.history.back();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state || !this.state.id || !this.state.types || !this.state.grades) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n    else if (this.state.error) {\r\n      return <span><h3>{this.state.error.status}</h3>{this.state.error.toString()}</span>;\r\n    }\r\n    else if (this.state.pushUrl) {\r\n      return (<Redirect to={this.state.pushUrl} push />);\r\n    }\r\n    else if (!this.props || !this.props.match || !this.props.match.params || !this.props.match.params.problemId || !this.props.location || !this.props.location.query || !this.props.location.query.idSector) {\r\n      return <span><h3>Invalid action...</h3></span>;\r\n    }\r\n\r\n    const yesterday = new Date();\r\n    yesterday.setDate(yesterday.getDate()-1);\r\n\r\n    var visibilityText = 'Visible for everyone';\r\n    if (this.state.visibility===1) {\r\n      visibilityText = 'Only visible for administrators';\r\n    } else if (this.state.visibility===2) {\r\n      visibilityText = 'Only visible for super administrators';\r\n    }\r\n\r\n    const selectedType = this.state.typeId? this.state.types.find(t => t.id === this.state.typeId) : this.state.types[0];\r\n    var defaultCenter;\r\n    var defaultZoom;\r\n    if (this.state.lat!=0 && this.state.lng!=0) {\r\n      defaultCenter = {lat: this.state.lat, lng: this.state.lng};\r\n      defaultZoom = 15;\r\n    }\r\n    else if (this.props.location.query.lat && parseFloat(this.props.location.query.lat)>0) {\r\n      defaultCenter = {lat: parseFloat(this.props.location.query.lat), lng: parseFloat(this.props.location.query.lng)};\r\n      defaultZoom = 14;\r\n    }\r\n    else {\r\n      defaultCenter = config.getDefaultCenter();\r\n      defaultZoom = config.getDefaultZoom();\r\n    }\r\n\r\n    var sections = null;\r\n    if (!config.isBouldering()) {\r\n      sections = (\r\n        <FormGroup controlId=\"formControlsSections\">\r\n          <ControlLabel>Section(s)</ControlLabel><br/>\r\n          <ProblemSection sections={this.state.sections} grades={this.state.grades} onSectionsUpdated={this.onSectionsUpdated.bind(this)} />\r\n        </FormGroup>\r\n      );\r\n    }\r\n    return (\r\n      <span>\r\n        <MetaTags>\r\n          <title>{config.getTitle(\"Problem edit\")}</title>\r\n          <meta name=\"description\" content={\"Edit \" + this.state.name} />\r\n        </MetaTags>\r\n        <Well>\r\n          <form onSubmit={this.save.bind(this)}>\r\n            <FormGroup controlId=\"formControlsName\">\r\n              <ControlLabel>Problem name</ControlLabel>\r\n              <FormControl type=\"text\" value={this.state.name} placeholder=\"Enter name\" onChange={this.onNameChanged.bind(this)} />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsFaDate\">\r\n              <ControlLabel>FA date (yyyy-mm-dd)</ControlLabel><br/>\r\n              <Calendar format='YYYY-MM-DD' computableFormat='YYYY-MM-DD' date={this.state.faDate} onChange={this.onFaDateChanged.bind(this)} />\r\n              <ButtonGroup>\r\n                <Button onClick={this.onFaDateChanged.bind(this, config.convertFromDateToString(yesterday))}>Yesterday</Button>\r\n                <Button onClick={this.onFaDateChanged.bind(this, config.convertFromDateToString(new Date()))}>Today</Button>\r\n              </ButtonGroup>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsTypeId\">\r\n              <ControlLabel>Type</ControlLabel><br/>\r\n              <DropdownButton title={selectedType.type + (selectedType.subType? \" - \" + selectedType.subType : \"\")} id=\"bg-nested-dropdown\">\r\n                {this.state.types.map((t, i) => { return <MenuItem key={i} eventKey={i} onSelect={this.onTypeIdChanged.bind(this, t.id)}>{t.type} {t.subType? \" - \" + t.subType : \"\"}</MenuItem> })}\r\n              </DropdownButton>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsGrade\">\r\n              <ControlLabel>Grade</ControlLabel><br/>\r\n              <DropdownButton title={this.state.originalGrade} id=\"bg-nested-dropdown\">\r\n                {this.state.grades.map((g, i) => { return <MenuItem key={i} eventKey={i} onSelect={this.onOriginalGradeChanged.bind(this, g.grade)}>{g.grade}</MenuItem> })}\r\n              </DropdownButton>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsFA\">\r\n              <ControlLabel>FA</ControlLabel><br/>\r\n              <UserSelector users={this.state.fa? this.state.fa.map(u => {return {value: u.id, label: u.firstname + \" \" + u.surname}}) : []} onUsersUpdated={this.onUsersUpdated.bind(this)} />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsVisibility\">\r\n              <ControlLabel>Visibility</ControlLabel><br/>\r\n              <DropdownButton title={visibilityText} id=\"bg-nested-dropdown\">\r\n                <MenuItem eventKey=\"0\" onSelect={this.onVisibilityChanged.bind(this, 0)}>Visible for everyone</MenuItem>\r\n                <MenuItem eventKey=\"1\" onSelect={this.onVisibilityChanged.bind(this, 1)}>Only visible for administrators</MenuItem>\r\n                {auth.isSuperAdmin() && <MenuItem eventKey=\"2\" onSelect={this.onVisibilityChanged.bind(this, 2)}>Only visible for super administrators</MenuItem>}\r\n              </DropdownButton>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsSectorNr\">\r\n              <ControlLabel>Sector number</ControlLabel>\r\n              <FormControl type=\"text\" value={this.state.nr} placeholder=\"Enter sector number\" onChange={this.onNrChanged.bind(this)} />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsComment\">\r\n              <ControlLabel>Comment</ControlLabel>\r\n              <FormControl style={{height: '100px'}} componentClass=\"textarea\" placeholder=\"Enter comment\" value={this.state.comment} onChange={this.onCommentChanged.bind(this)} />\r\n            </FormGroup>\r\n            {sections}\r\n            <FormGroup controlId=\"formControlsMedia\">\r\n              <ImageUpload onMediaChanged={this.onNewMediaChanged.bind(this)} />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"formControlsMap\">\r\n              <ControlLabel>Click to mark problem on map</ControlLabel><br/>\r\n              <section style={{height: '600px'}}>\r\n                <GettingStartedGoogleMap\r\n                  containerElement={<div style={{ height: `100%` }} />}\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                  defaultZoom={defaultZoom}\r\n                  defaultCenter={defaultCenter}\r\n                  onClick={this.onMapClick.bind(this)}\r\n                  markers={this.state.lat!=0 && this.state.lng!=0? <Marker position={{lat: this.state.lat, lng: this.state.lng}}/> : \"\"}\r\n                />\r\n              </section>\r\n              <ControlLabel>Latitude</ControlLabel>\r\n              <FormControl type=\"text\" value={this.state.lat} placeholder=\"Latitude\" onChange={this.onLatChanged.bind(this)} />\r\n              <ControlLabel>Longitude</ControlLabel>\r\n              <FormControl type=\"text\" value={this.state.lng} placeholder=\"Longitude\" onChange={this.onLngChanged.bind(this)} />\r\n            </FormGroup>\r\n            <ButtonGroup><Button bsStyle=\"danger\" onClick={this.onCancel.bind(this)}>Cancel</Button><Button type=\"submit\" bsStyle=\"success\" disabled={this.state.isSaving}>{this.state.isSaving? 'Saving...' : 'Save problem'}</Button></ButtonGroup>\r\n          </form>\r\n        </Well>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Dropzone from 'react-dropzone';\r\nimport Request from 'superagent';\r\nimport { Grid, Row, Col, Thumbnail, MenuItem, Button, FormControl, FormGroup, ControlLabel } from 'react-bootstrap';\r\nimport config from '../../../utils/config.js';\r\n\r\nclass Text extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {searchResults: [], value: ''};\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({value: nextProps.value});\r\n  }\r\n\r\n  inputChange(e) {\r\n    const value = e.target.value;\r\n    this.props.onValueChanged(this.props.m, value);\r\n    if (value.length>0) {\r\n      Request.get(config.getUrl(\"users/search?value=\" + value)).withCredentials().end((err, res) => {\r\n        if (err) {\r\n          console.log(err);\r\n        }\r\n        const sr = res.body.filter(u => u.name.toUpperCase() !== value.toUpperCase());\r\n        this.setState({searchResults: sr});\r\n      });\r\n    }\r\n    else {\r\n      this.setState({searchResults: []});\r\n    }\r\n  }\r\n\r\n  menuItemSelect(user, event) {\r\n    this.setState({searchResults: []});\r\n    this.props.onValueChanged(this.props.m, user.name);\r\n  }\r\n\r\n  render() {\r\n    var searchResults = null;\r\n    if (this.state.searchResults.length>0) {\r\n      const rows = this.state.searchResults.map((u, i) => <MenuItem key={i} href=\"#\" onSelect={this.menuItemSelect.bind(this, u)}>{u.name}</MenuItem>);\r\n      searchResults=(\r\n        <div>\r\n          <ul className=\"dropdown-menu open\" style={{position: 'absolute', display: 'inline'}}>\r\n            {rows}\r\n          </ul>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div style={{position: 'relative', width: '100%'}}>\r\n        <div style={{width: '100%'}}>\r\n          <FormControl style={{display: 'inline-block'}} type=\"text\" placeholder={this.props.placeholder} value={this.state.value} onChange={this.inputChange.bind(this)} />\r\n        </div>\r\n        {searchResults}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default class ImageUpload extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {media: []};\r\n  }\r\n\r\n  onDrop(files) {\r\n    const allMedia = this.state.media;\r\n    files.forEach(f => allMedia.push({file: f}));\r\n    this.setState({media: allMedia});\r\n    this.props.onMediaChanged(allMedia);\r\n  }\r\n\r\n  onPhotographerChanged(m, name) {\r\n    m.photographer=name;\r\n    this.props.onMediaChanged(this.state.media);\r\n  }\r\n\r\n  onInPhotoChanged(m, name) {\r\n    m.inPhoto=name;\r\n    this.props.onMediaChanged(this.state.media);\r\n  }\r\n\r\n  onRemove(toRemove) {\r\n    const allMedia = this.state.media.filter(m => m!=toRemove);\r\n    this.setState({media: allMedia});\r\n    this.props.onMediaChanged(allMedia);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <FormGroup>\r\n        <ControlLabel>Upload image(s)</ControlLabel><br/>\r\n        <Dropzone\r\n          onDrop={this.onDrop.bind(this)}\r\n          style={{width: '220px', height: '75px', padding: '15px', borderWidth: '1px', borderColor: '#666', borderStyle: 'dashed', borderRadius: '5px'}}\r\n          accept={'image/*'}>\r\n          <i>Drop JPG-image(s) here or click to select files to upload.</i>\r\n        </Dropzone>\r\n        {this.state.media.length > 0 ?\r\n          <Grid>\r\n            <Row>\r\n              {this.state.media.map((m, i) =>\r\n                <Col key={i} xs={8} sm={6} md={4} lg={2}>\r\n                  <Thumbnail src={m.file.preview}>\r\n                    <Text m={m} placeholder='In photo' value={m? m.inPhoto : ''}  onValueChanged={this.onInPhotoChanged.bind(this)} />\r\n                    <Text m={m} placeholder='Photographer' value={m? m.photographer : ''} onValueChanged={this.onPhotographerChanged.bind(this)} />\r\n                    <Button style={{width: '100%'}} bsStyle='danger' onClick={this.onRemove.bind(this, m)}>Remove</Button>\r\n                  </Thumbnail>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n          </Grid>\r\n          : null}\r\n      </FormGroup>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}