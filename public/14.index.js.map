{"version":3,"sources":["webpack:///./app/components/problem-edit-media.js","webpack:///./node_modules/react-dropzone/dist/es/utils/index.js","webpack:///./node_modules/react-dropzone/dist/es/utils/styles.js","webpack:///./node_modules/react-dropzone/dist/es/index.js","webpack:///./node_modules/attr-accept/dist/index.js","webpack:///./app/components/common/image-upload/image-upload.js"],"names":["_react","__webpack_require__","i","f","o","_reactRouter","s","_reactBootstrap","u","c","p","e","__esModule","default","ProblemEditMedia","_this2","this","document","title","_config2","getTitle","_superagent2","get","getUrl","getRegion","props","match","params","problemId","withCredentials","end","err","res","setState","error","id","body","newMedia","event","_this3","preventDefault","isSaving","state","map","m","name","file","replace","photographer","inPhoto","req","post","field","JSON","stringify","set","forEach","attach","pushUrl","window","history","back","types","grades","_react2","createElement","status","toString","Redirect","to","push","Well","onSubmit","save","bind","FormGroup","controlId","_imageUpload2","onMediaChanged","onNewMediaChanged","ButtonGroup","Button","bsStyle","onClick","onCancel","type","disabled","_reactFontawesome2","icon","spin","size","t","supportMultiple","getDataTransferItems","dataTransferItemsList","dataTransfer","dt","files","length","items","target","Array","prototype","slice","call","fileAccepted","accept","dist_default","onDocumentDragOver","evt","styles","borderStyle","borderColor","backgroundColor","opacity","width","height","borderWidth","borderRadius","_extends","Object","assign","arguments","source","key","hasOwnProperty","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_objectWithoutProperties","obj","keys","indexOf","es_Dropzone","_React$Component","Dropzone","context","instance","TypeError","_this","self","ReferenceError","__proto__","getPrototypeOf","renderChildren","children","isDragActive","isDragAccept","isDragReject","composeHandlers","onDocumentDrop","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onFileDialogCancel","onInputElementClick","setRef","setRefs","isFileDialogActive","draggedFiles","acceptedFiles","rejectedFiles","subClass","superClass","create","constructor","value","setPrototypeOf","react_default","a","Component","preventDropOnDocument","dragTargets","addEventListener","fileInputEl","onfocus","removeEventListener","handler","node","contains","stopPropagation","dropEffect","filter","el","_props","onDropAccepted","onDropRejected","multiple","disablePreview","fileList","preview","URL","createObjectURL","maxSize","minSize","apply","arr","isArray","arr2","from","splice","_props2","disableClick","userAgent","navigator","setTimeout","open","inputProps","_this4","ref","click","_props3","acceptClassName","activeClassName","disabledClassName","rejectClassName","rest","acceptStyle","activeStyle","_rest$className","className","disabledStyle","rejectStyle","style","_state","filesCount","isMultipleAllowed","every","noStyles","active","appliedStyle","inputAttributes","display","onChange","autoComplete","divProps","aria-disabled","__webpack_exports__","D","propTypes","prop_types_default","string","oneOfType","func","bool","object","number","defaultProps","Infinity","274","module","exports","n","r","l","d","Math","Function","__g","version","__e","Symbol","store","v","F","y","G","h","S","P","x","B","g","b","U","core","W","R","random","concat","min","split","some","trim","charAt","toLowerCase","endsWith","test","valueOf","inspectSource","join","String","_","w","propertyIsEnumerable","ceil","floor","isNaN","275","Text","_classCallCheck","_possibleConstructorReturn","searchResults","nextProps","onValueChanged","console","log","sr","toUpperCase","user","rows","MenuItem","href","onSelect","menuItemSelect","position","FormControl","placeholder","inputChange","ImageUpload","media","allMedia","toRemove","_this5","ControlLabel","_reactDropzone2","padding","Grid","Row","Col","xs","sm","md","lg","Thumbnail","src","onInPhotoChanged","onPhotographerChanged","onRemove"],"mappings":"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","file":"14.index.js","sourcesContent":["import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Redirect } from 'react-router'\r\nimport Request from 'superagent';\r\nimport { FormGroup, ControlLabel, FormControl, ButtonGroup, Button, DropdownButton, MenuItem, Well } from 'react-bootstrap';\r\nimport ImageUpload from './common/image-upload/image-upload';\r\nimport config from '../utils/config.js';\r\nimport auth from '../utils/auth.js';\r\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\r\nimport { faSpinner } from '@fortawesome/fontawesome-free-solid';\r\n\r\nexport default class ProblemEditMedia extends Component {\r\n  componentDidMount() {\r\n    document.title=config.getTitle() + \" | Problem edit (media)\";\r\n    Request.get(config.getUrl(\"problems?regionId=\" + config.getRegion() + \"&id=\" + this.props.match.params.problemId)).withCredentials().end((err, res) => {\r\n      if (err) {\r\n        this.setState({error: err});\r\n      } else {\r\n        this.setState({\r\n          id: res.body[0].id,\r\n          newMedia: []\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  onNewMediaChanged(newMedia) {\r\n    this.setState({newMedia: newMedia});\r\n  }\r\n\r\n  save(event) {\r\n    event.preventDefault();\r\n    this.setState({isSaving: true});\r\n    const newMedia = this.state.newMedia.map(m => {return {name: m.file.name.replace(/[^-a-z0-9.]/ig,'_'), photographer: m.photographer, inPhoto: m.inPhoto}});\r\n    var req = Request.post(config.getUrl(\"problems/media\"))\r\n    .withCredentials()\r\n    .field('json', JSON.stringify({id: this.state.id, newMedia: newMedia}))\r\n    .set('Accept', 'application/json');\r\n    this.state.newMedia.forEach(m => req.attach(m.file.name.replace(/[^-a-z0-9.]/ig,'_'), m.file));\r\n    req.end((err, res) => {\r\n      if (err) {\r\n        this.setState({error: err});\r\n      } else {\r\n        this.setState({pushUrl: \"/problem/\" + res.body.id});\r\n      }\r\n    });\r\n  }\r\n\r\n  onCancel() {\r\n    window.history.back();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state || !this.state.id || !this.state.types || !this.state.grades) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n    else if (this.state.error) {\r\n      return <span><h3>{this.state.error.status}</h3>{this.state.error.toString()}</span>;\r\n    }\r\n    else if (this.state.pushUrl) {\r\n      return (<Redirect to={this.state.pushUrl} push />);\r\n    }\r\n\r\n    return (\r\n      <Well>\r\n        <form onSubmit={this.save.bind(this)}>\r\n          <FormGroup controlId=\"formControlsMedia\">\r\n            <ImageUpload onMediaChanged={this.onNewMediaChanged.bind(this)} />\r\n          </FormGroup>\r\n          <ButtonGroup><Button bsStyle=\"danger\" onClick={this.onCancel.bind(this)}>Cancel</Button><Button type=\"submit\" bsStyle=\"success\" disabled={this.state.isSaving}>{this.state.isSaving? 'Saving...' : 'Save'}</Button></ButtonGroup>\r\n        </form>\r\n      </Well>\r\n    );\r\n  }\r\n}\r\n","import accepts from 'attr-accept';\n\nexport var supportMultiple = typeof document !== 'undefined' && document && document.createElement ? 'multiple' in document.createElement('input') : true;\n\nexport function getDataTransferItems(event) {\n  var dataTransferItemsList = [];\n  if (event.dataTransfer) {\n    var dt = event.dataTransfer;\n    if (dt.files && dt.files.length) {\n      dataTransferItemsList = dt.files;\n    } else if (dt.items && dt.items.length) {\n      // During the drag even the dataTransfer.files is null\n      // but Chrome implements some drag store, which is accesible via dataTransfer.items\n      dataTransferItemsList = dt.items;\n    }\n  } else if (event.target && event.target.files) {\n    dataTransferItemsList = event.target.files;\n  }\n  // Convert from DataTransferItemsList to the native Array\n  return Array.prototype.slice.call(dataTransferItemsList);\n}\n\n// Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\nexport function fileAccepted(file, accept) {\n  return file.type === 'application/x-moz-file' || accepts(file, accept);\n}\n\nexport function fileMatchSize(file, maxSize, minSize) {\n  return file.size <= maxSize && file.size >= minSize;\n}\n\nexport function allFilesAccepted(files, accept) {\n  return files.every(function (file) {\n    return fileAccepted(file, accept);\n  });\n}\n\n// allow the entire document to be a drag target\nexport function onDocumentDragOver(evt) {\n  evt.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n\n  return isIe(userAgent) || isEdge(userAgent);\n}","export default {\n  rejected: {\n    borderStyle: 'solid',\n    borderColor: '#c66',\n    backgroundColor: '#eee'\n  },\n  disabled: {\n    opacity: 0.5\n  },\n  active: {\n    borderStyle: 'solid',\n    borderColor: '#6c6',\n    backgroundColor: '#eee'\n  },\n  default: {\n    width: 200,\n    height: 200,\n    borderWidth: 2,\n    borderColor: '#666',\n    borderStyle: 'dashed',\n    borderRadius: 5\n  }\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint prefer-template: 0 */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { supportMultiple, fileAccepted, allFilesAccepted, fileMatchSize, onDocumentDragOver, getDataTransferItems, isIeOrEdge } from './utils';\nimport styles from './utils/styles';\n\nvar Dropzone = function (_React$Component) {\n  _inherits(Dropzone, _React$Component);\n\n  function Dropzone(props, context) {\n    _classCallCheck(this, Dropzone);\n\n    var _this = _possibleConstructorReturn(this, (Dropzone.__proto__ || Object.getPrototypeOf(Dropzone)).call(this, props, context));\n\n    _this.renderChildren = function (children, isDragActive, isDragAccept, isDragReject) {\n      if (typeof children === 'function') {\n        return children(_extends({}, _this.state, {\n          isDragActive: isDragActive,\n          isDragAccept: isDragAccept,\n          isDragReject: isDragReject\n        }));\n      }\n      return children;\n    };\n\n    _this.composeHandlers = _this.composeHandlers.bind(_this);\n    _this.onClick = _this.onClick.bind(_this);\n    _this.onDocumentDrop = _this.onDocumentDrop.bind(_this);\n    _this.onDragEnter = _this.onDragEnter.bind(_this);\n    _this.onDragLeave = _this.onDragLeave.bind(_this);\n    _this.onDragOver = _this.onDragOver.bind(_this);\n    _this.onDragStart = _this.onDragStart.bind(_this);\n    _this.onDrop = _this.onDrop.bind(_this);\n    _this.onFileDialogCancel = _this.onFileDialogCancel.bind(_this);\n    _this.onInputElementClick = _this.onInputElementClick.bind(_this);\n\n    _this.setRef = _this.setRef.bind(_this);\n    _this.setRefs = _this.setRefs.bind(_this);\n\n    _this.isFileDialogActive = false;\n\n    _this.state = {\n      draggedFiles: [],\n      acceptedFiles: [],\n      rejectedFiles: []\n    };\n    return _this;\n  }\n\n  _createClass(Dropzone, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      this.dragTargets = [];\n\n      if (preventDropOnDocument) {\n        document.addEventListener('dragover', onDocumentDragOver, false);\n        document.addEventListener('drop', this.onDocumentDrop, false);\n      }\n      this.fileInputEl.addEventListener('click', this.onInputElementClick, false);\n      // Tried implementing addEventListener, but didn't work out\n      document.body.onfocus = this.onFileDialogCancel;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', this.onDocumentDrop);\n      }\n      if (this.fileInputEl != null) {\n        this.fileInputEl.removeEventListener('click', this.onInputElementClick, false);\n      }\n      // Can be replaced with removeEventListener, if addEventListener works\n      if (document != null) {\n        document.body.onfocus = null;\n      }\n    }\n  }, {\n    key: 'composeHandlers',\n    value: function composeHandlers(handler) {\n      if (this.props.disabled) {\n        return null;\n      }\n\n      return handler;\n    }\n  }, {\n    key: 'onDocumentDrop',\n    value: function onDocumentDrop(evt) {\n      if (this.node && this.node.contains(evt.target)) {\n        // if we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n        return;\n      }\n      evt.preventDefault();\n      this.dragTargets = [];\n    }\n  }, {\n    key: 'onDragStart',\n    value: function onDragStart(evt) {\n      if (this.props.onDragStart) {\n        this.props.onDragStart.call(this, evt);\n      }\n    }\n  }, {\n    key: 'onDragEnter',\n    value: function onDragEnter(evt) {\n      evt.preventDefault();\n\n      // Count the dropzone and any children that are entered.\n      if (this.dragTargets.indexOf(evt.target) === -1) {\n        this.dragTargets.push(evt.target);\n      }\n\n      this.setState({\n        isDragActive: true, // Do not rely on files for the drag state. It doesn't work in Safari.\n        draggedFiles: getDataTransferItems(evt)\n      });\n\n      if (this.props.onDragEnter) {\n        this.props.onDragEnter.call(this, evt);\n      }\n    }\n  }, {\n    key: 'onDragOver',\n    value: function onDragOver(evt) {\n      // eslint-disable-line class-methods-use-this\n      evt.preventDefault();\n      evt.stopPropagation();\n      try {\n        // The file dialog on Chrome allows users to drag files from the dialog onto\n        // the dropzone, causing the browser the crash when the file dialog is closed.\n        // A drop effect of 'none' prevents the file from being dropped\n        evt.dataTransfer.dropEffect = this.isFileDialogActive ? 'none' : 'copy'; // eslint-disable-line no-param-reassign\n      } catch (err) {\n        // continue regardless of error\n      }\n\n      if (this.props.onDragOver) {\n        this.props.onDragOver.call(this, evt);\n      }\n      return false;\n    }\n  }, {\n    key: 'onDragLeave',\n    value: function onDragLeave(evt) {\n      var _this2 = this;\n\n      evt.preventDefault();\n\n      // Only deactivate once the dropzone and all children have been left.\n      this.dragTargets = this.dragTargets.filter(function (el) {\n        return el !== evt.target && _this2.node.contains(el);\n      });\n      if (this.dragTargets.length > 0) {\n        return;\n      }\n\n      // Clear dragging files state\n      this.setState({\n        isDragActive: false,\n        draggedFiles: []\n      });\n\n      if (this.props.onDragLeave) {\n        this.props.onDragLeave.call(this, evt);\n      }\n    }\n  }, {\n    key: 'onDrop',\n    value: function onDrop(evt) {\n      var _this3 = this;\n\n      var _props = this.props,\n          onDrop = _props.onDrop,\n          onDropAccepted = _props.onDropAccepted,\n          onDropRejected = _props.onDropRejected,\n          multiple = _props.multiple,\n          disablePreview = _props.disablePreview,\n          accept = _props.accept;\n\n      var fileList = getDataTransferItems(evt);\n      var acceptedFiles = [];\n      var rejectedFiles = [];\n\n      // Stop default browser behavior\n      evt.preventDefault();\n\n      // Reset the counter along with the drag on a drop.\n      this.dragTargets = [];\n      this.isFileDialogActive = false;\n\n      fileList.forEach(function (file) {\n        if (!disablePreview) {\n          try {\n            file.preview = window.URL.createObjectURL(file); // eslint-disable-line no-param-reassign\n          } catch (err) {\n            if (process.env.NODE_ENV !== 'production') {\n              console.error('Failed to generate preview for file', file, err); // eslint-disable-line no-console\n            }\n          }\n        }\n\n        if (fileAccepted(file, accept) && fileMatchSize(file, _this3.props.maxSize, _this3.props.minSize)) {\n          acceptedFiles.push(file);\n        } else {\n          rejectedFiles.push(file);\n        }\n      });\n\n      if (!multiple) {\n        // if not in multi mode add any extra accepted files to rejected.\n        // This will allow end users to easily ignore a multi file drop in \"single\" mode.\n        rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(1)));\n      }\n\n      if (onDrop) {\n        onDrop.call(this, acceptedFiles, rejectedFiles, evt);\n      }\n\n      if (rejectedFiles.length > 0 && onDropRejected) {\n        onDropRejected.call(this, rejectedFiles, evt);\n      }\n\n      if (acceptedFiles.length > 0 && onDropAccepted) {\n        onDropAccepted.call(this, acceptedFiles, evt);\n      }\n\n      // Clear files value\n      this.draggedFiles = null;\n\n      // Reset drag state\n      this.setState({\n        isDragActive: false,\n        draggedFiles: [],\n        acceptedFiles: acceptedFiles,\n        rejectedFiles: rejectedFiles\n      });\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick(evt) {\n      var _props2 = this.props,\n          onClick = _props2.onClick,\n          disableClick = _props2.disableClick;\n\n      if (!disableClick) {\n        evt.stopPropagation();\n\n        if (onClick) {\n          onClick.call(this, evt);\n        }\n\n        // in IE11/Edge the file-browser dialog is blocking, ensure this is behind setTimeout\n        // this is so react can handle state changes in the onClick prop above above\n        // see: https://github.com/react-dropzone/react-dropzone/issues/450\n        if (isIeOrEdge()) {\n          setTimeout(this.open.bind(this), 0);\n        } else {\n          this.open();\n        }\n      }\n    }\n  }, {\n    key: 'onInputElementClick',\n    value: function onInputElementClick(evt) {\n      evt.stopPropagation();\n      if (this.props.inputProps && this.props.inputProps.onClick) {\n        this.props.inputProps.onClick();\n      }\n    }\n  }, {\n    key: 'onFileDialogCancel',\n    value: function onFileDialogCancel() {\n      var _this4 = this;\n\n      // timeout will not recognize context of this method\n      var onFileDialogCancel = this.props.onFileDialogCancel;\n      // execute the timeout only if the FileDialog is opened in the browser\n\n      if (this.isFileDialogActive) {\n        setTimeout(function () {\n          if (_this4.fileInputEl != null) {\n            // Returns an object as FileList\n            var files = _this4.fileInputEl.files;\n\n\n            if (!files.length) {\n              _this4.isFileDialogActive = false;\n            }\n          }\n\n          if (typeof onFileDialogCancel === 'function') {\n            onFileDialogCancel();\n          }\n        }, 300);\n      }\n    }\n  }, {\n    key: 'setRef',\n    value: function setRef(ref) {\n      this.node = ref;\n    }\n  }, {\n    key: 'setRefs',\n    value: function setRefs(ref) {\n      this.fileInputEl = ref;\n    }\n    /**\n     * Open system file upload dialog.\n     *\n     * @public\n     */\n\n  }, {\n    key: 'open',\n    value: function open() {\n      this.isFileDialogActive = true;\n      this.fileInputEl.value = null;\n      this.fileInputEl.click();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          accept = _props3.accept,\n          acceptClassName = _props3.acceptClassName,\n          activeClassName = _props3.activeClassName,\n          children = _props3.children,\n          disabled = _props3.disabled,\n          disabledClassName = _props3.disabledClassName,\n          inputProps = _props3.inputProps,\n          multiple = _props3.multiple,\n          name = _props3.name,\n          rejectClassName = _props3.rejectClassName,\n          rest = _objectWithoutProperties(_props3, ['accept', 'acceptClassName', 'activeClassName', 'children', 'disabled', 'disabledClassName', 'inputProps', 'multiple', 'name', 'rejectClassName']);\n\n      var acceptStyle = rest.acceptStyle,\n          activeStyle = rest.activeStyle,\n          _rest$className = rest.className,\n          className = _rest$className === undefined ? '' : _rest$className,\n          disabledStyle = rest.disabledStyle,\n          rejectStyle = rest.rejectStyle,\n          style = rest.style,\n          props = _objectWithoutProperties(rest, ['acceptStyle', 'activeStyle', 'className', 'disabledStyle', 'rejectStyle', 'style']);\n\n      var _state = this.state,\n          isDragActive = _state.isDragActive,\n          draggedFiles = _state.draggedFiles;\n\n      var filesCount = draggedFiles.length;\n      var isMultipleAllowed = multiple || filesCount <= 1;\n      var isDragAccept = filesCount > 0 && allFilesAccepted(draggedFiles, this.props.accept);\n      var isDragReject = filesCount > 0 && (!isDragAccept || !isMultipleAllowed);\n      var noStyles = !className && !style && !activeStyle && !acceptStyle && !rejectStyle && !disabledStyle;\n\n      if (isDragActive && activeClassName) {\n        className += ' ' + activeClassName;\n      }\n      if (isDragAccept && acceptClassName) {\n        className += ' ' + acceptClassName;\n      }\n      if (isDragReject && rejectClassName) {\n        className += ' ' + rejectClassName;\n      }\n      if (disabled && disabledClassName) {\n        className += ' ' + disabledClassName;\n      }\n\n      if (noStyles) {\n        style = styles.default;\n        activeStyle = styles.active;\n        acceptStyle = style.active;\n        rejectStyle = styles.rejected;\n        disabledStyle = styles.disabled;\n      }\n\n      var appliedStyle = _extends({}, style);\n      if (activeStyle && isDragActive) {\n        appliedStyle = _extends({}, style, activeStyle);\n      }\n      if (acceptStyle && isDragAccept) {\n        appliedStyle = _extends({}, appliedStyle, acceptStyle);\n      }\n      if (rejectStyle && isDragReject) {\n        appliedStyle = _extends({}, appliedStyle, rejectStyle);\n      }\n      if (disabledStyle && disabled) {\n        appliedStyle = _extends({}, style, disabledStyle);\n      }\n\n      var inputAttributes = {\n        accept: accept,\n        disabled: disabled,\n        type: 'file',\n        style: { display: 'none' },\n        multiple: supportMultiple && multiple,\n        ref: this.setRefs,\n        onChange: this.onDrop,\n        autoComplete: 'off'\n      };\n\n      if (name && name.length) {\n        inputAttributes.name = name;\n      }\n\n      // Destructure custom props away from props used for the div element\n\n      var acceptedFiles = props.acceptedFiles,\n          preventDropOnDocument = props.preventDropOnDocument,\n          disablePreview = props.disablePreview,\n          disableClick = props.disableClick,\n          onDropAccepted = props.onDropAccepted,\n          onDropRejected = props.onDropRejected,\n          onFileDialogCancel = props.onFileDialogCancel,\n          maxSize = props.maxSize,\n          minSize = props.minSize,\n          divProps = _objectWithoutProperties(props, ['acceptedFiles', 'preventDropOnDocument', 'disablePreview', 'disableClick', 'onDropAccepted', 'onDropRejected', 'onFileDialogCancel', 'maxSize', 'minSize']);\n\n      return React.createElement(\n        'div',\n        _extends({\n          className: className,\n          style: appliedStyle\n        }, divProps /* expand user provided props first so event handlers are never overridden */, {\n          onClick: this.composeHandlers(this.onClick),\n          onDragStart: this.composeHandlers(this.onDragStart),\n          onDragEnter: this.composeHandlers(this.onDragEnter),\n          onDragOver: this.composeHandlers(this.onDragOver),\n          onDragLeave: this.composeHandlers(this.onDragLeave),\n          onDrop: this.composeHandlers(this.onDrop),\n          ref: this.setRef,\n          'aria-disabled': disabled\n        }),\n        this.renderChildren(children, isDragActive, isDragAccept, isDragReject),\n        React.createElement('input', _extends({}, inputProps /* expand user provided inputProps first so inputAttributes override them */, inputAttributes))\n      );\n    }\n  }]);\n\n  return Dropzone;\n}(React.Component);\n\nexport default Dropzone;\n\nDropzone.propTypes = {\n  /**\n   * Allow specific types of files. See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.string,\n\n  /**\n   * Contents of the dropzone\n   */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Disallow clicking on the dropzone container to open file dialog\n   */\n  disableClick: PropTypes.bool,\n\n  /**\n   * Enable/disable the dropzone entirely\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Enable/disable preview generation\n   */\n  disablePreview: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * Pass additional attributes to the `<input type=\"file\"/>` tag\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Allow dropping multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * `name` attribute for the input tag\n   */\n  name: PropTypes.string,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * className\n   */\n  className: PropTypes.string,\n\n  /**\n   * className to apply when drag is active\n   */\n  activeClassName: PropTypes.string,\n\n  /**\n   * className to apply when drop will be accepted\n   */\n  acceptClassName: PropTypes.string,\n\n  /**\n   * className to apply when drop will be rejected\n   */\n  rejectClassName: PropTypes.string,\n\n  /**\n   * className to apply when dropzone is disabled\n   */\n  disabledClassName: PropTypes.string,\n\n  /**\n   * CSS styles to apply\n   */\n  style: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drag is active\n   */\n  activeStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drop will be accepted\n   */\n  acceptStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drop will be rejected\n   */\n  rejectStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when dropzone is disabled\n   */\n  disabledStyle: PropTypes.object,\n\n  /**\n   * onClick callback\n   * @param {Event} event\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * onDrop callback\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * onDropAccepted callback\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * onDropRejected callback\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * onDragStart callback\n   */\n  onDragStart: PropTypes.func,\n\n  /**\n   * onDragEnter callback\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * onDragOver callback\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * onDragLeave callback\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Provide a callback on clicking the cancel button of the file dialog\n   */\n  onFileDialogCancel: PropTypes.func\n};\n\nDropzone.defaultProps = {\n  preventDropOnDocument: true,\n  disabled: false,\n  disablePreview: false,\n  disableClick: false,\n  multiple: true,\n  maxSize: Infinity,\n  minSize: 0\n};","module.exports=function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,\"a\",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p=\"\",n(n.s=13)}([function(t,n){var r=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,n){var r=t.exports={version:\"2.5.0\"};\"number\"==typeof __e&&(__e=r)},function(t,n,r){t.exports=!r(4)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(32)(\"wks\"),o=r(9),i=r(0).Symbol,u=\"function\"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)(\"Symbol.\"+t))}).store=e},function(t,n,r){var e=r(0),o=r(2),i=r(8),u=r(22),c=r(10),f=function(t,n,r){var a,s,p,l,v=t&f.F,y=t&f.G,h=t&f.S,d=t&f.P,x=t&f.B,g=y?e:h?e[n]||(e[n]={}):(e[n]||{}).prototype,m=y?o:o[n]||(o[n]={}),b=m.prototype||(m.prototype={});y&&(r=n);for(a in r)s=!v&&g&&void 0!==g[a],p=(s?g:r)[a],l=x&&s?c(p,e):d&&\"function\"==typeof p?c(Function.call,p):p,g&&u(g,a,p,t&f.U),m[a]!=p&&i(m,a,l),d&&b[a]!=p&&(b[a]=p)};e.core=o,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n,r){var e=r(16),o=r(21);t.exports=r(3)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++r+e).toString(36))}},function(t,n,r){var e=r(24);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,n,r){var e=r(28),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){\"use strict\";n.__esModule=!0,n.default=function(t,n){if(t&&n){var r=Array.isArray(n)?n:n.split(\",\"),e=t.name||\"\",o=t.type||\"\",i=o.replace(/\\/.*$/,\"\");return r.some(function(t){var n=t.trim();return\".\"===n.charAt(0)?e.toLowerCase().endsWith(n.toLowerCase()):/\\/\\*$/.test(n)?i===n.replace(/\\/.*$/,\"\"):o===n})}return!0},r(14),r(34)},function(t,n,r){r(15),t.exports=r(2).Array.some},function(t,n,r){\"use strict\";var e=r(7),o=r(25)(3);e(e.P+e.F*!r(33)([].some,!0),\"Array\",{some:function(t){return o(this,t,arguments[1])}})},function(t,n,r){var e=r(17),o=r(18),i=r(20),u=Object.defineProperty;n.f=r(3)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if(\"get\"in r||\"set\"in r)throw TypeError(\"Accessors not supported!\");return\"value\"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(1);t.exports=function(t){if(!e(t))throw TypeError(t+\" is not an object!\");return t}},function(t,n,r){t.exports=!r(3)&&!r(4)(function(){return 7!=Object.defineProperty(r(19)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,n,r){var e=r(1),o=r(0).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(1);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&\"function\"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if(\"function\"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&\"function\"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(0),o=r(8),i=r(23),u=r(9)(\"src\"),c=Function.toString,f=(\"\"+c).split(\"toString\");r(2).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,c){var a=\"function\"==typeof r;a&&(i(r,\"name\")||o(r,\"name\",n)),t[n]!==r&&(a&&(i(r,u)||o(r,u,t[n]?\"\"+t[n]:f.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:o(t,n,r):(delete t[n],o(t,n,r)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[u]||c.call(this)})},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,n,r){var e=r(10),o=r(26),i=r(27),u=r(12),c=r(29);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,p=6==t,l=5==t||p,v=n||c;return function(n,c,y){for(var h,d,x=i(n),g=o(x),m=e(c,y,3),b=u(g.length),_=0,w=r?v(n,b):f?v(n,0):void 0;b>_;_++)if((l||_ in g)&&(h=g[_],d=m(h,_,x),t))if(r)w[_]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:w.push(h)}else if(s)return!1;return p?-1:a||s?s:w}}},function(t,n,r){var e=r(5);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==e(t)?t.split(\"\"):Object(t)}},function(t,n,r){var e=r(11);t.exports=function(t){return Object(e(t))}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(30);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(1),o=r(31),i=r(6)(\"species\");t.exports=function(t){var n;return o(t)&&(n=t.constructor,\"function\"!=typeof n||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(5);t.exports=Array.isArray||function(t){return\"Array\"==e(t)}},function(t,n,r){var e=r(0),o=e[\"__core-js_shared__\"]||(e[\"__core-js_shared__\"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){\"use strict\";var e=r(4);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){r(35),t.exports=r(2).String.endsWith},function(t,n,r){\"use strict\";var e=r(7),o=r(12),i=r(36),u=\"\".endsWith;e(e.P+e.F*r(38)(\"endsWith\"),\"String\",{endsWith:function(t){var n=i(this,t,\"endsWith\"),r=arguments.length>1?arguments[1]:void 0,e=o(n.length),c=void 0===r?e:Math.min(o(r),e),f=String(t);return u?u.call(n,f,c):n.slice(c-f.length,c)===f}})},function(t,n,r){var e=r(37),o=r(11);t.exports=function(t,n,r){if(e(n))throw TypeError(\"String#\"+r+\" doesn't accept regex!\");return String(o(t))}},function(t,n,r){var e=r(1),o=r(5),i=r(6)(\"match\");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[i])?!!n:\"RegExp\"==o(t))}},function(t,n,r){var e=r(6)(\"match\");t.exports=function(t){var n=/./;try{\"/./\"[t](n)}catch(r){try{return n[e]=!1,!\"/./\"[t](n)}catch(t){}}return!0}}]);","import React, {Component} from 'react';\r\nimport Dropzone from 'react-dropzone';\r\nimport Request from 'superagent';\r\nimport { Grid, Row, Col, Thumbnail, MenuItem, Button, FormControl, FormGroup, ControlLabel } from 'react-bootstrap';\r\nimport config from '../../../utils/config.js';\r\n\r\nclass Text extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {searchResults: [], value: ''};\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({value: nextProps.value});\r\n  }\r\n\r\n  inputChange(e) {\r\n    const value = e.target.value;\r\n    this.props.onValueChanged(this.props.m, value);\r\n    if (value.length>0) {\r\n      Request.get(config.getUrl(\"users/search?value=\" + value)).withCredentials().end((err, res) => {\r\n        if (err) {\r\n          console.log(err);\r\n        }\r\n        const sr = res.body.filter(u => u.name.toUpperCase() !== value.toUpperCase());\r\n        this.setState({searchResults: sr});\r\n      });\r\n    }\r\n    else {\r\n      this.setState({searchResults: []});\r\n    }\r\n  }\r\n\r\n  menuItemSelect(user, event) {\r\n    this.setState({searchResults: []});\r\n    this.props.onValueChanged(this.props.m, user.name);\r\n  }\r\n\r\n  render() {\r\n    var searchResults = null;\r\n    if (this.state.searchResults.length>0) {\r\n      const rows = this.state.searchResults.map((u, i) => <MenuItem key={i} href=\"#\" onSelect={this.menuItemSelect.bind(this, u)}>{u.name}</MenuItem>);\r\n      searchResults=(\r\n        <div>\r\n          <ul className=\"dropdown-menu open\" style={{position: 'absolute', display: 'inline'}}>\r\n            {rows}\r\n          </ul>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div style={{position: 'relative', width: '100%'}}>\r\n        <div style={{width: '100%'}}>\r\n          <FormControl style={{display: 'inline-block'}} type=\"text\" placeholder={this.props.placeholder} value={this.state.value} onChange={this.inputChange.bind(this)} />\r\n        </div>\r\n        {searchResults}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default class ImageUpload extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {media: []};\r\n  }\r\n\r\n  onDrop(files) {\r\n    const allMedia = this.state.media;\r\n    files.forEach(f => allMedia.push({file: f}));\r\n    this.setState({media: allMedia});\r\n    this.props.onMediaChanged(allMedia);\r\n  }\r\n\r\n  onPhotographerChanged(m, name) {\r\n    m.photographer=name;\r\n    this.props.onMediaChanged(this.state.media);\r\n  }\r\n\r\n  onInPhotoChanged(m, name) {\r\n    m.inPhoto=name;\r\n    this.props.onMediaChanged(this.state.media);\r\n  }\r\n\r\n  onRemove(toRemove) {\r\n    const allMedia = this.state.media.filter(m => m!=toRemove);\r\n    this.setState({media: allMedia});\r\n    this.props.onMediaChanged(allMedia);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <FormGroup>\r\n        <ControlLabel>Upload image(s)</ControlLabel><br/>\r\n        <Dropzone\r\n          onDrop={this.onDrop.bind(this)}\r\n          style={{width: '220px', height: '75px', padding: '15px', borderWidth: '1px', borderColor: '#666', borderStyle: 'dashed', borderRadius: '5px'}}\r\n          accept={'image/*'}>\r\n          <i>Drop JPG-image(s) here or click to select files to upload.</i>\r\n        </Dropzone>\r\n        {this.state.media.length > 0 ?\r\n          <Grid>\r\n            <Row>\r\n              {this.state.media.map((m, i) =>\r\n                <Col key={i} xs={8} sm={6} md={4} lg={2}>\r\n                  <Thumbnail src={m.file.preview}>\r\n                    <Text m={m} placeholder='In photo' value={m? m.inPhoto : ''}  onValueChanged={this.onInPhotoChanged.bind(this)} />\r\n                    <Text m={m} placeholder='Photographer' value={m? m.photographer : ''} onValueChanged={this.onPhotographerChanged.bind(this)} />\r\n                    <Button style={{width: '100%'}} bsStyle='danger' onClick={this.onRemove.bind(this, m)}>Remove</Button>\r\n                  </Thumbnail>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n          </Grid>\r\n          : null}\r\n      </FormGroup>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}