{"version":3,"sources":["webpack:///./app/components/frontpage/index.js","webpack:///./app/components/common/gallery/gallery.js","webpack:///./app/components/frontpage/linkbox/linkbox.js","webpack:///./app/components/frontpage/imagebox/imagebox.js","webpack:///./app/components/frontpage/textbox/textbox.js"],"names":["_react","__webpack_require__","l","h","n","_reactRouterDom","_reactBootstrap","s","u","d","c","f","p","e","__esModule","default","Index","Component","_this2","this","Request","get","config","getUrl","getRegion","withCredentials","end","err","res","setState","error","data","body","document","title","getTitle","state","_react2","createElement","_reactFontawesome2","icon","spin","size","status","toString","newestProblems","fas","map","x","i","key","Link","to","idProblem","problem","grade","style","color","idArea","area","idSector","sector","date","latestAscents","ascents","idUser","user","newestMedia","medias","type","latestComments","comments","Grid","Row","Well","textAlign","numProblems","numProblemsWithCoordinates","numProblemsWithTopo","numTicks","numImages","numMovies","Col","xs","md","paddingLeft","paddingRight","_imagebox2","randomMedia","_linkbox2","lg","_textbox2","Clearfix","visibleXsBlock","b","o","_svgPathParser","_reactRouter","m","g","Gallery","props","_this","__proto__","Object","getPrototypeOf","call","mediaIndex","hoverTrash","hoverEdit","showFullscreenButton","showGalleryFullscreenButton","showPlayButton","showGalleryPlayButton","showVideo","isFullscreen","nextProps","imageGallery","slideToIndex","value","event","confirm","idMedia","media","id","delete","alert","length","nextMediaIndex","removeMedia","index","resetVideo","fullscreenElement","url","Boolean","item","_this3","className","embedUrl","onClick","toggleShowVideo","bind","_reactPlayer2","ref","player","width","height","onDuration","duration","onStart","seekTo","parseFloat","controls","playing","src","original","pushUrl","svgs","svgProblemId","w","_this4","svg","ixNr","path","parseSVG","makeAbsolute","ixAnchor","maxY","minY","len","y","r","anchor","hasAnchor","cx","cy","problemId","strokeWidth","strokeDasharray","fontSize","dy","nr","viewBox","preserveAspectRatio","xlinkHref","generateShapes","_this5","_objectFitImages2","watchMQ","Redirect","push","caruselItems","idType","thumbnail","originalClass","thumbnailClass","originalAlt","thumbnailAlt","renderItem","renderImage","Math","floor","t","renderVideo","button","auth","isAdmin","position","zIndex","background","padding","onMouseEnter","toggleHoverEdit","onMouseLeave","transform","href","toggleHoverTrash","onDeleteImage","_reactImageGallery2","items","onSlide","onScreenChange","showThumbnails","showBullets","showIndex","LinkBox","TypeError","target","maxWidth","alt","marginBottom","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","backgroundColor","ImageBox","txt","inPhoto","idCreator","creator","TextBox","showAll","btnLabel","preventDefault","content","borderColor","borderStyle","borderWidth","top","left","fontWeight","textTransform","letterSpacing","float","display","right","border","borderTop","handleOnClick"],"mappings":"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","file":"19.index.js","sourcesContent":["import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Table, Grid, Well, Row, Col, Clearfix } from 'react-bootstrap';\r\nimport Request from 'superagent';\r\nimport TextBox from './textbox/textbox';\r\nimport ImageBox from './imagebox/imagebox';\r\nimport LinkBox from './linkbox/linkbox';\r\nimport config from '../../utils/config.js';\r\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\r\nimport { faSpinner, faCamera, faVideo } from '@fortawesome/fontawesome-free-solid';\r\n\r\nconst style = {padding: 0, textAlign: 'left'};\r\nconst styleNw = {padding: 0, textAlign: 'left', whiteSpace: 'nowrap'};\r\n\r\nexport default class Index extends Component {\r\n  componentDidMount() {\r\n    Request.get(config.getUrl(\"frontpage?regionId=\" + config.getRegion())).withCredentials().end((err, res) => {\r\n      this.setState({\r\n        error: err? err : null,\r\n        data: err? null : res.body\r\n      });\r\n    });\r\n    document.title=config.getTitle();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n    if (this.state.error) {\r\n      return <span><h3>{this.state.error.status}</h3>{this.state.error.toString()}</span>;\r\n    }\r\n\r\n    const newestProblems = this.state.data.fas.map((x, i) => {\r\n      return (\r\n        <p key={i}>\r\n          <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link> {x.grade}<br/>\r\n          <small style={{color: '#777'}}><Link to={`/area/${x.idArea}`} style={{color: '#777'}}>{x.area}</Link> / <Link to={`/sector/${x.idSector}`} style={{color: '#777'}}>{x.sector}</Link> {x.date}</small>\r\n        </p>\r\n      )\r\n    });\r\n\r\n    const latestAscents = this.state.data.ascents.map((x, i) => {\r\n      return (\r\n        <p key={i}>\r\n          <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link> {x.grade}<br/>\r\n          <small style={{color: '#777'}}><Link to={`/user/${x.idUser}`} style={{color: '#777'}}>{x.user}</Link> {x.date}</small>\r\n        </p>\r\n      )\r\n    });\r\n\r\n    const newestMedia = this.state.data.medias.map((x, i) => {\r\n      const icon = x.type === 'image'? <FontAwesomeIcon icon=\"camera\" /> : <FontAwesomeIcon icon=\"video\" />;\r\n      return (\r\n        <p key={i}>\r\n          <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link> <small>{x.grade}</small> {icon}\r\n        </p>\r\n      )\r\n    });\r\n\r\n    const latestComments = this.state.data.comments.map((x, i) => {\r\n      return (\r\n        <p key={i}>\r\n          <small>{x.date}</small> <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link>\r\n        </p>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <Grid>\r\n        <Row>\r\n          <Well style={{textAlign: 'center'}}>\r\n            Total: {this.state.data.numProblems} ({this.state.data.numProblemsWithCoordinates} with coordinates{this.state.data.numProblemsWithTopo>0? \", \" + this.state.data.numProblemsWithTopo + \" on topo\" : \"\"}) | Public ascents: {this.state.data.numTicks} | Images: {this.state.data.numImages} | Ascents on video: {this.state.data.numMovies}\r\n          </Well>\r\n        </Row>\r\n        <Row>\r\n          <Col xs={8} md={9} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n            <ImageBox data={this.state.data.randomMedia}/>\r\n          </Col>\r\n          <Col xs={4} md={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n            <LinkBox/>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n            <TextBox title=\"Newest\" data={newestProblems}/>\r\n          </Col>\r\n          <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n            <TextBox title=\"Latest ascents\" data={latestAscents}/>\r\n          </Col>\r\n          <Clearfix visibleXsBlock></Clearfix>\r\n          <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n            <TextBox title=\"Newest media\" data={newestMedia}/>\r\n          </Col>\r\n          <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n            <TextBox title=\"Latest comments\" data={latestComments}/>\r\n          </Col>\r\n        </Row>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport { Well } from 'react-bootstrap';\r\nimport ReactPlayer from 'react-player'\r\nimport auth from '../../../utils/auth.js';\r\nimport Request from 'superagent';\r\nimport {parseSVG, makeAbsolute} from 'svg-path-parser';\r\nimport { Link } from 'react-router-dom';\r\nimport config from '../../../utils/config.js';\r\nimport { Redirect } from 'react-router';\r\nimport objectFitImages from 'object-fit-images'; // objectFit does not work on IE and Edge http://caniuse.com/#search=object-fit\r\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrash } from '@fortawesome/fontawesome-free-solid';\r\n\r\nexport default class Gallery extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mediaIndex: 0,\r\n      hoverTrash: false,\r\n      hoverEdit: false,\r\n      showFullscreenButton: true,\r\n      showGalleryFullscreenButton: true,\r\n      showPlayButton: true,\r\n      showGalleryPlayButton: false,\r\n      showVideo: {},\r\n      isFullscreen: false,\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.state = {\r\n      mediaIndex: 0,\r\n      hoverTrash: false,\r\n      hoverEdit: false,\r\n      showFullscreenButton: true,\r\n      showGalleryFullscreenButton: true,\r\n      showPlayButton: true,\r\n      showGalleryPlayButton: false,\r\n      showVideo: {},\r\n      isFullscreen: false,\r\n    };\r\n    if (this.imageGallery) {\r\n      this.imageGallery.slideToIndex(0);\r\n    }\r\n  }\r\n\r\n  toggleHoverTrash() {\r\n    this.setState({hoverTrash: !this.state.hoverTrash});\r\n  }\r\n\r\n  toggleHoverEdit() {\r\n    this.setState({hoverEdit: !this.state.hoverEdit});\r\n  }\r\n\r\n  onDeleteImage(event) {\r\n    if (confirm('Are you sure you want to delete this image?')) {\r\n      const idMedia = this.props.media[this.state.mediaIndex].id;\r\n      Request.delete(config.getUrl(\"media?id=\" + idMedia)).withCredentials().end((err, res) => {\r\n        if (err) {\r\n          alert(err.toString());\r\n        } else {\r\n          if (this.props.media.length>1 && this.state.mediaIndex>=this.props.media.length-1) {\r\n            const nextMediaIndex = this.state.mediaIndex-1;\r\n            this.setState({mediaIndex: nextMediaIndex});\r\n            this.imageGallery.slideToIndex(nextMediaIndex);\r\n          }\r\n          this.props.removeMedia(idMedia);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onSlide(index) {\r\n    this.resetVideo();\r\n    this.setState({mediaIndex: index});\r\n  }\r\n\r\n  onScreenChange(fullscreenElement) {\r\n    this.setState({isFullscreen: fullscreenElement});\r\n  }\r\n\r\n  resetVideo() {\r\n    this.setState({showVideo: {}});\r\n\r\n    if (this.state.showPlayButton) {\r\n      this.setState({showGalleryPlayButton: true});\r\n    }\r\n\r\n    if (this.state.showFullscreenButton) {\r\n      this.setState({showGalleryFullscreenButton: true});\r\n    }\r\n  }\r\n\r\n  toggleShowVideo(url) {\r\n    this.state.showVideo[url] = !Boolean(this.state.showVideo[url]);\r\n    this.setState({\r\n      showVideo: this.state.showVideo\r\n    });\r\n\r\n    if (this.state.showVideo[url]) {\r\n      if (this.state.showPlayButton) {\r\n        this.setState({showGalleryPlayButton: false});\r\n      }\r\n\r\n      if (this.state.showFullscreenButton) {\r\n        this.setState({showGalleryFullscreenButton: false});\r\n      }\r\n    }\r\n  }\r\n\r\n  renderVideo(item) {\r\n    return (\r\n      <div className='image-gallery-image'>\r\n        {\r\n          this.state.showVideo[item.embedUrl] ?\r\n            <span>\r\n              <a className='gallery-close-video' onClick={this.toggleShowVideo.bind(this, item.embedUrl)}></a>\r\n              <ReactPlayer\r\n                ref={player => { this.player = player }}\r\n                className='react-player'\r\n                width='100%'\r\n                height='100%'\r\n                url={item.embedUrl}\r\n                onDuration={duration => this.setState({ duration })}\r\n                onStart={() => this.player.seekTo(parseFloat(item.seekTo/this.state.duration))}\r\n                controls={true}\r\n                playing={true} />\r\n            </span>\r\n          :\r\n            <a onClick={this.toggleShowVideo.bind(this, item.embedUrl)}>\r\n              <div className='gallery-play-button'></div>\r\n              <img src={item.original}/>\r\n            </a>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  pushUrl(url) {\r\n    this.setState({pushUrl: url});\r\n  }\r\n\r\n  generateShapes(svgs, svgProblemId, w, h) {\r\n    return svgs.map((svg, key) => {\r\n      const path = parseSVG(svg.path);\r\n      makeAbsolute(path); // Note: mutates the commands in place!\r\n      var ixNr;\r\n      var maxY = 0;\r\n      var ixAnchor;\r\n      var minY = 99999999;\r\n      for (var i=0, len=path.length; i < len; i++) {\r\n        if (path[i].y > maxY) {\r\n          ixNr = i;\r\n          maxY = path[i].y;\r\n        }\r\n        if (path[i].y < minY) {\r\n          ixAnchor = i;\r\n          minY = path[i].y;\r\n        }\r\n      }\r\n      var x = path[ixNr].x;\r\n      var y = path[ixNr].y;\r\n      const r = 0.012*w;\r\n      if (x < r) x = r;\r\n      if (x > (w-r)) x = w-r;\r\n      if (y < r) y = r;\r\n      if (y > (h-r)) y = h-r;\r\n      var anchor = null;\r\n      if (svg.hasAnchor) {\r\n        anchor = <circle className=\"buldreinfo-svg-ring\" cx={path[ixAnchor].x} cy={path[ixAnchor].y} r={0.006*w}/>\r\n      }\r\n      return (\r\n        <g className={\"buldreinfo-svg-pointer buldreinfo-svg-hover\" + ((svgProblemId===0 || svg.problemId===svgProblemId)? \"\" : \" buldreinfo-svg-opacity\")} key={key} onClick={this.pushUrl.bind(this, \"/problem/\" + svg.problemId)}>\r\n          <path d={svg.path} className=\"buldreinfo-svg-route\" strokeWidth={0.003*w} strokeDasharray={0.006*w}/>\r\n          <circle className=\"buldreinfo-svg-ring\" cx={x} cy={y} r={r}/>\r\n          <text className=\"buldreinfo-svg-routenr\" x={x} y={y} fontSize={0.02*w} dy=\".3em\">{svg.nr}</text>\r\n          {anchor}\r\n        </g>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderImage(m) {\r\n    if (m.svgs) {\r\n      return (\r\n        <div className='image-gallery-image'>\r\n          <canvas className=\"buldreinfo-svg-canvas-ie-hack\" width={m.width} height={m.height}></canvas>\r\n          <svg className=\"buldreinfo-svg\" viewBox={\"0 0 \" + m.width + \" \" + m.height} preserveAspectRatio=\"xMidYMid meet\">\r\n            <image xlinkHref={config.getUrl(`images?id=${m.id}`)} width=\"100%\" height=\"100%\"/>\r\n            {this.generateShapes(m.svgs, m.svgProblemId, m.width, m.height)}\r\n          </svg>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className='image-gallery-image'>\r\n        <img src={config.getUrl(`images?id=${m.id}`)} className=\"buldreinfo-scale-img\"/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    objectFitImages(null, {watchMQ: true});\r\n    if (this.state && this.state.pushUrl) {\r\n      return (<Redirect to={this.state.pushUrl} push />);\r\n    }\r\n    const caruselItems = this.props.media.map((m, i) => {\r\n      if (m.idType==1) {\r\n        return {\r\n          original: config.getUrl(`images?id=${m.id}`),\r\n          thumbnail: config.getUrl(`images?id=${m.id}`),\r\n          originalClass: 'featured-slide',\r\n          thumbnailClass: 'featured-thumb',\r\n          originalAlt: 'original-alt',\r\n          thumbnailAlt: 'thumbnail-alt',\r\n          renderItem: this.renderImage.bind(this, m)\r\n        }\r\n      }\r\n      else {\r\n        return {\r\n          original: config.getUrl(`images?id=${m.id}`),\r\n          thumbnail: config.getUrl(`images?id=${m.id}`),\r\n          originalClass: 'featured-slide',\r\n          thumbnailClass: 'featured-thumb',\r\n          originalAlt: 'original-alt',\r\n          thumbnailAlt: 'thumbnail-alt',\r\n          embedUrl: 'https://buldreinfo.com/buldreinfo_media/mp4/' + (Math.floor(m.id/100)*100) + \"/\" + m.id + '.mp4',\r\n          seekTo: m.t,\r\n          renderItem: this.renderVideo.bind(this)\r\n        }\r\n      }\r\n    });\r\n\r\n    var button = \"\";\r\n    const m = this.props.media[this.state.mediaIndex];\r\n    if (!this.state.isFullscreen && m.idType==1 && auth.isAdmin()) {\r\n      if (m.svgProblemId>0) {\r\n        button = <span style={{position: 'absolute', zIndex: '4', background: 'rgba(0, 0, 0, 0.4)', padding: '8px 20px'}}><Link to={`/problem/svg-edit/${m.svgProblemId}/${m.id}`} onMouseEnter={this.toggleHoverEdit.bind(this)} onMouseLeave={this.toggleHoverEdit.bind(this)}><FontAwesomeIcon icon=\"edit\" style={this.state.hoverEdit? {transform: 'scale(1.1)', color: '#fff'} : {color: '#fff'}}/></Link></span>;\r\n      } else if (!m.svgs) {\r\n        button = <span style={{position: 'absolute', zIndex: '4', background: 'rgba(0, 0, 0, 0.4)', padding: '8px 20px'}}><a href=\"#\" onMouseEnter={this.toggleHoverTrash.bind(this)} onMouseLeave={this.toggleHoverTrash.bind(this)}><FontAwesomeIcon icon=\"trash\" style={this.state.hoverTrash? {transform: 'scale(1.1)', color: '#fff'} : {color: '#fff'}} onClick={this.onDeleteImage.bind(this)}/></a></span>;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Well className='app'>\r\n        {button}\r\n        <ImageGallery\r\n          ref={i => this.imageGallery = i}\r\n          items={caruselItems}\r\n          onSlide={this.onSlide.bind(this)}\r\n          onScreenChange={this.onScreenChange.bind(this)}\r\n          showThumbnails={this.props.showThumbnails}\r\n          showBullets={this.state.showFullscreenButton && this.state.showGalleryFullscreenButton && this.props.media.length>1}\r\n          showIndex={this.state.showFullscreenButton && this.state.showGalleryFullscreenButton}\r\n          showPlayButton={false}\r\n          showFullscreenButton={this.state.showFullscreenButton && this.state.showGalleryFullscreenButton}/>\r\n      </Well>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport config from '../../../utils/config.js';\r\n\r\nexport default class LinkBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const styleSis = {\r\n      marginBottom: '10px',\r\n      borderTopLeftRadius: '8px',\r\n      borderTopRightRadius: '8px',\r\n      borderBottomLeftRadius: '8px',\r\n      borderBottomRightRadius: '8px',\r\n      paddingLeft: '10px',\r\n      paddingRight: '10px',\r\n      maxWidth: '100%',\r\n      backgroundColor: '#00A0E0'\r\n    };\r\n    const styleBrv = {\r\n      marginBottom: '10px',\r\n      borderTopLeftRadius: '8px',\r\n      borderTopRightRadius: '8px',\r\n      borderBottomLeftRadius: '8px',\r\n      borderBottomRightRadius: '8px',\r\n      paddingLeft: '10px',\r\n      paddingRight: '10px',\r\n      maxWidth: '100%',\r\n      backgroundColor: '#FFFFFF'\r\n    };\r\n    const styleGoogle = {maxWidth: '100%'};\r\n    return (\r\n      <div>\r\n        {config.getRegion()!=4 && <a href=\"https://play.google.com/store/apps/details?id=org.jossi.android.bouldering&utm_source=global_co&utm_medium=prtnr&utm_content=Mar2515&utm_campaign=PartBadge&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1\" target=\"_blank\"><img style={styleGoogle} alt=\"Get it on Google Play\" src=\"https://play.google.com/intl/en_us/badges/images/generic/en-play-badge.png\" /></a>}\r\n        {config.getRegion()==1 && <a href={\"http://sissportssenter.no/\"} target=\"_blank\"><img style={styleSis} src={\"/png/sis-sportssenter.png\"}/></a>}\r\n        {(config.getRegion()==1 || config.getRegion()==4) && <a href={\"http://brv.no/\"} target=\"_blank\"><img style={styleBrv} src={\"/png/brv.png\"}/></a>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Gallery from './../../common/gallery/gallery';\r\nimport { Link } from 'react-router-dom';\r\nimport { Well } from 'react-bootstrap';\r\nimport config from '../../../utils/config.js';\r\n\r\nexport default class ImageBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    var txt = null;\r\n    if (!this.props || !this.props.data) {\r\n      return (\r\n        <Well style={{\r\n          marginBottom: '15px',\r\n          textAlign: 'center'\r\n        }}>\r\n          No data\r\n        </Well>\r\n      )\r\n    }\r\n    if (this.props.data.inPhoto) {\r\n      txt = <i>Photographer: <Link to={`/user/${this.props.data.idCreator}`}>{this.props.data.creator}</Link>, in photo: {this.props.data.inPhoto}</i>\r\n    } else {\r\n      txt = <i>Photographer: <Link to={`/user/${this.props.data.idCreator}`}>{this.props.data.creator}</Link></i>\r\n    }\r\n    return (\r\n      <Well style={{\r\n        marginBottom: '15px',\r\n        textAlign: 'center'\r\n      }}>\r\n        <h4><Link to={`/problem/${this.props.data.idProblem}`}>{this.props.data.problem}</Link> {this.props.data.grade}</h4>\r\n        <Link to={`/problem/${this.props.data.idProblem}`}>\r\n          <img style={{maxWidth: '100%'}} src={config.getUrl(`images?id=${this.props.data.idMedia}&targetHeight=480`)}/>\r\n        </Link><br/>\r\n        {txt}\r\n      </Well>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nexport default class TextBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showAll: false,\r\n      btnLabel: 'More'\r\n    };\r\n  }\r\n\r\n  handleOnClick(e) {\r\n    e.preventDefault();\r\n    if (this.state.showAll===true) {\r\n      this.setState({showAll: false, btnLabel: 'More'});\r\n    } else {\r\n      this.setState({showAll: true, btnLabel: 'Less'});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const content = this.state.showAll===true? this.props.data : this.props.data.map((x, i) => {if (i < 10) return(x)});\r\n    return (\r\n      <div style={{\r\n        backgroundColor: '#FFF',\r\n        position: 'relative',\r\n        padding: '45px 15px 15px',\r\n        borderColor: '#e3e3e3',\r\n        borderStyle: 'solid',\r\n        borderWidth: '1px',\r\n        borderTopLeftRadius: '4px',\r\n        borderTopRightRadius: '4px',\r\n        borderBottomLeftRadius: '4px'\r\n      }}>\r\n        {content}\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '15px',\r\n          left: '15px',\r\n          fontSize: '12px',\r\n          fontWeight: '700',\r\n          color: '#959595',\r\n          textTransform: 'uppercase',\r\n          letterSpacing: '1px',\r\n        }}>{this.props.title}</div>\r\n        <a style={{\r\n          float: 'right',\r\n          display: 'inline-block',\r\n          position: 'relative',\r\n          right: '-16px',\r\n          top: '15px',\r\n          background: '#FFF',\r\n          borderBottomLeftRadius: '4px',\r\n          borderBottomRightRadius: '4px',\r\n          border: '1px solid #e3e3e3',\r\n          borderTop: 'none',\r\n          padding: '4px 8px',\r\n          marginBottom: '20px'\r\n        }} href=\"#\" onClick={this.handleOnClick.bind(this)}>{this.state.btnLabel}</a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}