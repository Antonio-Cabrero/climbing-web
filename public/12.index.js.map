{"version":3,"sources":["webpack:///./app/components/frontpage/textbox/textbox.js","webpack:///./app/components/frontpage/imagebox/imagebox.js","webpack:///./app/components/frontpage/linkbox/linkbox.js","webpack:///./app/components/frontpage/index.js"],"names":["_react","__webpack_require__","o","e","__esModule","default","n","TextBox","props","this","_this","__proto__","Object","getPrototypeOf","call","state","showAll","btnLabel","Component","preventDefault","setState","key","value","content","data","map","x","i","_react2","createElement","style","backgroundColor","position","padding","borderColor","borderStyle","borderWidth","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","top","left","fontSize","fontWeight","color","textTransform","letterSpacing","title","float","display","right","background","borderBottomRightRadius","border","borderTop","marginBottom","href","onClick","handleOnClick","bind","s","_reactRouterDom","_reactBootstrap","u","ImageBox","t","TypeError","txt","inPhoto","Link","to","idCreator","creator","Well","textAlign","idProblem","problem","grade","maxWidth","src","config","getUrl","idMedia","alt","l","LinkBox","isBouldering","target","getRegion","paddingLeft","paddingRight","b","_reactHelmet","d","p","c","f","_reactFontawesome","Index","_this2","Request","get","withCredentials","end","err","res","error","body","FontAwesomeIcon","icon","spin","size","status","toString","newestProblems","fas","idArea","area","idSector","sector","date","latestAscents","ascents","idUser","user","newestMedia","medias","type","latestComments","comments","Helmet","metadata","name","description","Grid","Row","numProblems","numProblemsWithCoordinates","numProblemsWithTopo","numTicks","numImages","numMovies","Col","xs","md","_imagebox2","randomMedia","_linkbox2","lg","_textbox2","Clearfix","visibleXsBlock"],"mappings":"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","file":"12.index.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nexport default class TextBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showAll: false,\r\n      btnLabel: 'More'\r\n    };\r\n  }\r\n\r\n  handleOnClick(e) {\r\n    e.preventDefault();\r\n    if (this.state.showAll===true) {\r\n      this.setState({showAll: false, btnLabel: 'More'});\r\n    } else {\r\n      this.setState({showAll: true, btnLabel: 'Less'});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const content = this.state.showAll===true? this.props.data : this.props.data.map((x, i) => {if (i < 10) return(x)});\r\n    return (\r\n      <div style={{\r\n        backgroundColor: '#FFF',\r\n        position: 'relative',\r\n        padding: '45px 15px 15px',\r\n        borderColor: '#e3e3e3',\r\n        borderStyle: 'solid',\r\n        borderWidth: '1px',\r\n        borderTopLeftRadius: '4px',\r\n        borderTopRightRadius: '4px',\r\n        borderBottomLeftRadius: '4px'\r\n      }}>\r\n        {content}\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '15px',\r\n          left: '15px',\r\n          fontSize: '12px',\r\n          fontWeight: '700',\r\n          color: '#959595',\r\n          textTransform: 'uppercase',\r\n          letterSpacing: '1px',\r\n        }}>{this.props.title}</div>\r\n        <a style={{\r\n          float: 'right',\r\n          display: 'inline-block',\r\n          position: 'relative',\r\n          right: '-16px',\r\n          top: '15px',\r\n          background: '#FFF',\r\n          borderBottomLeftRadius: '4px',\r\n          borderBottomRightRadius: '4px',\r\n          border: '1px solid #e3e3e3',\r\n          borderTop: 'none',\r\n          padding: '4px 8px',\r\n          marginBottom: '20px'\r\n        }} href=\"#\" onClick={this.handleOnClick.bind(this)}>{this.state.btnLabel}</a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Well } from 'react-bootstrap';\r\nimport config from '../../../utils/config.js';\r\n\r\nexport default class ImageBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    var txt = null;\r\n    if (!this.props || !this.props.data) {\r\n      return (\r\n        <Well style={{\r\n          marginBottom: '15px',\r\n          textAlign: 'center'\r\n        }}>\r\n          No data\r\n        </Well>\r\n      )\r\n    }\r\n    if (this.props.data.inPhoto) {\r\n      txt = <i>Photographer: <Link to={`/user/${this.props.data.idCreator}`}>{this.props.data.creator}</Link>, in photo: {this.props.data.inPhoto}</i>\r\n    } else {\r\n      txt = <i>Photographer: <Link to={`/user/${this.props.data.idCreator}`}>{this.props.data.creator}</Link></i>\r\n    }\r\n    return (\r\n      <Well style={{\r\n        marginBottom: '15px',\r\n        textAlign: 'center'\r\n      }}>\r\n        <h4><Link to={`/problem/${this.props.data.idProblem}`}>{this.props.data.problem}</Link> {this.props.data.grade}</h4>\r\n        <Link to={`/problem/${this.props.data.idProblem}`}>\r\n          <img style={{maxWidth: '100%'}} src={config.getUrl(`images?id=${this.props.data.idMedia}&targetHeight=480`)} alt={this.props.data.problem}/>\r\n        </Link><br/>\r\n        {txt}\r\n      </Well>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport config from '../../../utils/config.js';\r\n\r\nexport default class LinkBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const styleSis = {\r\n      marginBottom: '10px',\r\n      borderTopLeftRadius: '8px',\r\n      borderTopRightRadius: '8px',\r\n      borderBottomLeftRadius: '8px',\r\n      borderBottomRightRadius: '8px',\r\n      paddingLeft: '10px',\r\n      paddingRight: '10px',\r\n      maxWidth: '100%',\r\n      backgroundColor: '#00A0E0'\r\n    };\r\n    const styleBrv = {\r\n      marginBottom: '10px',\r\n      borderTopLeftRadius: '8px',\r\n      borderTopRightRadius: '8px',\r\n      borderBottomLeftRadius: '8px',\r\n      borderBottomRightRadius: '8px',\r\n      paddingLeft: '10px',\r\n      paddingRight: '10px',\r\n      maxWidth: '100%',\r\n      backgroundColor: '#FFFFFF'\r\n    };\r\n    const styleGoogle = {maxWidth: '100%'};\r\n    return (\r\n      <div>\r\n        {config.isBouldering() && <a href=\"https://play.google.com/store/apps/details?id=org.jossi.android.bouldering&utm_source=global_co&utm_medium=prtnr&utm_content=Mar2515&utm_campaign=PartBadge&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1\" target=\"_blank\"><img style={styleGoogle} alt=\"Get it on Google Play\" src=\"https://play.google.com/intl/en_us/badges/images/generic/en-play-badge.png\" /></a>}\r\n        {config.getRegion()==1 && <a href={\"http://sissportssenter.no/\"} target=\"_blank\"><img style={styleSis} src={\"/png/sis-sportssenter.png\"} alt=\"SiS Sportssenter\"/></a>}\r\n        {(config.getRegion()==1 || config.getRegion()==4) && <a href={\"http://brv.no/\"} target=\"_blank\"><img style={styleBrv} src={\"/png/brv.png\"} alt=\"Bratte Rogalands venner\"/></a>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Table, Grid, Well, Row, Col, Clearfix } from 'react-bootstrap';\r\nimport Request from 'superagent';\r\nimport TextBox from './textbox/textbox';\r\nimport ImageBox from './imagebox/imagebox';\r\nimport LinkBox from './linkbox/linkbox';\r\nimport config from '../../utils/config.js';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst style = {padding: 0, textAlign: 'left'};\r\nconst styleNw = {padding: 0, textAlign: 'left', whiteSpace: 'nowrap'};\r\n\r\nexport default class Index extends Component {\r\n  componentDidMount() {\r\n    Request.get(config.getUrl(\"frontpage?regionId=\" + config.getRegion())).withCredentials().end((err, res) => {\r\n      this.setState({\r\n        error: err? err : null,\r\n        data: err? null : res.body\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n    if (this.state.error) {\r\n      return <span><h3>{this.state.error.status}</h3>{this.state.error.toString()}</span>;\r\n    }\r\n\r\n    const newestProblems = this.state.data.fas.map((x, i) => {\r\n      return (\r\n        <p key={i}>\r\n          <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link> {x.grade}<br/>\r\n          <small style={{color: '#777'}}><Link to={`/area/${x.idArea}`} style={{color: '#777'}}>{x.area}</Link> / <Link to={`/sector/${x.idSector}`} style={{color: '#777'}}>{x.sector}</Link> {x.date}</small>\r\n        </p>\r\n      )\r\n    });\r\n\r\n    const latestAscents = this.state.data.ascents.map((x, i) => {\r\n      return (\r\n        <p key={i}>\r\n          <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link> {x.grade}<br/>\r\n          <small style={{color: '#777'}}><Link to={`/user/${x.idUser}`} style={{color: '#777'}}>{x.user}</Link> {x.date}</small>\r\n        </p>\r\n      )\r\n    });\r\n\r\n    const newestMedia = this.state.data.medias.map((x, i) => {\r\n      const icon = x.type === 'image'? <FontAwesomeIcon icon=\"camera\" /> : <FontAwesomeIcon icon=\"video\" />;\r\n      return (\r\n        <p key={i}>\r\n          <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link> <small>{x.grade}</small> {icon}\r\n        </p>\r\n      )\r\n    });\r\n\r\n    const latestComments = this.state.data.comments.map((x, i) => {\r\n      return (\r\n        <p key={i}>\r\n          <small>{x.date}</small> <Link to={`/problem/${x.idProblem}`}>{x.problem}</Link>\r\n        </p>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <span>\r\n        <Helmet>\r\n          <title>{this.state.data.metadata.title}</title>\r\n          <meta name=\"description\" content={this.state.data.metadata.description} />\r\n        </Helmet>\r\n        <Grid>\r\n          <Row>\r\n            <Well style={{textAlign: 'center'}}>\r\n              Total: {this.state.data.numProblems} ({this.state.data.numProblemsWithCoordinates} with coordinates{this.state.data.numProblemsWithTopo>0? \", \" + this.state.data.numProblemsWithTopo + \" on topo\" : \"\"}) | Public ascents: {this.state.data.numTicks} | Images: {this.state.data.numImages} | Ascents on video: {this.state.data.numMovies}\r\n            </Well>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={8} md={9} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n              <ImageBox data={this.state.data.randomMedia}/>\r\n            </Col>\r\n            <Col xs={4} md={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n              <LinkBox/>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n              <TextBox title=\"Newest\" data={newestProblems}/>\r\n            </Col>\r\n            <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n              <TextBox title=\"Latest ascents\" data={latestAscents}/>\r\n            </Col>\r\n            <Clearfix visibleXsBlock></Clearfix>\r\n            <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n              <TextBox title=\"Newest media\" data={newestMedia}/>\r\n            </Col>\r\n            <Col xs={6} lg={3} style={{paddingLeft: '3px', paddingRight: '3px'}}>\r\n              <TextBox title=\"Latest comments\" data={latestComments}/>\r\n            </Col>\r\n          </Row>\r\n        </Grid>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}