{"version":3,"sources":["webpack:///./app/components/user.js","webpack:///(webpack)/buildin/module.js","webpack:///./app/components/common/tick-modal/tick-modal.js","webpack:///./app/components/common/chart/chart.js"],"names":["_react","__webpack_require__","l","E","r","i","_reactRouterDom","u","_reactRouterBootstrap","_reactBootstrap","_reactBootstrapTable","f","m","h","p","b","e","__esModule","default","User","props","this","_this","__proto__","Object","getPrototypeOf","call","state","showTickModal","Component","userId","_this2","Request","get","config","getUrl","getRegion","withCredentials","end","err","res","setState","error","user","body","refresh","match","params","nextProps","event","t","currTick","key","value","cell","row","_react2","createElement","Link","to","idProblem","name","visibility","_reactFontawesome2","icon","comment","length","tooltip","Tooltip","id","OverlayTrigger","placement","overlay","substring","stars","style","whiteSpace","Popover","title","readOnly","Button","bsSize","bsStyle","onClick","openTickModal","bind","inverse","a","order","x","date","parseInt","y","localeCompare","gradeNumber","spin","size","status","toString","numTicks","ticks","filter","fa","numFas","chart","_chart2","data","_reactMetaTags2","getTitle","_tickModal2","idTick","grade","show","onHide","closeTickModal","Breadcrumb","auth","loggedIn","float","LinkContainer","color","Well","numImagesCreated","numImageTags","numVideosCreated","numVideoTags","BootstrapTable","condensed","hover","columnFilter","TableHeaderColumn","dataField","isKey","hidden","dataSort","sortFunc","sortDate","dataAlign","width","dataFormat","formatName","sortGrade","sortComment","formatComment","formatStars","formatFa","formatEdit","module","exports","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","c","o","d","s","TickModal","TypeError","convertFromDateToString","Date","grades","newDate","target","_this3","post","send","delete","console","log","alert","_this4","_this5","yesterday","setDate","getDate","n","Modal","Header","closeButton","Title","Body","FormGroup","ControlLabel","_reactInputCalendar2","format","computableFormat","onChange","onDateChanged","ButtonGroup","DropdownButton","map","g","MenuItem","eventKey","onSelect","onGradeChanged","onStarsChanged","FormControl","componentClass","placeholder","height","onCommentChanged","configurable","writable","Footer","save","Chart","val","tick","push","sort","maxValue","Math","max","apply","rows","faWidth","tickWidth","padding","textAlign","verticalAlign","backgroundColor","marginLeft","Table","responsive"],"mappings":"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","file":"8.index.js","sourcesContent":["import React, {Component} from 'react';\r\nimport MetaTags from 'react-meta-tags';\r\nimport { Link } from 'react-router-dom';\r\nimport Request from 'superagent';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Tabs, Tab, ButtonToolbar, ButtonGroup, Button, OverlayTrigger, Tooltip, Popover, DropdownButton, MenuItem, Well, Breadcrumb } from 'react-bootstrap';\r\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\r\nimport Chart from './common/chart/chart';\r\nimport TickModal from './common/tick-modal/tick-modal';\r\nimport auth from '../utils/auth.js';\r\nimport config from '../utils/config.js';\r\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\r\nimport { faSpinner, faLock, faUserSecret, faStar, faStarHalf, faCheck, faEdit } from '@fortawesome/fontawesome-free-solid';\r\n\r\nexport default class User extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showTickModal: false\r\n    };\r\n  }\r\n\r\n  refresh(userId) {\r\n    Request.get(config.getUrl(\"users?regionId=\" + config.getRegion() + (userId? \"&id=\" + userId : \"\"))).withCredentials().end((err, res) => {\r\n      if (err) {\r\n        this.setState({error: err});\r\n      } else {\r\n        this.setState({user: res.body});\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh(this.props.match.params.userId);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.refresh(nextProps.match.params.userId);\r\n  }\r\n\r\n  closeTickModal(event) {\r\n    this.setState({ showTickModal: false });\r\n    this.refresh(this.props.match.params.userId);\r\n  }\r\n\r\n  openTickModal(t, event) {\r\n    this.setState({ currTick: t, showTickModal: true });\r\n  }\r\n\r\n  formatName(cell, row) {\r\n    return <span><Link to={`/problem/${row.idProblem}`}>{row.name}</Link> {row.visibility===1 && <FontAwesomeIcon icon=\"lock\" />}{row.visibility===2 && <FontAwesomeIcon icon=\"user-secret\" />}</span>;\r\n  }\r\n\r\n  formatComment(cell, row) {\r\n    if (row.comment) {\r\n      if (row.comment.length>40) {\r\n        const tooltip = (<Tooltip id={row.idProblem}>{row.comment}</Tooltip>);\r\n        return <OverlayTrigger key={row.idProblem} placement=\"top\" overlay={tooltip}><span>{row.comment.substring(0,40) + \"...\"}</span></OverlayTrigger>;\r\n      } else {\r\n        return row.comment;\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  formatStars(cell, row) {\r\n    var stars = null;\r\n    if (row.stars===0.5) {\r\n      stars = <FontAwesomeIcon icon=\"star-half\" />;\r\n    } else if (row.stars===1.0) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={2}><FontAwesomeIcon icon=\"star\" /></div>;\r\n    } else if (row.stars===1.5) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={3}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star-half\" /></div>;\r\n    } else if (row.stars===2.0) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={4}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /></div>;\r\n    } else if (row.stars===2.5) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={5}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star-half\" /></div>;\r\n    } else if (row.stars===3.0) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={6}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /></div>;\r\n    } else {\r\n      return \"\";\r\n    }\r\n    return <OverlayTrigger placement=\"top\" overlay={\r\n          <Popover id={0} title=\"Guidelines\">\r\n            <FontAwesomeIcon icon=\"star\" /> Nice<br/>\r\n            <FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Very nice<br/>\r\n            <FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Fantastic!\r\n          </Popover>\r\n        }>{stars}</OverlayTrigger>;\r\n  }\r\n\r\n  formatFa(cell, row) {\r\n    if (cell) {\r\n      return <FontAwesomeIcon icon=\"check\" />;\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  formatEdit(cell, row) {\r\n    if (this.state.user.readOnly==false && row.id!=0) {\r\n      return <OverlayTrigger placement=\"top\" overlay={<Tooltip id={row.id}>Edit tick</Tooltip>}><Button bsSize=\"xsmall\" bsStyle=\"primary\" onClick={this.openTickModal.bind(this, row)}><FontAwesomeIcon icon=\"edit\" inverse=\"true\" /></Button></OverlayTrigger>\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  sortDate(a, b, order) {\r\n    const x = a.date? (parseInt(a.date.substring(0,2))<50? \"20\" : \"19\") + a.date : \"\";\r\n    const y = b.date? (parseInt(b.date.substring(0,2))<50? \"20\" : \"19\") + b.date : \"\";\r\n    if (order==='asc') return x.localeCompare(y);\r\n    return y.localeCompare(x);\r\n  }\r\n\r\n  sortGrade(a, b, order) {\r\n    const x = a.gradeNumber? a.gradeNumber : 0;\r\n    const y = b.gradeNumber? b.gradeNumber : 0;\r\n    if (order==='asc') {\r\n      if (x<y) {\r\n        return -1\r\n      } else if (x>y) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    }\r\n    if (y<x) {\r\n      return -1\r\n    } else if (y>x) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  sortComment(a, b, order) {\r\n    const x = a.comment? a.comment : \"\";\r\n    const y = b.comment? b.comment : \"\";\r\n    if (order==='asc') return x.localeCompare(y);\r\n    return y.localeCompare(x);\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.user) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n    if (this.state.error) {\r\n      return <span><h3>{this.state.error.status}</h3>{this.state.error.toString()}</span>;\r\n    }\r\n\r\n    var numTicks = this.state.user.ticks.filter(t => !t.fa).length;\r\n    var numFas = this.state.user.ticks.filter(t => t.fa).length;\r\n\r\n    const chart = this.state.user.ticks.length>0? <Chart data={this.state.user.ticks}/> : null;\r\n\r\n    return (\r\n      <span>\r\n        <MetaTags>\r\n          <title>{config.getTitle(res.body.name)}</title>\r\n        </MetaTags>\r\n\r\n        {this.state.currTick? <TickModal idTick={this.state.currTick.id} idProblem={this.state.currTick.idProblem} date={this.state.currTick.date} comment={this.state.currTick.comment} grade={this.state.currTick.grade} stars={this.state.currTick.stars} show={this.state.showTickModal} onHide={this.closeTickModal.bind(this)}/> : \"\"}\r\n        <Breadcrumb>\r\n          {auth.loggedIn() && this.state.user.readOnly==false?\r\n            <div style={{float: 'right'}}>\r\n              <OverlayTrigger placement=\"top\" overlay={<Tooltip id={this.state.user.id}>Edit user</Tooltip>}>\r\n                <LinkContainer to={`/user/${this.state.user.id}/edit`}><Button bsStyle=\"primary\" bsSize=\"xsmall\"><FontAwesomeIcon icon=\"edit\" inverse=\"true\" /></Button></LinkContainer>\r\n              </OverlayTrigger>\r\n            </div>:\r\n            null\r\n          }\r\n          <Link to={`/`}>Home</Link> / <font color='#777'>{this.state.user.name}</font>\r\n        </Breadcrumb>\r\n        <Well bsSize=\"small\">First ascents: {numFas}<br/>Public ascents: {numTicks}<br/>Pictures taken: {this.state.user.numImagesCreated}<br/>Appearance in pictures: {this.state.user.numImageTags}<br/>Videos created: {this.state.user.numVideosCreated}<br/>Appearance in videos: {this.state.user.numVideoTags}</Well>\r\n        {chart}\r\n        <BootstrapTable\r\n        \tdata={this.state.user.ticks}\r\n          condensed={true}\r\n        \thover={true}\r\n        \tcolumnFilter={false}>\r\n          <TableHeaderColumn dataField=\"idProblem\" isKey={true} hidden={true}>idProblem</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"dateHr\" dataSort={true} sortFunc={this.sortDate.bind(this)} dataAlign=\"center\" width=\"70\">Date</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"name\" dataSort={true} dataFormat={this.formatName.bind(this)} width=\"300\">Name</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"grade\" dataSort={true} sortFunc={this.sortGrade.bind(this)} dataAlign=\"center\" width=\"70\">Grade</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"comment\" dataSort={true} sortFunc={this.sortComment.bind(this)} dataFormat={this.formatComment.bind(this)} width=\"300\">Comment</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"stars\" dataSort={true} dataFormat={this.formatStars.bind(this)} dataAlign=\"center\" width=\"70\">Stars</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"fa\" dataSort={true} dataFormat={this.formatFa.bind(this)} dataAlign=\"center\" width=\"50\">FA</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"edit\" dataFormat={this.formatEdit.bind(this)} dataAlign=\"center\" width=\"30\"> </TableHeaderColumn>\r\n        </BootstrapTable>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import React, {Component} from 'react';\r\nimport { Modal, Button, FormGroup, ControlLabel, FormControl, ButtonGroup, DropdownButton, MenuItem } from 'react-bootstrap';\r\nimport Request from 'superagent';\r\nimport config from '../../../utils/config.js';\r\nimport Calendar from 'react-input-calendar';\r\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\r\nimport { faSpinner, faStar } from '@fortawesome/fontawesome-free-solid';\r\n\r\nexport default class TickModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  refresh(props) {\r\n    var date = null;\r\n    if (props.date) {\r\n      date = props.date;\r\n    } else if (props.idTick==-1) {\r\n      date = config.convertFromDateToString(new Date());\r\n    }\r\n\r\n    this.setState({\r\n      idTick: props.idTick,\r\n      idProblem: props.idProblem,\r\n      date: date,\r\n      comment: props.comment? props.comment : \"\",\r\n      grade: props.grade,\r\n      stars: props.stars? props.stars : 0\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh(this.props);\r\n    Request.get(config.getUrl(\"grades?regionId=\" + config.getRegion())).end((err, res) => {\r\n      this.setState({\r\n        error: err? err : null,\r\n        grades: err? null : res.body\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.refresh(nextProps);\r\n  }\r\n\r\n  onDateChanged(newDate) {\r\n    this.setState({date: newDate});\r\n  }\r\n\r\n  onCommentChanged(e) {\r\n    this.setState({comment: e.target.value});\r\n  }\r\n\r\n  onStarsChanged(stars, e) {\r\n    this.setState({stars: stars});\r\n  }\r\n\r\n  onGradeChanged(grade, e) {\r\n    this.setState({grade: grade});\r\n  }\r\n\r\n  delete(e) {\r\n    Request.post(config.getUrl(\"ticks?regionId=\" + config.getRegion()))\r\n    .withCredentials()\r\n    .send({delete: true, id: this.state.idTick, idProblem: this.state.idProblem, comment: this.state.comment, date: this.state.date, stars: this.state.stars, grade: this.state.grade})\r\n    .end((err, res) => {\r\n      if (err) {\r\n        console.log(err);\r\n        alert(err);\r\n      } else {\r\n        this.props.onHide();\r\n      }\r\n    });\r\n  }\r\n\r\n  save(e) {\r\n    Request.post(config.getUrl(\"ticks?regionId=\" + config.getRegion()))\r\n    .withCredentials()\r\n    .send({delete: false, id: this.state.idTick, idProblem: this.state.idProblem, comment: this.state.comment, date: this.state.date, stars: this.state.stars, grade: this.state.grade})\r\n    .end((err, res) => {\r\n      if (err) {\r\n        console.log(err);\r\n        alert(err);\r\n      } else {\r\n        this.props.onHide();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state || !this.state.idProblem) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n\r\n    const yesterday = new Date();\r\n    yesterday.setDate(yesterday.getDate()-1);\r\n\r\n    var stars = \"No stars\";\r\n    if (this.state.stars===1) {\r\n      stars = <span><FontAwesomeIcon icon=\"star\" /> Nice</span>\r\n    } else if (this.state.stars===2) {\r\n      stars = <span><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Very nice</span>\r\n    } else if (this.state.stars===3) {\r\n      stars = <span><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Fantastic!</span>\r\n    }\r\n\r\n    return (\r\n      <Modal show={this.props.show} onHide={this.props.onHide.bind(this)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Tick</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <FormGroup>\r\n            <ControlLabel>Date (yyyy-mm-dd)</ControlLabel><br/>\r\n            <Calendar format='YYYY-MM-DD' computableFormat='YYYY-MM-DD' date={this.state.date} onChange={this.onDateChanged.bind(this)} />\r\n            <ButtonGroup>\r\n              <Button onClick={this.onDateChanged.bind(this, config.convertFromDateToString(yesterday))}>Yesterday</Button>\r\n              <Button onClick={this.onDateChanged.bind(this, config.convertFromDateToString(new Date()))}>Today</Button>\r\n            </ButtonGroup>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <ControlLabel>Grade</ControlLabel><br/>\r\n            <DropdownButton title={this.state.grade} id=\"bg-nested-dropdown\">\r\n              {this.state && this.state.grades && this.state.grades.map((g, i) => { return <MenuItem key={i} eventKey={i} onSelect={this.onGradeChanged.bind(this, g.grade)}>{g.grade}</MenuItem> })}\r\n            </DropdownButton>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <ControlLabel>Stars</ControlLabel><br/>\r\n            <DropdownButton title={stars} id=\"bg-nested-dropdown\">\r\n              <MenuItem eventKey=\"0\" onSelect={this.onStarsChanged.bind(this, 0)}>No stars</MenuItem>\r\n              <MenuItem eventKey=\"1\" onSelect={this.onStarsChanged.bind(this, 1)}><FontAwesomeIcon icon=\"star\" /> Nice</MenuItem>\r\n              <MenuItem eventKey=\"2\" onSelect={this.onStarsChanged.bind(this, 2)}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Very nice</MenuItem>\r\n              <MenuItem eventKey=\"3\" onSelect={this.onStarsChanged.bind(this, 3)}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Fantastic!</MenuItem>\r\n            </DropdownButton>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <ControlLabel>Comment</ControlLabel>\r\n            <FormControl componentClass=\"textarea\" placeholder=\"textarea\" style={{height: '100px'}} value={this.state.comment} onChange={this.onCommentChanged.bind(this)} placeholder='Comment' />\r\n          </FormGroup>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <ButtonGroup>\r\n            <Button onClick={this.save.bind(this)} bsStyle=\"success\">Save</Button>\r\n            {this.state.idTick>1? <Button onClick={this.delete.bind(this)} bsStyle=\"warning\">Delete tick</Button> : \"\"}\r\n            <Button onClick={this.props.onHide.bind(this)}>Close</Button>\r\n          </ButtonGroup>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nexport default class Chart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    var data = [];\r\n    this.props.data.map(t => {\r\n      var d = data.filter(val => {return val.gradeNumber===t.gradeNumber})\r\n      if (!d[0]) {\r\n        data.push({gradeNumber: t.gradeNumber, grade: t.grade, fa: (t.fa? 1 : 0), tick: (t.fa? 0 : 1)});\r\n      } else {\r\n        if (t.fa) {\r\n          d[0].fa++;\r\n        } else {\r\n          d[0].tick++;\r\n        }\r\n      }\r\n    });\r\n    data.sort((a,b) => {return b.gradeNumber-a.gradeNumber});\r\n    const maxValue = Math.max.apply(Math, data.map(d => {return d.fa+d.tick}));\r\n\r\n    const rows = data.map((d, i) => {\r\n      const faWidth = (d.fa/maxValue*100) + '%';\r\n      const tickWidth = (d.tick/maxValue*100) + '%';\r\n      const style = {padding: 0, textAlign: 'center'};\r\n      return (\r\n        <tr key={i}>\r\n          <td style={style}>{d.grade}</td>\r\n          <td style={style}>{d.fa}</td>\r\n          <td style={style}>{d.tick}</td>\r\n          <td style={style}><strong>{d.fa+d.tick}</strong></td>\r\n          <td style={{width: '100%', verticalAlign: 'middle'}}>\r\n            <div style={{width: faWidth, height: '10px', backgroundColor: '#3182bd', float: 'left'}}></div>\r\n            <div style={{width: tickWidth, height: '10px', backgroundColor: '#6baed6', marginLeft: faWidth}}></div>\r\n         </td>\r\n        </tr>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <Table responsive>\r\n        <thead>\r\n          <tr>\r\n            <th>Grade</th>\r\n            <th>FA</th>\r\n            <th>Tick</th>\r\n            <th>Total</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {rows}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}