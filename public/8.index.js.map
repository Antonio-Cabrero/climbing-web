{"version":3,"sources":["webpack:///./app/components/user.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js","webpack:///./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./app/components/common/tick-modal/tick-modal.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///./app/components/common/chart/chart.js"],"names":["_react","__webpack_require__","l","b","r","_reactRouterDom","o","_reactRouterBootstrap","_reactBootstrap","_reactBootstrapTable","c","f","m","h","p","e","__esModule","default","User","props","this","_this","__proto__","Object","getPrototypeOf","call","state","showTickModal","userId","_this2","_superagent2","get","_config2","getUrl","getRegion","withCredentials","end","err","res","setState","error","user","body","document","title","getTitle","name","refresh","match","params","nextProps","event","t","currTick","key","value","cell","row","_react2","createElement","Link","to","idProblem","visibility","_reactFontawesome2","icon","comment","length","tooltip","Tooltip","id","OverlayTrigger","placement","overlay","substring","stars","style","whiteSpace","Popover","readOnly","Button","bsSize","bsStyle","onClick","openTickModal","bind","inverse","a","order","x","date","parseInt","y","localeCompare","gradeNumber","spin","size","status","toString","numTicks","ticks","filter","fa","numFas","chart","_chart2","data","_tickModal2","idTick","grade","show","onHide","closeTickModal","Breadcrumb","_auth2","loggedIn","float","LinkContainer","color","Well","numImagesCreated","numImageTags","numVideosCreated","numVideoTags","BootstrapTable","condensed","hover","columnFilter","TableHeaderColumn","dataField","isKey","hidden","dataSort","sortFunc","sortDate","dataAlign","width","dataFormat","formatName","sortGrade","sortComment","formatComment","formatStars","formatFa","formatEdit","exports","obj","_defineProperty2","defineProperties","target","i","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","248","module","293","webpackPolyfill","deprecate","paths","children","defineProperty","320","n","u","d","s","TickModal","TypeError","convertFromDateToString","Date","grades","newDate","_this3","post","send","delete","console","log","alert","_this4","_this5","yesterday","setDate","getDate","Modal","Header","closeButton","Title","Body","FormGroup","ControlLabel","_reactInputCalendar2","format","computableFormat","onChange","onDateChanged","ButtonGroup","DropdownButton","map","g","MenuItem","eventKey","onSelect","onGradeChanged","onStarsChanged","FormControl","componentClass","placeholder","height","onCommentChanged","Footer","save","$export","S","F","$Object","it","desc","core","fails","KEY","exec","fn","exp","toObject","$getPrototypeOf","Chart","val","tick","push","sort","maxValue","Math","max","apply","rows","faWidth","tickWidth","padding","textAlign","verticalAlign","backgroundColor","marginLeft","Table","responsive"],"mappings":"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","file":"8.index.js","sourcesContent":["import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Request from 'superagent';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Tabs, Tab, ButtonToolbar, ButtonGroup, Button, OverlayTrigger, Tooltip, Popover, DropdownButton, MenuItem, Well, Breadcrumb } from 'react-bootstrap';\r\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\r\nimport Chart from './common/chart/chart';\r\nimport TickModal from './common/tick-modal/tick-modal';\r\nimport auth from '../utils/auth.js';\r\nimport config from '../utils/config.js';\r\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\r\nimport { faSpinner, faLock, faUserSecret, faStar, faStarHalf, faCheck, faEdit } from '@fortawesome/fontawesome-free-solid';\r\n\r\nexport default class User extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showTickModal: false\r\n    };\r\n  }\r\n\r\n  refresh(userId) {\r\n    Request.get(config.getUrl(\"users?regionId=\" + config.getRegion() + (userId? \"&id=\" + userId : \"\"))).withCredentials().end((err, res) => {\r\n      if (err) {\r\n        this.setState({error: err});\r\n      } else {\r\n        this.setState({user: res.body});\r\n        document.title=config.getTitle() + \" | \" + res.body.name;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh(this.props.match.params.userId);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.refresh(nextProps.match.params.userId);\r\n  }\r\n\r\n  closeTickModal(event) {\r\n    this.setState({ showTickModal: false });\r\n    this.refresh(this.props.match.params.userId);\r\n  }\r\n\r\n  openTickModal(t, event) {\r\n    this.setState({ currTick: t, showTickModal: true });\r\n  }\r\n\r\n  formatName(cell, row) {\r\n    return <span><Link to={`/problem/${row.idProblem}`}>{row.name}</Link> {row.visibility===1 && <FontAwesomeIcon icon=\"lock\" />}{row.visibility===2 && <FontAwesomeIcon icon=\"user-secret\" />}</span>;\r\n  }\r\n\r\n  formatComment(cell, row) {\r\n    if (row.comment) {\r\n      if (row.comment.length>40) {\r\n        const tooltip = (<Tooltip id={row.idProblem}>{row.comment}</Tooltip>);\r\n        return <OverlayTrigger key={row.idProblem} placement=\"top\" overlay={tooltip}><span>{row.comment.substring(0,40) + \"...\"}</span></OverlayTrigger>;\r\n      } else {\r\n        return row.comment;\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  formatStars(cell, row) {\r\n    var stars = null;\r\n    if (row.stars===0.5) {\r\n      stars = <FontAwesomeIcon icon=\"star-half\" />;\r\n    } else if (row.stars===1.0) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={2}><FontAwesomeIcon icon=\"star\" /></div>;\r\n    } else if (row.stars===1.5) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={3}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star-half\" /></div>;\r\n    } else if (row.stars===2.0) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={4}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /></div>;\r\n    } else if (row.stars===2.5) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={5}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star-half\" /></div>;\r\n    } else if (row.stars===3.0) {\r\n      stars = <div style={{whiteSpace: 'nowrap'}} id={6}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /></div>;\r\n    } else {\r\n      return \"\";\r\n    }\r\n    return <OverlayTrigger placement=\"top\" overlay={\r\n          <Popover id={0} title=\"Guidelines\">\r\n            <FontAwesomeIcon icon=\"star\" /> Nice<br/>\r\n            <FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Very nice<br/>\r\n            <FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Fantastic!\r\n          </Popover>\r\n        }>{stars}</OverlayTrigger>;\r\n  }\r\n\r\n  formatFa(cell, row) {\r\n    if (cell) {\r\n      return <FontAwesomeIcon icon=\"check\" />;\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  formatEdit(cell, row) {\r\n    if (this.state.user.readOnly==false && row.id!=0) {\r\n      return <OverlayTrigger placement=\"top\" overlay={<Tooltip id={row.id}>Edit tick</Tooltip>}><Button bsSize=\"xsmall\" bsStyle=\"primary\" onClick={this.openTickModal.bind(this, row)}><FontAwesomeIcon icon=\"edit\" inverse /></Button></OverlayTrigger>\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  sortDate(a, b, order) {\r\n    const x = a.date? (parseInt(a.date.substring(0,2))<50? \"20\" : \"19\") + a.date : \"\";\r\n    const y = b.date? (parseInt(b.date.substring(0,2))<50? \"20\" : \"19\") + b.date : \"\";\r\n    if (order==='asc') return x.localeCompare(y);\r\n    return y.localeCompare(x);\r\n  }\r\n\r\n  sortGrade(a, b, order) {\r\n    const x = a.gradeNumber? a.gradeNumber : 0;\r\n    const y = b.gradeNumber? b.gradeNumber : 0;\r\n    if (order==='asc') {\r\n      if (x<y) {\r\n        return -1\r\n      } else if (x>y) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    }\r\n    if (y<x) {\r\n      return -1\r\n    } else if (y>x) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  sortComment(a, b, order) {\r\n    const x = a.comment? a.comment : \"\";\r\n    const y = b.comment? b.comment : \"\";\r\n    if (order==='asc') return x.localeCompare(y);\r\n    return y.localeCompare(x);\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.user) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n    if (this.state.error) {\r\n      return <span><h3>{this.state.error.status}</h3>{this.state.error.toString()}</span>;\r\n    }\r\n\r\n    var numTicks = this.state.user.ticks.filter(t => !t.fa).length;\r\n    var numFas = this.state.user.ticks.filter(t => t.fa).length;\r\n\r\n    const chart = this.state.user.ticks.length>0? <Chart data={this.state.user.ticks}/> : null;\r\n\r\n    return (\r\n      <span>\r\n        {this.state.currTick? <TickModal idTick={this.state.currTick.id} idProblem={this.state.currTick.idProblem} date={this.state.currTick.date} comment={this.state.currTick.comment} grade={this.state.currTick.grade} stars={this.state.currTick.stars} show={this.state.showTickModal} onHide={this.closeTickModal.bind(this)}/> : \"\"}\r\n        <Breadcrumb>\r\n          {auth.loggedIn() && this.state.user.readOnly==false?\r\n            <div style={{float: 'right'}}>\r\n              <OverlayTrigger placement=\"top\" overlay={<Tooltip id={this.state.user.id}>Edit user</Tooltip>}>\r\n                <LinkContainer to={`/user/${this.state.user.id}/edit`}><Button bsStyle=\"primary\" bsSize=\"xsmall\"><FontAwesomeIcon icon=\"edit\" inverse /></Button></LinkContainer>\r\n              </OverlayTrigger>\r\n            </div>:\r\n            null\r\n          }\r\n          <Link to={`/`}>Home</Link> / <font color='#777'>{this.state.user.name}</font>\r\n        </Breadcrumb>\r\n        <Well bsSize=\"small\">First ascents: {numFas}<br/>Public ascents: {numTicks}<br/>Pictures taken: {this.state.user.numImagesCreated}<br/>Appearance in pictures: {this.state.user.numImageTags}<br/>Videos created: {this.state.user.numVideosCreated}<br/>Appearance in videos: {this.state.user.numVideoTags}</Well>\r\n        {chart}\r\n        <BootstrapTable\r\n        \tdata={this.state.user.ticks}\r\n          condensed={true}\r\n        \thover={true}\r\n        \tcolumnFilter={false}>\r\n          <TableHeaderColumn dataField=\"idProblem\" isKey={true} hidden={true}>idProblem</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"dateHr\" dataSort={true} sortFunc={this.sortDate.bind(this)} dataAlign=\"center\" width=\"70\">Date</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"name\" dataSort={true} dataFormat={this.formatName.bind(this)} width=\"300\">Name</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"grade\" dataSort={true} sortFunc={this.sortGrade.bind(this)} dataAlign=\"center\" width=\"70\">Grade</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"comment\" dataSort={true} sortFunc={this.sortComment.bind(this)} dataFormat={this.formatComment.bind(this)} width=\"300\">Comment</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"stars\" dataSort={true} dataFormat={this.formatStars.bind(this)} dataAlign=\"center\" width=\"70\">Stars</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"fa\" dataSort={true} dataFormat={this.formatFa.bind(this)} dataAlign=\"center\" width=\"50\">FA</TableHeaderColumn>\r\n          <TableHeaderColumn dataField=\"edit\" dataFormat={this.formatEdit.bind(this)} dataAlign=\"center\" width=\"30\"> </TableHeaderColumn>\r\n        </BootstrapTable>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","import React, {Component} from 'react';\r\nimport { Modal, Button, FormGroup, ControlLabel, FormControl, ButtonGroup, DropdownButton, MenuItem } from 'react-bootstrap';\r\nimport Request from 'superagent';\r\nimport config from '../../../utils/config.js';\r\nimport Calendar from 'react-input-calendar';\r\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\r\nimport { faSpinner, faStar } from '@fortawesome/fontawesome-free-solid';\r\n\r\nexport default class TickModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  refresh(props) {\r\n    var date = null;\r\n    if (props.date) {\r\n      date = props.date;\r\n    } else if (props.idTick==-1) {\r\n      date = config.convertFromDateToString(new Date());\r\n    }\r\n\r\n    this.setState({\r\n      idTick: props.idTick,\r\n      idProblem: props.idProblem,\r\n      date: date,\r\n      comment: props.comment? props.comment : \"\",\r\n      grade: props.grade,\r\n      stars: props.stars? props.stars : 0\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh(this.props);\r\n    Request.get(config.getUrl(\"grades?regionId=\" + config.getRegion())).end((err, res) => {\r\n      this.setState({\r\n        error: err? err : null,\r\n        grades: err? null : res.body\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.refresh(nextProps);\r\n  }\r\n\r\n  onDateChanged(newDate) {\r\n    this.setState({date: newDate});\r\n  }\r\n\r\n  onCommentChanged(e) {\r\n    this.setState({comment: e.target.value});\r\n  }\r\n\r\n  onStarsChanged(stars, e) {\r\n    this.setState({stars: stars});\r\n  }\r\n\r\n  onGradeChanged(grade, e) {\r\n    this.setState({grade: grade});\r\n  }\r\n\r\n  delete(e) {\r\n    Request.post(config.getUrl(\"ticks?regionId=\" + config.getRegion()))\r\n    .withCredentials()\r\n    .send({delete: true, id: this.state.idTick, idProblem: this.state.idProblem, comment: this.state.comment, date: this.state.date, stars: this.state.stars, grade: this.state.grade})\r\n    .end((err, res) => {\r\n      if (err) {\r\n        console.log(err);\r\n        alert(err);\r\n      } else {\r\n        this.props.onHide();\r\n      }\r\n    });\r\n  }\r\n\r\n  save(e) {\r\n    Request.post(config.getUrl(\"ticks?regionId=\" + config.getRegion()))\r\n    .withCredentials()\r\n    .send({delete: false, id: this.state.idTick, idProblem: this.state.idProblem, comment: this.state.comment, date: this.state.date, stars: this.state.stars, grade: this.state.grade})\r\n    .end((err, res) => {\r\n      if (err) {\r\n        console.log(err);\r\n        alert(err);\r\n      } else {\r\n        this.props.onHide();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state || !this.state.idProblem) {\r\n      return <center><FontAwesomeIcon icon=\"spinner\" spin size=\"3x\" /></center>;\r\n    }\r\n\r\n    const yesterday = new Date();\r\n    yesterday.setDate(yesterday.getDate()-1);\r\n\r\n    var stars = \"No stars\";\r\n    if (this.state.stars===1) {\r\n      stars = <span><FontAwesomeIcon icon=\"star\" /> Nice</span>\r\n    } else if (this.state.stars===2) {\r\n      stars = <span><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Very nice</span>\r\n    } else if (this.state.stars===3) {\r\n      stars = <span><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Fantastic!</span>\r\n    }\r\n\r\n    return (\r\n      <Modal show={this.props.show} onHide={this.props.onHide.bind(this)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Tick</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <FormGroup>\r\n            <ControlLabel>Date (yyyy-mm-dd)</ControlLabel><br/>\r\n            <Calendar format='YYYY-MM-DD' computableFormat='YYYY-MM-DD' date={this.state.date} onChange={this.onDateChanged.bind(this)} />\r\n            <ButtonGroup>\r\n              <Button onClick={this.onDateChanged.bind(this, config.convertFromDateToString(yesterday))}>Yesterday</Button>\r\n              <Button onClick={this.onDateChanged.bind(this, config.convertFromDateToString(new Date()))}>Today</Button>\r\n            </ButtonGroup>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <ControlLabel>Grade</ControlLabel><br/>\r\n            <DropdownButton title={this.state.grade} id=\"bg-nested-dropdown\">\r\n              {this.state && this.state.grades && this.state.grades.map((g, i) => { return <MenuItem key={i} eventKey={i} onSelect={this.onGradeChanged.bind(this, g.grade)}>{g.grade}</MenuItem> })}\r\n            </DropdownButton>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <ControlLabel>Stars</ControlLabel><br/>\r\n            <DropdownButton title={stars} id=\"bg-nested-dropdown\">\r\n              <MenuItem eventKey=\"0\" onSelect={this.onStarsChanged.bind(this, 0)}>No stars</MenuItem>\r\n              <MenuItem eventKey=\"1\" onSelect={this.onStarsChanged.bind(this, 1)}><FontAwesomeIcon icon=\"star\" /> Nice</MenuItem>\r\n              <MenuItem eventKey=\"2\" onSelect={this.onStarsChanged.bind(this, 2)}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Very nice</MenuItem>\r\n              <MenuItem eventKey=\"3\" onSelect={this.onStarsChanged.bind(this, 3)}><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /><FontAwesomeIcon icon=\"star\" /> Fantastic!</MenuItem>\r\n            </DropdownButton>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <ControlLabel>Comment</ControlLabel>\r\n            <FormControl componentClass=\"textarea\" placeholder=\"textarea\" style={{height: '100px'}} value={this.state.comment} onChange={this.onCommentChanged.bind(this)} placeholder='Comment' />\r\n          </FormGroup>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <ButtonGroup>\r\n            <Button onClick={this.save.bind(this)} bsStyle=\"success\">Save</Button>\r\n            {this.state.idTick>1? <Button onClick={this.delete.bind(this)} bsStyle=\"warning\">Delete tick</Button> : \"\"}\r\n            <Button onClick={this.props.onHide.bind(this)}>Close</Button>\r\n          </ButtonGroup>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","import React, {Component} from 'react';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nexport default class Chart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    var data = [];\r\n    this.props.data.map(t => {\r\n      var d = data.filter(val => {return val.gradeNumber===t.gradeNumber})\r\n      if (!d[0]) {\r\n        data.push({gradeNumber: t.gradeNumber, grade: t.grade, fa: (t.fa? 1 : 0), tick: (t.fa? 0 : 1)});\r\n      } else {\r\n        if (t.fa) {\r\n          d[0].fa++;\r\n        } else {\r\n          d[0].tick++;\r\n        }\r\n      }\r\n    });\r\n    data.sort((a,b) => {return b.gradeNumber-a.gradeNumber});\r\n    const maxValue = Math.max.apply(Math, data.map(d => {return d.fa+d.tick}));\r\n\r\n    const rows = data.map((d, i) => {\r\n      const faWidth = (d.fa/maxValue*100) + '%';\r\n      const tickWidth = (d.tick/maxValue*100) + '%';\r\n      const style = {padding: 0, textAlign: 'center'};\r\n      return (\r\n        <tr key={i}>\r\n          <td style={style}>{d.grade}</td>\r\n          <td style={style}>{d.fa}</td>\r\n          <td style={style}>{d.tick}</td>\r\n          <td style={style}><strong>{d.fa+d.tick}</strong></td>\r\n          <td style={{width: '100%', verticalAlign: 'middle'}}>\r\n            <div style={{width: faWidth, height: '10px', backgroundColor: '#3182bd', float: 'left'}}></div>\r\n            <div style={{width: tickWidth, height: '10px', backgroundColor: '#6baed6', marginLeft: faWidth}}></div>\r\n         </td>\r\n        </tr>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <Table responsive>\r\n        <thead>\r\n          <tr>\r\n            <th>Grade</th>\r\n            <th>FA</th>\r\n            <th>Tick</th>\r\n            <th>Total</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {rows}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}